import{g as Su,R as K,a as Uo,r as S,b as Ya,c as wu,d as xu,j as Pt}from"./index-BKPzuI1O.js";var Cu=Object.defineProperty,Eu=(t,r,n)=>r in t?Cu(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,fe=(t,r,n)=>(Eu(t,typeof r!="symbol"?r+"":r,n),n),qa=(t,r,n)=>{if(!r.has(t))throw TypeError("Cannot "+n)},A=(t,r,n)=>(qa(t,r,"read from private field"),n?n.call(t):r.get(t)),X=(t,r,n)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,n)},V=(t,r,n,a)=>(qa(t,r,"write to private field"),r.set(t,n),n),dr=(t,r,n)=>(qa(t,r,"access private method"),n),Ws=(t,r,n)=>{if(!r.has(t))throw TypeError("Cannot "+n)},oe=(t,r,n)=>(Ws(t,r,"read from private field"),n?n.call(t):r.get(t)),xt=(t,r,n)=>{if(r.has(t))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(t):r.set(t,n)},pt=(t,r,n,a)=>(Ws(t,r,"write to private field"),r.set(t,n),n);const Ys="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIGcocil7aWYocj09PSIvIilyZXR1cm57cGFyZW50Om51bGwsbmFtZToiIn07Y29uc3QgZT1yLnNwbGl0KCIvIikuZmlsdGVyKGk9PmkubGVuZ3RoPjApO2lmKGUubGVuZ3RoPT09MCl0aHJvdyBFcnJvcigiSW52YWxpZCBwYXRoIik7Y29uc3Qgbj1lW2UubGVuZ3RoLTFdLGE9Ii8iK2Uuc2xpY2UoMCwtMSkuam9pbigiLyIpO3JldHVybntuYW1lOm4scGFyZW50OmF9fWFzeW5jIGZ1bmN0aW9uIHUocixlKXtjb25zdHtwYXJlbnQ6bixuYW1lOmF9PWcocik7aWYobj09bnVsbClyZXR1cm4gYXdhaXQgbmF2aWdhdG9yLnN0b3JhZ2UuZ2V0RGlyZWN0b3J5KCk7Y29uc3QgaT1uLnNwbGl0KCIvIikuZmlsdGVyKHQ9PnQubGVuZ3RoPjApO3RyeXtsZXQgdD1hd2FpdCBuYXZpZ2F0b3Iuc3RvcmFnZS5nZXREaXJlY3RvcnkoKTtmb3IoY29uc3QgcyBvZiBpKXQ9YXdhaXQgdC5nZXREaXJlY3RvcnlIYW5kbGUocyx7Y3JlYXRlOmUuY3JlYXRlfSk7cmV0dXJuIGUuaXNGaWxlP2F3YWl0IHQuZ2V0RmlsZUhhbmRsZShhLHtjcmVhdGU6ZS5jcmVhdGV9KTphd2FpdCB0LmdldERpcmVjdG9yeUhhbmRsZShhLHtjcmVhdGU6ZS5jcmVhdGV9KX1jYXRjaHtyZXR1cm4gbnVsbH19Y29uc3QgZj17fTtzZWxmLm9ubWVzc2FnZT1hc3luYyByPT57dmFyIGk7Y29uc3R7ZXZ0VHlwZTplLGFyZ3M6bn09ci5kYXRhO2xldCBhPWZbbi5maWxlUGF0aF07dHJ5e2xldCB0O2NvbnN0IHM9W107aWYoZT09PSJyZWdpc3RlciIpe2NvbnN0IGw9YXdhaXQgdShuLmZpbGVQYXRoLHtjcmVhdGU6ITAsaXNGaWxlOiEwfSk7aWYobD09bnVsbCl0aHJvdyBFcnJvcihgbm90IGZvdW5kIGZpbGU6ICR7bi5maWxlUGF0aH1gKTthPWF3YWl0IGwuY3JlYXRlU3luY0FjY2Vzc0hhbmRsZSgpLGZbbi5maWxlUGF0aF09YX1lbHNlIGlmKGU9PT0iY2xvc2UiKWEuY2xvc2UoKSxkZWxldGUgZltuLmZpbGVQYXRoXTtlbHNlIGlmKGU9PT0idHJ1bmNhdGUiKWEudHJ1bmNhdGUobi5uZXdTaXplKTtlbHNlIGlmKGU9PT0id3JpdGUiKXtjb25zdHtkYXRhOmwsb3B0czpvfT1yLmRhdGEuYXJnczt0PWEud3JpdGUobCxvKX1lbHNlIGlmKGU9PT0icmVhZCIpe2NvbnN0e29mZnNldDpsLHNpemU6b309ci5kYXRhLmFyZ3MsYz1uZXcgQXJyYXlCdWZmZXIobyksZD1hLnJlYWQoYyx7YXQ6bH0pO3Q9ZD09PW8/YzooKGk9Yy50cmFuc2Zlcik9PW51bGw/dm9pZCAwOmkuY2FsbChjLGQpKT8/Yy5zbGljZSgwLGQpLHMucHVzaCh0KX1lbHNlIGU9PT0iZ2V0U2l6ZSI/dD1hLmdldFNpemUoKTplPT09ImZsdXNoIiYmYS5mbHVzaCgpO3NlbGYucG9zdE1lc3NhZ2Uoe2V2dFR5cGU6ImNhbGxiYWNrIixjYklkOnIuZGF0YS5jYklkLHJldHVyblZhbDp0fSxzKX1jYXRjaCh0KXtjb25zdCBzPXQ7c2VsZi5wb3N0TWVzc2FnZSh7ZXZ0VHlwZToidGhyb3dFcnJvciIsY2JJZDpyLmRhdGEuY2JJZCxlcnJNc2c6cy5uYW1lKyI6ICIrcy5tZXNzYWdlK2AKYCtKU09OLnN0cmluZ2lmeShyLmRhdGEpfSl9fX0pKCk7Ci8vIyBzb3VyY2VNYXBwaW5nVVJMPW9wZnMtd29ya2VyLVFoOG1Wa295LmpzLm1hcAo=",To=typeof window<"u"&&window.Blob&&new Blob([atob(Ys)],{type:"text/javascript;charset=utf-8"});function Uu(t){let r;try{if(r=To&&(window.URL||window.webkitURL).createObjectURL(To),!r)throw"";const n=new Worker(r,{name:t==null?void 0:t.name});return n.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(r)}),n}catch{return new Worker("data:application/javascript;base64,"+Ys,{name:t==null?void 0:t.name})}finally{r&&(window.URL||window.webkitURL).revokeObjectURL(r)}}async function Tu(t){const r=Au();return await r("register",{filePath:t}),{read:async(n,a)=>await r("read",{filePath:t,offset:n,size:a}),write:async(n,a)=>await r("write",{filePath:t,data:n,opts:a},[ArrayBuffer.isView(n)?n.buffer:n]),close:async()=>await r("close",{filePath:t}),truncate:async n=>await r("truncate",{filePath:t,newSize:n}),getSize:async()=>await r("getSize",{filePath:t}),flush:async()=>await r("flush",{filePath:t})}}const _i=[];let zn=0;function Au(){if(_i.length<3){const r=t();return _i.push(r),r}else{const r=_i[zn];return zn=(zn+1)%_i.length,r}function t(){const r=new Uu;let n=0,a={};return r.onmessage=({data:s})=>{var u,f;s.evtType==="callback"?(u=a[s.cbId])==null||u.resolve(s.returnVal):s.evtType==="throwError"&&((f=a[s.cbId])==null||f.reject(Error(s.errMsg))),delete a[s.cbId]},async function(s,u,f=[]){n+=1;const l=new Promise((m,g)=>{a[n]={resolve:m,reject:g}});return r.postMessage({cbId:n,evtType:s,args:u},f),l}}}function fn(t){if(t==="/")return{parent:null,name:""};const r=t.split("/").filter(s=>s.length>0);if(r.length===0)throw Error("Invalid path");const n=r[r.length-1],a="/"+r.slice(0,-1).join("/");return{name:n,parent:a}}async function Lt(t,r){const{parent:n,name:a}=fn(t);if(n==null)return await navigator.storage.getDirectory();const s=n.split("/").filter(u=>u.length>0);try{let u=await navigator.storage.getDirectory();for(const f of s)u=await u.getDirectoryHandle(f,{create:r.create});return r.isFile?await u.getFileHandle(a,{create:r.create}):await u.getDirectoryHandle(a,{create:r.create})}catch{return null}}async function qs(t){const{parent:r,name:n}=fn(t);if(r==null){const s=await navigator.storage.getDirectory();for await(const u of s.keys())await s.removeEntry(u,{recursive:!0});return}const a=await Lt(r,{create:!1,isFile:!1});a!=null&&await a.removeEntry(n,{recursive:!0})}function na(t,r){return`${t}/${r}`.replace("//","/")}function xr(t){return new Ks(t)}var lt,Ri,$r;class Ks{constructor(r){xt(this,lt,void 0),xt(this,Ri,void 0),xt(this,$r,void 0),pt(this,lt,r);const{parent:n,name:a}=fn(r);pt(this,Ri,a),pt(this,$r,n)}get kind(){return"dir"}get name(){return oe(this,Ri)}get path(){return oe(this,lt)}get parent(){return oe(this,$r)==null?null:xr(oe(this,$r))}async create(){return await Lt(oe(this,lt),{create:!0,isFile:!1}),xr(oe(this,lt))}async exists(){return await Lt(oe(this,lt),{create:!1,isFile:!1})instanceof FileSystemDirectoryHandle}async remove(){await qs(oe(this,lt))}async children(){const r=await Lt(oe(this,lt),{create:!1,isFile:!1});if(r==null)return[];const n=[];for await(const a of r.values())n.push((a.kind==="file"?Qt:xr)(na(oe(this,lt),a.name)));return n}async copyTo(r){if(!await this.exists())throw Error(`dir ${this.path} not exists`);const n=await r.exists()?xr(na(r.path,this.name)):r;return await n.create(),await Promise.all((await this.children()).map(a=>a.copyTo(n))),n}async moveTo(r){const n=await this.copyTo(r);return await this.remove(),n}}lt=new WeakMap,Ri=new WeakMap,$r=new WeakMap;const Ao=new Map;function Qt(t){const r=Ao.get(t)??new aa(t);return Ao.set(t,r),r}async function Ka(t,r,n={overwrite:!0}){if(r instanceof aa){await Ka(t,await r.stream(),n);return}const a=await(t instanceof aa?t:Qt(t)).createWriter();try{if(n.overwrite&&await a.truncate(0),r instanceof ReadableStream){const s=r.getReader();for(;;){const{done:u,value:f}=await s.read();if(u)break;await a.write(f)}}else await a.write(r)}catch(s){throw s}finally{await a.close()}}var ct,jr,Oi,It,Bi,Hr;const Fu=class Xs{constructor(r){xt(this,ct,void 0),xt(this,jr,void 0),xt(this,Oi,void 0),xt(this,It,0),xt(this,Bi,(()=>{let s=null;return()=>(pt(this,It,oe(this,It)+1),s??(s=new Promise(async(u,f)=>{try{const l=await Tu(oe(this,ct));u([l,async()=>{pt(this,It,oe(this,It)-1),!(oe(this,It)>0)&&(s=null,await l.close())}])}catch(l){f(l)}})))})()),xt(this,Hr,!1),pt(this,ct,r);const{parent:n,name:a}=fn(r);pt(this,Oi,a),pt(this,jr,n)}get kind(){return"file"}get path(){return oe(this,ct)}get name(){return oe(this,Oi)}get parent(){return oe(this,jr)==null?null:xr(oe(this,jr))}async createWriter(){if(oe(this,Hr))throw Error("Other writer have not been closed");pt(this,Hr,!0);const r=new TextEncoder,[n,a]=await oe(this,Bi).call(this);let s=await n.getSize(),u=!1;return{write:async(f,l={})=>{if(u)throw Error("Writer is closed");const m=typeof f=="string"?r.encode(f):f,g=l.at??s,p=m.byteLength;return s=g+p,await n.write(m,{at:g})},truncate:async f=>{if(u)throw Error("Writer is closed");await n.truncate(f),s>f&&(s=f)},flush:async()=>{if(u)throw Error("Writer is closed");await n.flush()},close:async()=>{if(u)throw Error("Writer is closed");u=!0,pt(this,Hr,!1),await a()}}}async createReader(){const[r,n]=await oe(this,Bi).call(this);let a=!1,s=0;return{read:async(u,f={})=>{if(a)throw Error("Reader is closed");const l=f.at??s,m=await r.read(l,u);return s=l+m.byteLength,m},getSize:async()=>{if(a)throw Error("Reader is closed");return await r.getSize()},close:async()=>{if(a)throw Error("Reader is closed");a=!0,await n()}}}async text(){return new TextDecoder().decode(await this.arrayBuffer())}async arrayBuffer(){const r=await Lt(oe(this,ct),{create:!1,isFile:!0});return r==null?new ArrayBuffer(0):(await r.getFile()).arrayBuffer()}async stream(){const r=await Lt(oe(this,ct),{create:!1,isFile:!0});return r==null?new ReadableStream({pull:n=>{n.close()}}):(await r.getFile()).stream()}async getSize(){const r=await Lt(oe(this,ct),{create:!1,isFile:!0});return r==null?0:(await r.getFile()).size}async exists(){return await Lt(oe(this,ct),{create:!1,isFile:!0})instanceof FileSystemFileHandle}async remove(){if(oe(this,It))throw Error("exists unclosed reader/writer");await qs(oe(this,ct))}async copyTo(r){if(!await this.exists())throw Error(`file ${this.path} not exists`);if(r instanceof Xs)return Qt(r.path)===this?this:(await Ka(r.path,this),Qt(r.path));if(r instanceof Ks)return await this.copyTo(Qt(na(r.path,this.name)));throw Error("Illegal target type")}async moveTo(r){const n=await this.copyTo(r);return await this.remove(),n}};ct=new WeakMap,jr=new WeakMap,Oi=new WeakMap,It=new WeakMap,Bi=new WeakMap,Hr=new WeakMap;let aa=Fu;const Xa="/.opfs-tools-temp-dir";async function Zs(t){try{if(t.kind==="file"){const r=await t.createWriter();await r.truncate(0),await r.close(),await t.remove()}else await t.remove();return!0}catch(r){return console.warn(r),!1}}function Pu(){setInterval(async()=>{for(const t of await xr(Xa).children()){const r=/^\d+-(\d+)$/.exec(t.name);(r==null||Date.now()-Number(r[1])>2592e5)&&await Zs(t)}},60*1e3)}const oa=[];let Fo=!1;async function Iu(){const t="OPFS_TOOLS_EXPIRES_TMP_FILES";Fo||(Fo=!0,self.addEventListener("unload",()=>{oa.length!==0&&localStorage.setItem(t,`${localStorage.getItem(t)??""},${oa.join(",")}`)}));let r=localStorage.getItem(t)??"";for(const n of r.split(","))n.length!==0&&await Zs(Qt(`${Xa}/${n}`))&&(r=r.replace(n,""));localStorage.setItem(t,r.replace(/,{2,}/g,","))}(async function(){Pu(),await Iu()})();function Qs(){const t=`${Math.random().toString().slice(2)}-${Date.now()}`;return oa.push(t),Qt(`${Xa}/${t}`)}function ku(t){return t instanceof Error?String(t):typeof t=="object"?JSON.stringify(t,(r,n)=>n instanceof Error?String(n):n):String(t)}function Ru(){const t=new Date;return`${t.getHours()}:${t.getMinutes()}:${t.getSeconds()}.${t.getMilliseconds()}`}let Js=1;const el=Qs();let ii=null;(async function(){ii=await el.createWriter()})();const Po=["debug","info","warn","error"].reduce((t,r,n)=>Object.assign(t,{[r]:(...a)=>{Js<=n&&(console[r](...a),ii==null||ii.write(`[${r}][${Ru()}]  ${a.map(s=>ku(s)).join(" ")}
`))}}),{}),mi=new Map,ve={setLogLevel:t=>{Js=mi.get(t)??1},...Po,create:t=>Object.fromEntries(Object.entries(Po).map(([r,n])=>[r,(...a)=>n(t,...a)])),async dump(){return await(ii==null?void 0:ii.flush()),await el.text()}};mi.set(ve.debug,0);mi.set(ve.info,1);mi.set(ve.warn,2);mi.set(ve.error,3);const Ou=()=>{let t,r=16.6;self.onmessage=n=>{n.data.event==="start"&&(self.clearInterval(t),t=self.setInterval(()=>{self.postMessage({})},r)),n.data.event==="stop"&&self.clearInterval(t)}},Bu=()=>{const t=new Blob([`(${Ou.toString()})()`]),r=URL.createObjectURL(t);return new Worker(r)},fr=new Map;let sa=1;const la=Bu();la.onmessage=()=>{sa+=1;for(const[t,r]of fr.entries())sa%t===0&&r.forEach(n=>n())};const Lu=(t,r)=>{const n=Math.round(r/16.6),a=fr.get(n)??new Set;return a.add(t),fr.set(n,a),fr.size===1&&a.size===1&&la.postMessage({event:"start"}),()=>{a.delete(t),a.size===0&&fr.delete(n),fr.size===0&&(sa=0,la.postMessage({event:"stop"}))}};class Mu{constructor(r,n,a){this.length_=r,this.scaleFactor_=(r-1)/n,this.interpolate=this.cubic,a.method==="point"?this.interpolate=this.point:a.method==="linear"?this.interpolate=this.linear:a.method==="sinc"&&(this.interpolate=this.sinc),this.tangentFactor_=1-Math.max(0,Math.min(1,a.tension||0)),this.sincFilterSize_=a.sincFilterSize||1,this.kernel_=Nu(a.sincWindow||zu)}point(r,n){return this.getClippedInput_(Math.round(this.scaleFactor_*r),n)}linear(r,n){r=this.scaleFactor_*r;let a=Math.floor(r);return r-=a,(1-r)*this.getClippedInput_(a,n)+r*this.getClippedInput_(a+1,n)}cubic(r,n){r=this.scaleFactor_*r;let a=Math.floor(r),s=[this.getTangent_(a,n),this.getTangent_(a+1,n)],u=[this.getClippedInput_(a,n),this.getClippedInput_(a+1,n)];r-=a;let f=r*r,l=r*f;return(2*l-3*f+1)*u[0]+(l-2*f+r)*s[0]+(-2*l+3*f)*u[1]+(l-f)*s[1]}sinc(r,n){r=this.scaleFactor_*r;let a=Math.floor(r),s=a-this.sincFilterSize_+1,u=a+this.sincFilterSize_,f=0;for(let l=s;l<=u;l++)f+=this.kernel_(r-l)*this.getClippedInput_(l,n);return f}getTangent_(r,n){return this.tangentFactor_*(this.getClippedInput_(r+1,n)-this.getClippedInput_(r-1,n))/2}getClippedInput_(r,n){return 0<=r&&r<this.length_?n[r]:0}}function zu(t){return Math.exp(-t/2*t/2)}function Nu(t){return function(r){return Du(r)*t(r)}}function Du(t){return t===0?1:Math.sin(Math.PI*t)/(Math.PI*t)}class $u{constructor(r,n,a){let s=2*Math.PI*a/n,u=0;this.filters=[];for(let f=0;f<=r;f++)f-r/2===0?this.filters[f]=s:(this.filters[f]=Math.sin(s*(f-r/2))/(f-r/2),this.filters[f]*=.54-.46*Math.cos(2*Math.PI*f/r)),u=u+this.filters[f];for(let f=0;f<=r;f++)this.filters[f]/=u;this.z=this.initZ_()}filter(r){this.z.buf[this.z.pointer]=r;let n=0;for(let a=0,s=this.z.buf.length;a<s;a++)n+=this.filters[a]*this.z.buf[(this.z.pointer+a)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,n}reset(){this.z=this.initZ_()}initZ_(){let r=[];for(let n=0;n<this.filters.length-1;n++)r.push(0);return{buf:r,pointer:0}}}class ju{constructor(r,n,a){let s=[];for(let u=0;u<r;u++)s.push(this.getCoeffs_({Fs:n,Fc:a,Q:.5/Math.sin(Math.PI/(r*2)*(u+.5))}));this.stages=[];for(let u=0;u<s.length;u++)this.stages[u]={b0:s[u].b[0],b1:s[u].b[1],b2:s[u].b[2],a1:s[u].a[0],a2:s[u].a[1],k:s[u].k,z:[0,0]}}filter(r){let n=r;for(let a=0,s=this.stages.length;a<s;a++)n=this.runStage_(a,n);return n}getCoeffs_(r){let n={};n.z=[0,0],n.a=[],n.b=[];let a=this.preCalc_(r,n);return n.k=1,n.b.push((1-a.cw)/(2*a.a0)),n.b.push(2*n.b[0]),n.b.push(n.b[0]),n}preCalc_(r,n){let a={},s=2*Math.PI*r.Fc/r.Fs;return a.alpha=Math.sin(s)/(2*r.Q),a.cw=Math.cos(s),a.a0=1+a.alpha,n.a0=a.a0,n.a.push(-2*a.cw/a.a0),n.k=1,n.a.push((1-a.alpha)/a.a0),a}runStage_(r,n){let a=n*this.stages[r].k-this.stages[r].a1*this.stages[r].z[0]-this.stages[r].a2*this.stages[r].z[1],s=this.stages[r].b0*a+this.stages[r].b1*this.stages[r].z[0]+this.stages[r].b2*this.stages[r].z[1];return this.stages[r].z[1]=this.stages[r].z[0],this.stages[r].z[0]=a,s}reset(){for(let r=0;r<this.stages.length;r++)this.stages[r].z=[0,0]}}const Hu={point:!1,linear:!1,cubic:!0,sinc:!0},Io={IIR:16,FIR:71},Vu={IIR:ju,FIR:$u};function Gu(t,r,n,a={}){let s=(n-r)/r+1,u=new Float64Array(t.length*s);a.method=a.method||"cubic";let f=new Mu(t.length,u.length,{method:a.method,tension:a.tension||0,sincFilterSize:a.sincFilterSize||6,sincWindow:a.sincWindow||void 0});if(a.LPF===void 0&&(a.LPF=Hu[a.method]),a.LPF){a.LPFType=a.LPFType||"IIR";const l=Vu[a.LPFType];if(n>r){let m=new l(a.LPFOrder||Io[a.LPFType],n,r/2);Wu(t,u,f,m)}else{let m=new l(a.LPFOrder||Io[a.LPFType],r,n/2);Yu(t,u,f,m)}}else tl(t,u,f);return u}function tl(t,r,n){for(let a=0,s=r.length;a<s;a++)r[a]=n.interpolate(a,t)}function Wu(t,r,n,a){for(let s=0,u=r.length;s<u;s++)r[s]=a.filter(n.interpolate(s,t));a.reset();for(let s=r.length-1;s>=0;s--)r[s]=a.filter(r[s])}function Yu(t,r,n,a){for(let s=0,u=t.length;s<u;s++)t[s]=a.filter(t[s]);a.reset();for(let s=t.length-1;s>=0;s--)t[s]=a.filter(t[s]);tl(t,r,n)}function qu(t){const r=new Float32Array(t.map(a=>a.length).reduce((a,s)=>a+s));let n=0;for(const a of t)r.set(a,n),n+=a.length;return r}function Ku(t){const r=[];for(let n=0;n<t.length;n+=1)for(let a=0;a<t[n].length;a+=1)r[a]==null&&(r[a]=[]),r[a].push(t[n][a]);return r.map(qu)}function Xu(t){if(t.format==="f32-planar"){const r=[];for(let n=0;n<t.numberOfChannels;n+=1){const a=t.allocationSize({planeIndex:n}),s=new ArrayBuffer(a);t.copyTo(s,{planeIndex:n}),r.push(new Float32Array(s))}return r}else if(t.format==="s16"){const r=new ArrayBuffer(t.allocationSize({planeIndex:0}));return t.copyTo(r,{planeIndex:0}),Zu(new Int16Array(r),t.numberOfChannels)}throw Error("Unsupported audio data format")}function Zu(t,r){const n=t.length/r,a=Array.from({length:r},()=>new Float32Array(n));for(let s=0;s<n;s++)for(let u=0;u<r;u++){const f=t[s*r+u];a[u][s]=f/32768}return a}function rl(t){return Array(t.numberOfChannels).fill(0).map((r,n)=>t.getChannelData(n))}async function Qu(t,r,n){const a=t.length,s=Array(n.chanCount).fill(0).map(()=>new Float32Array(0));if(a===0)return s;const u=Math.max(...t.map(g=>g.length));if(u===0)return s;if(globalThis.OfflineAudioContext==null)return t.map(g=>new Float32Array(Gu(g,r,n.rate,{method:"sinc",LPF:!1})));const f=new globalThis.OfflineAudioContext(n.chanCount,u*n.rate/r,n.rate),l=f.createBufferSource(),m=f.createBuffer(a,u,r);return t.forEach((g,p)=>m.copyToChannel(g,p)),l.buffer=m,l.connect(f.destination),l.start(),rl(await f.startRendering())}function il(t){return new Promise(r=>{const n=Lu(()=>{n(),r()},t)})}function ko(t,r,n){const a=n-r,s=new Float32Array(a);let u=0;for(;u<a;)s[u]=t[(r+u)%t.length],u+=1;return s}function nl(t,r){let n=!1;async function a(){const s=t.getReader();for(;!n;){const{value:u,done:f}=await s.read();if(f){r.onDone();return}await r.onChunk(u)}s.releaseLock(),await t.cancel()}return a().catch(ve.error),()=>{n=!0}}function Ju(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var al={};(function(t){var r=function(){var e=new Date,o=4,c=3,d=2,h=1,y=o,v={setLogLevel:function(b){b==this.debug?y=h:b==this.info?y=d:b==this.warn?y=c:(b==this.error,y=o)},debug:function(b,w){console.debug===void 0&&(console.debug=console.log),h>=y&&console.debug("["+r.getDurationString(new Date-e,1e3)+"]","["+b+"]",w)},log:function(b,w){this.debug(b.msg)},info:function(b,w){d>=y&&console.info("["+r.getDurationString(new Date-e,1e3)+"]","["+b+"]",w)},warn:function(b,w){c>=y&&console.warn("["+r.getDurationString(new Date-e,1e3)+"]","["+b+"]",w)},error:function(b,w){o>=y&&console.error("["+r.getDurationString(new Date-e,1e3)+"]","["+b+"]",w)}};return v}();r.getDurationString=function(e,o){var c;function d(x,C){for(var U=""+x,T=U.split(".");T[0].length<C;)T[0]="0"+T[0];return T.join(".")}e<0?(c=!0,e=-e):c=!1;var h=o||1,y=e/h,v=Math.floor(y/3600);y-=v*3600;var b=Math.floor(y/60);y-=b*60;var w=y*1e3;return y=Math.floor(y),w-=y*1e3,w=Math.floor(w),(c?"-":"")+v+":"+d(b,2)+":"+d(y,2)+"."+d(w,3)},r.printRanges=function(e){var o=e.length;if(o>0){for(var c="",d=0;d<o;d++)d>0&&(c+=","),c+="["+r.getDurationString(e.start(d))+","+r.getDurationString(e.end(d))+"]";return c}else return"(empty)"},t.Log=r;var n=function(e){if(e instanceof ArrayBuffer)this.buffer=e,this.dataview=new DataView(e);else throw"Needs an array buffer";this.position=0};n.prototype.getPosition=function(){return this.position},n.prototype.getEndPosition=function(){return this.buffer.byteLength},n.prototype.getLength=function(){return this.buffer.byteLength},n.prototype.seek=function(e){var o=Math.max(0,Math.min(this.buffer.byteLength,e));return this.position=isNaN(o)||!isFinite(o)?0:o,!0},n.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},n.prototype.readAnyInt=function(e,o){var c=0;if(this.position+e<=this.buffer.byteLength){switch(e){case 1:o?c=this.dataview.getInt8(this.position):c=this.dataview.getUint8(this.position);break;case 2:o?c=this.dataview.getInt16(this.position):c=this.dataview.getUint16(this.position);break;case 3:if(o)throw"No method for reading signed 24 bits values";c=this.dataview.getUint8(this.position)<<16,c|=this.dataview.getUint8(this.position+1)<<8,c|=this.dataview.getUint8(this.position+2);break;case 4:o?c=this.dataview.getInt32(this.position):c=this.dataview.getUint32(this.position);break;case 8:if(o)throw"No method for reading signed 64 bits values";c=this.dataview.getUint32(this.position)<<32,c|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+e}return this.position+=e,c}else throw"Not enough bytes in buffer"},n.prototype.readUint8=function(){return this.readAnyInt(1,!1)},n.prototype.readUint16=function(){return this.readAnyInt(2,!1)},n.prototype.readUint24=function(){return this.readAnyInt(3,!1)},n.prototype.readUint32=function(){return this.readAnyInt(4,!1)},n.prototype.readUint64=function(){return this.readAnyInt(8,!1)},n.prototype.readString=function(e){if(this.position+e<=this.buffer.byteLength){for(var o="",c=0;c<e;c++)o+=String.fromCharCode(this.readUint8());return o}else throw"Not enough bytes in buffer"},n.prototype.readCString=function(){for(var e=[];;){var o=this.readUint8();if(o!==0)e.push(o);else break}return String.fromCharCode.apply(null,e)},n.prototype.readInt8=function(){return this.readAnyInt(1,!0)},n.prototype.readInt16=function(){return this.readAnyInt(2,!0)},n.prototype.readInt32=function(){return this.readAnyInt(4,!0)},n.prototype.readInt64=function(){return this.readAnyInt(8,!1)},n.prototype.readUint8Array=function(e){for(var o=new Uint8Array(e),c=0;c<e;c++)o[c]=this.readUint8();return o},n.prototype.readInt16Array=function(e){for(var o=new Int16Array(e),c=0;c<e;c++)o[c]=this.readInt16();return o},n.prototype.readUint16Array=function(e){for(var o=new Int16Array(e),c=0;c<e;c++)o[c]=this.readUint16();return o},n.prototype.readUint32Array=function(e){for(var o=new Uint32Array(e),c=0;c<e;c++)o[c]=this.readUint32();return o},n.prototype.readInt32Array=function(e){for(var o=new Int32Array(e),c=0;c<e;c++)o[c]=this.readInt32();return o},t.MP4BoxStream=n;var a=function(e,o,c){this._byteOffset=o||0,e instanceof ArrayBuffer?this.buffer=e:typeof e=="object"?(this.dataView=e,o&&(this._byteOffset+=o)):this.buffer=new ArrayBuffer(e||0),this.position=0,this.endianness=c??a.LITTLE_ENDIAN};a.prototype={},a.prototype.getPosition=function(){return this.position},a.prototype._realloc=function(e){if(this._dynamicSize){var o=this._byteOffset+this.position+e,c=this._buffer.byteLength;if(o<=c){o>this._byteLength&&(this._byteLength=o);return}for(c<1&&(c=1);o>c;)c*=2;var d=new ArrayBuffer(c),h=new Uint8Array(this._buffer),y=new Uint8Array(d,0,h.length);y.set(h),this.buffer=d,this._byteLength=o}},a.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),o=new Uint8Array(e),c=new Uint8Array(this._buffer,0,o.length);o.set(c),this.buffer=e}},a.BIG_ENDIAN=!1,a.LITTLE_ENDIAN=!0,a.prototype._byteLength=0,Object.defineProperty(a.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(a.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(a.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(a.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}}),a.prototype.seek=function(e){var o=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(o)||!isFinite(o)?0:o},a.prototype.isEof=function(){return this.position>=this._byteLength},a.prototype.mapUint8Array=function(e){this._realloc(e*1);var o=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,o},a.prototype.readInt32Array=function(e,o){e=e??this.byteLength-this.position/4;var c=new Int32Array(e);return a.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,e*c.BYTES_PER_ELEMENT),a.arrayToNative(c,o??this.endianness),this.position+=c.byteLength,c},a.prototype.readInt16Array=function(e,o){e=e??this.byteLength-this.position/2;var c=new Int16Array(e);return a.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,e*c.BYTES_PER_ELEMENT),a.arrayToNative(c,o??this.endianness),this.position+=c.byteLength,c},a.prototype.readInt8Array=function(e){e=e??this.byteLength-this.position;var o=new Int8Array(e);return a.memcpy(o.buffer,0,this.buffer,this.byteOffset+this.position,e*o.BYTES_PER_ELEMENT),this.position+=o.byteLength,o},a.prototype.readUint32Array=function(e,o){e=e??this.byteLength-this.position/4;var c=new Uint32Array(e);return a.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,e*c.BYTES_PER_ELEMENT),a.arrayToNative(c,o??this.endianness),this.position+=c.byteLength,c},a.prototype.readUint16Array=function(e,o){e=e??this.byteLength-this.position/2;var c=new Uint16Array(e);return a.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,e*c.BYTES_PER_ELEMENT),a.arrayToNative(c,o??this.endianness),this.position+=c.byteLength,c},a.prototype.readUint8Array=function(e){e=e??this.byteLength-this.position;var o=new Uint8Array(e);return a.memcpy(o.buffer,0,this.buffer,this.byteOffset+this.position,e*o.BYTES_PER_ELEMENT),this.position+=o.byteLength,o},a.prototype.readFloat64Array=function(e,o){e=e??this.byteLength-this.position/8;var c=new Float64Array(e);return a.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,e*c.BYTES_PER_ELEMENT),a.arrayToNative(c,o??this.endianness),this.position+=c.byteLength,c},a.prototype.readFloat32Array=function(e,o){e=e??this.byteLength-this.position/4;var c=new Float32Array(e);return a.memcpy(c.buffer,0,this.buffer,this.byteOffset+this.position,e*c.BYTES_PER_ELEMENT),a.arrayToNative(c,o??this.endianness),this.position+=c.byteLength,c},a.prototype.readInt32=function(e){var o=this._dataView.getInt32(this.position,e??this.endianness);return this.position+=4,o},a.prototype.readInt16=function(e){var o=this._dataView.getInt16(this.position,e??this.endianness);return this.position+=2,o},a.prototype.readInt8=function(){var e=this._dataView.getInt8(this.position);return this.position+=1,e},a.prototype.readUint32=function(e){var o=this._dataView.getUint32(this.position,e??this.endianness);return this.position+=4,o},a.prototype.readUint16=function(e){var o=this._dataView.getUint16(this.position,e??this.endianness);return this.position+=2,o},a.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e},a.prototype.readFloat32=function(e){var o=this._dataView.getFloat32(this.position,e??this.endianness);return this.position+=4,o},a.prototype.readFloat64=function(e){var o=this._dataView.getFloat64(this.position,e??this.endianness);return this.position+=8,o},a.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,a.memcpy=function(e,o,c,d,h){var y=new Uint8Array(e,o,h),v=new Uint8Array(c,d,h);y.set(v)},a.arrayToNative=function(e,o){return o==this.endianness?e:this.flipArrayEndianness(e)},a.nativeToEndian=function(e,o){return this.endianness==o?e:this.flipArrayEndianness(e)},a.flipArrayEndianness=function(e){for(var o=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),c=0;c<e.byteLength;c+=e.BYTES_PER_ELEMENT)for(var d=c+e.BYTES_PER_ELEMENT-1,h=c;d>h;d--,h++){var y=o[h];o[h]=o[d],o[d]=y}return e},a.prototype.failurePosition=0,String.fromCharCodeUint8=function(e){for(var o=[],c=0;c<e.length;c++)o[c]=e[c];return String.fromCharCode.apply(null,o)},a.prototype.readString=function(e,o){return o==null||o=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(e??this.byteLength-this.position)]):new TextDecoder(o).decode(this.mapUint8Array(e))},a.prototype.readCString=function(e){var o=this.byteLength-this.position,c=new Uint8Array(this._buffer,this._byteOffset+this.position),d=o;e!=null&&(d=Math.min(e,o));for(var h=0;h<d&&c[h]!==0;h++);var y=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(h)]);return e!=null?this.position+=d-h:h!=o&&(this.position+=1),y};var s=Math.pow(2,32);a.prototype.readInt64=function(){return this.readInt32()*s+this.readUint32()},a.prototype.readUint64=function(){return this.readUint32()*s+this.readUint32()},a.prototype.readInt64=function(){return this.readUint32()*s+this.readUint32()},a.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=a,a.prototype.save=function(e){var o=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var c=window.URL.createObjectURL(o),d=document.createElement("a");document.body.appendChild(d),d.setAttribute("href",c),d.setAttribute("download",e),d.setAttribute("target","_self"),d.click(),window.URL.revokeObjectURL(c)}else throw"DataStream.save: Can't create object URL."},a.prototype._dynamicSize=!0,Object.defineProperty(a.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(e){e||this._trimAlloc(),this._dynamicSize=e}}),a.prototype.shift=function(e){var o=new ArrayBuffer(this._byteLength-e),c=new Uint8Array(o),d=new Uint8Array(this._buffer,e,c.length);c.set(d),this.buffer=o,this.position-=e},a.prototype.writeInt32Array=function(e,o){if(this._realloc(e.length*4),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,o);else for(var c=0;c<e.length;c++)this.writeInt32(e[c],o)},a.prototype.writeInt16Array=function(e,o){if(this._realloc(e.length*2),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,o);else for(var c=0;c<e.length;c++)this.writeInt16(e[c],o)},a.prototype.writeInt8Array=function(e){if(this._realloc(e.length*1),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(var o=0;o<e.length;o++)this.writeInt8(e[o])},a.prototype.writeUint32Array=function(e,o){if(this._realloc(e.length*4),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,o);else for(var c=0;c<e.length;c++)this.writeUint32(e[c],o)},a.prototype.writeUint16Array=function(e,o){if(this._realloc(e.length*2),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,o);else for(var c=0;c<e.length;c++)this.writeUint16(e[c],o)},a.prototype.writeUint8Array=function(e){if(this._realloc(e.length*1),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var o=0;o<e.length;o++)this.writeUint8(e[o])},a.prototype.writeFloat64Array=function(e,o){if(this._realloc(e.length*8),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,o);else for(var c=0;c<e.length;c++)this.writeFloat64(e[c],o)},a.prototype.writeFloat32Array=function(e,o){if(this._realloc(e.length*4),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)a.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,o);else for(var c=0;c<e.length;c++)this.writeFloat32(e[c],o)},a.prototype.writeInt32=function(e,o){this._realloc(4),this._dataView.setInt32(this.position,e,o??this.endianness),this.position+=4},a.prototype.writeInt16=function(e,o){this._realloc(2),this._dataView.setInt16(this.position,e,o??this.endianness),this.position+=2},a.prototype.writeInt8=function(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1},a.prototype.writeUint32=function(e,o){this._realloc(4),this._dataView.setUint32(this.position,e,o??this.endianness),this.position+=4},a.prototype.writeUint16=function(e,o){this._realloc(2),this._dataView.setUint16(this.position,e,o??this.endianness),this.position+=2},a.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1},a.prototype.writeFloat32=function(e,o){this._realloc(4),this._dataView.setFloat32(this.position,e,o??this.endianness),this.position+=4},a.prototype.writeFloat64=function(e,o){this._realloc(8),this._dataView.setFloat64(this.position,e,o??this.endianness),this.position+=8},a.prototype.writeUCS2String=function(e,o,c){c==null&&(c=e.length);for(var d=0;d<e.length&&d<c;d++)this.writeUint16(e.charCodeAt(d),o);for(;d<c;d++)this.writeUint16(0)},a.prototype.writeString=function(e,o,c){var d=0;if(o==null||o=="ASCII")if(c!=null){var h=Math.min(e.length,c);for(d=0;d<h;d++)this.writeUint8(e.charCodeAt(d));for(;d<c;d++)this.writeUint8(0)}else for(d=0;d<e.length;d++)this.writeUint8(e.charCodeAt(d));else this.writeUint8Array(new TextEncoder(o).encode(e.substring(0,c)))},a.prototype.writeCString=function(e,o){var c=0;if(o!=null){var d=Math.min(e.length,o);for(c=0;c<d;c++)this.writeUint8(e.charCodeAt(c));for(;c<o;c++)this.writeUint8(0)}else{for(c=0;c<e.length;c++)this.writeUint8(e.charCodeAt(c));this.writeUint8(0)}},a.prototype.writeStruct=function(e,o){for(var c=0;c<e.length;c+=2){var d=e[c+1];this.writeType(d,o[e[c]],o)}},a.prototype.writeType=function(e,o,c){var d;if(typeof e=="function")return e(this,o);if(typeof e=="object"&&!(e instanceof Array))return e.set(this,o,c);var h=null,y="ASCII",v=this.position;switch(typeof e=="string"&&/:/.test(e)&&(d=e.split(":"),e=d[0],h=parseInt(d[1])),typeof e=="string"&&/,/.test(e)&&(d=e.split(","),e=d[0],y=parseInt(d[1])),e){case"uint8":this.writeUint8(o);break;case"int8":this.writeInt8(o);break;case"uint16":this.writeUint16(o,this.endianness);break;case"int16":this.writeInt16(o,this.endianness);break;case"uint32":this.writeUint32(o,this.endianness);break;case"int32":this.writeInt32(o,this.endianness);break;case"float32":this.writeFloat32(o,this.endianness);break;case"float64":this.writeFloat64(o,this.endianness);break;case"uint16be":this.writeUint16(o,a.BIG_ENDIAN);break;case"int16be":this.writeInt16(o,a.BIG_ENDIAN);break;case"uint32be":this.writeUint32(o,a.BIG_ENDIAN);break;case"int32be":this.writeInt32(o,a.BIG_ENDIAN);break;case"float32be":this.writeFloat32(o,a.BIG_ENDIAN);break;case"float64be":this.writeFloat64(o,a.BIG_ENDIAN);break;case"uint16le":this.writeUint16(o,a.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(o,a.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(o,a.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(o,a.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(o,a.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(o,a.LITTLE_ENDIAN);break;case"cstring":this.writeCString(o,h);break;case"string":this.writeString(o,y,h);break;case"u16string":this.writeUCS2String(o,this.endianness,h);break;case"u16stringle":this.writeUCS2String(o,a.LITTLE_ENDIAN,h);break;case"u16stringbe":this.writeUCS2String(o,a.BIG_ENDIAN,h);break;default:if(e.length==3){for(var b=e[1],w=0;w<o.length;w++)this.writeType(b,o[w]);break}else{this.writeStruct(e,o);break}}h!=null&&(this.position=v,this._realloc(h),this.position=v+h)},a.prototype.writeUint64=function(e){var o=Math.floor(e/s);this.writeUint32(o),this.writeUint32(e&4294967295)},a.prototype.writeUint24=function(e){this.writeUint8((e&16711680)>>16),this.writeUint8((e&65280)>>8),this.writeUint8(e&255)},a.prototype.adjustUint32=function(e,o){var c=this.position;this.seek(e),this.writeUint32(o),this.seek(c)},a.prototype.mapInt32Array=function(e,o){this._realloc(e*4);var c=new Int32Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(c,o??this.endianness),this.position+=e*4,c},a.prototype.mapInt16Array=function(e,o){this._realloc(e*2);var c=new Int16Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(c,o??this.endianness),this.position+=e*2,c},a.prototype.mapInt8Array=function(e){this._realloc(e*1);var o=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,o},a.prototype.mapUint32Array=function(e,o){this._realloc(e*4);var c=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(c,o??this.endianness),this.position+=e*4,c},a.prototype.mapUint16Array=function(e,o){this._realloc(e*2);var c=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(c,o??this.endianness),this.position+=e*2,c},a.prototype.mapFloat64Array=function(e,o){this._realloc(e*8);var c=new Float64Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(c,o??this.endianness),this.position+=e*8,c},a.prototype.mapFloat32Array=function(e,o){this._realloc(e*4);var c=new Float32Array(this._buffer,this.byteOffset+this.position,e);return a.arrayToNative(c,o??this.endianness),this.position+=e*4,c};var u=function(e){this.buffers=[],this.bufferIndex=-1,e&&(this.insertBuffer(e),this.bufferIndex=0)};u.prototype=new a(new ArrayBuffer,0,a.BIG_ENDIAN),u.prototype.initialized=function(){var e;return this.bufferIndex>-1?!0:this.buffers.length>0?(e=this.buffers[0],e.fileStart===0?(this.buffer=e,this.bufferIndex=0,r.debug("MultiBufferStream","Stream ready for parsing"),!0):(r.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(r.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(e,o){r.debug("ArrayBuffer","Trying to create a new buffer of size: "+(e.byteLength+o.byteLength));var c=new Uint8Array(e.byteLength+o.byteLength);return c.set(new Uint8Array(e),0),c.set(new Uint8Array(o),e.byteLength),c.buffer},u.prototype.reduceBuffer=function(e,o,c){var d;return d=new Uint8Array(c),d.set(new Uint8Array(e,o,c)),d.buffer.fileStart=e.fileStart+o,d.buffer.usedBytes=0,d.buffer},u.prototype.insertBuffer=function(e){for(var o=!0,c=0;c<this.buffers.length;c++){var d=this.buffers[c];if(e.fileStart<=d.fileStart){if(e.fileStart===d.fileStart)if(e.byteLength>d.byteLength){this.buffers.splice(c,1),c--;continue}else r.warn("MultiBufferStream","Buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+") already appended, ignoring");else e.fileStart+e.byteLength<=d.fileStart||(e=this.reduceBuffer(e,0,d.fileStart-e.fileStart)),r.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.splice(c,0,e),c===0&&(this.buffer=e);o=!1;break}else if(e.fileStart<d.fileStart+d.byteLength){var h=d.fileStart+d.byteLength-e.fileStart,y=e.byteLength-h;if(y>0)e=this.reduceBuffer(e,h,y);else{o=!1;break}}}o&&(r.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.push(e),c===0&&(this.buffer=e))},u.prototype.logBufferLevel=function(e){var o,c,d,h,y=[],v,b="";for(d=0,h=0,o=0;o<this.buffers.length;o++)c=this.buffers[o],o===0?(v={},y.push(v),v.start=c.fileStart,v.end=c.fileStart+c.byteLength,b+="["+v.start+"-"):v.end===c.fileStart?v.end=c.fileStart+c.byteLength:(v={},v.start=c.fileStart,b+=y[y.length-1].end-1+"], ["+v.start+"-",v.end=c.fileStart+c.byteLength,y.push(v)),d+=c.usedBytes,h+=c.byteLength;y.length>0&&(b+=v.end-1+"]");var w=e?r.info:r.debug;this.buffers.length===0?w("MultiBufferStream","No more buffer in memory"):w("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+d+"/"+h+" bytes), continuous ranges: "+b)},u.prototype.cleanBuffers=function(){var e,o;for(e=0;e<this.buffers.length;e++)o=this.buffers[e],o.usedBytes===o.byteLength&&(r.debug("MultiBufferStream","Removing buffer #"+e),this.buffers.splice(e,1),e--)},u.prototype.mergeNextBuffer=function(){var e;if(this.bufferIndex+1<this.buffers.length)if(e=this.buffers[this.bufferIndex+1],e.fileStart===this.buffer.fileStart+this.buffer.byteLength){var o=this.buffer.byteLength,c=this.buffer.usedBytes,d=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,e),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=c,this.buffer.fileStart=d,r.debug("ISOFile","Concatenating buffer for box parsing (length: "+o+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},u.prototype.findPosition=function(e,o,c){var d,h=null,y=-1;for(e===!0?d=0:d=this.bufferIndex;d<this.buffers.length&&(h=this.buffers[d],h.fileStart<=o);)y=d,c&&(h.fileStart+h.byteLength<=o?h.usedBytes=h.byteLength:h.usedBytes=o-h.fileStart,this.logBufferLevel()),d++;return y!==-1?(h=this.buffers[y],h.fileStart+h.byteLength>=o?(r.debug("MultiBufferStream","Found position in existing buffer #"+y),y):-1):-1},u.prototype.findEndContiguousBuf=function(e){var o,c,d,h=e!==void 0?e:this.bufferIndex;if(c=this.buffers[h],this.buffers.length>h+1)for(o=h+1;o<this.buffers.length&&(d=this.buffers[o],d.fileStart===c.fileStart+c.byteLength);o++)c=d;return c.fileStart+c.byteLength},u.prototype.getEndFilePositionAfter=function(e){var o=this.findPosition(!0,e,!1);return o!==-1?this.findEndContiguousBuf(o):e},u.prototype.addUsedBytes=function(e){this.buffer.usedBytes+=e,this.logBufferLevel()},u.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},u.prototype.seek=function(e,o,c){var d;return d=this.findPosition(o,e,c),d!==-1?(this.buffer=this.buffers[d],this.bufferIndex=d,this.position=e-this.buffer.fileStart,r.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(r.debug("MultiBufferStream","Position "+e+" not found in buffered data"),!1)},u.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},u.prototype.getLength=function(){return this.byteLength},u.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=u;var f=function(){var e=3,o=4,c=5,d=6,h=[];h[e]="ES_Descriptor",h[o]="DecoderConfigDescriptor",h[c]="DecoderSpecificInfo",h[d]="SLConfigDescriptor",this.getDescriptorName=function(b){return h[b]};var y=this,v={};return this.parseOneDescriptor=function(b){var w=0,x,C,U;for(x=b.readUint8(),U=b.readUint8();U&128;)w=(U&127)<<7,U=b.readUint8();return w+=U&127,r.debug("MPEG4DescriptorParser","Found "+(h[x]||"Descriptor "+x)+", size "+w+" at position "+b.getPosition()),h[x]?C=new v[h[x]](w):C=new v.Descriptor(w),C.parse(b),C},v.Descriptor=function(b,w){this.tag=b,this.size=w,this.descs=[]},v.Descriptor.prototype.parse=function(b){this.data=b.readUint8Array(this.size)},v.Descriptor.prototype.findDescriptor=function(b){for(var w=0;w<this.descs.length;w++)if(this.descs[w].tag==b)return this.descs[w];return null},v.Descriptor.prototype.parseRemainingDescriptors=function(b){for(var w=b.position;b.position<w+this.size;){var x=y.parseOneDescriptor(b);this.descs.push(x)}},v.ES_Descriptor=function(b){v.Descriptor.call(this,e,b)},v.ES_Descriptor.prototype=new v.Descriptor,v.ES_Descriptor.prototype.parse=function(b){if(this.ES_ID=b.readUint16(),this.flags=b.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=b.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var w=b.readUint8();this.URL=b.readString(w),this.size-=w+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=b.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(b)},v.ES_Descriptor.prototype.getOTI=function(b){var w=this.findDescriptor(o);return w?w.oti:0},v.ES_Descriptor.prototype.getAudioConfig=function(b){var w=this.findDescriptor(o);if(!w)return null;var x=w.findDescriptor(c);if(x&&x.data){var C=(x.data[0]&248)>>3;return C===31&&x.data.length>=2&&(C=32+((x.data[0]&7)<<3)+((x.data[1]&224)>>5)),C}else return null},v.DecoderConfigDescriptor=function(b){v.Descriptor.call(this,o,b)},v.DecoderConfigDescriptor.prototype=new v.Descriptor,v.DecoderConfigDescriptor.prototype.parse=function(b){this.oti=b.readUint8(),this.streamType=b.readUint8(),this.bufferSize=b.readUint24(),this.maxBitrate=b.readUint32(),this.avgBitrate=b.readUint32(),this.size-=13,this.parseRemainingDescriptors(b)},v.DecoderSpecificInfo=function(b){v.Descriptor.call(this,c,b)},v.DecoderSpecificInfo.prototype=new v.Descriptor,v.SLConfigDescriptor=function(b){v.Descriptor.call(this,d,b)},v.SLConfigDescriptor.prototype=new v.Descriptor,this};t.MPEG4DescriptorParser=f;var l={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"],["grpl"],["j2kH"],["etyp",["tyco"]]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){l.FullBox.prototype=new l.Box,l.ContainerBox.prototype=new l.Box,l.SampleEntry.prototype=new l.Box,l.TrackGroupTypeBox.prototype=new l.FullBox,l.BASIC_BOXES.forEach(function(e){l.createBoxCtor(e)}),l.FULL_BOXES.forEach(function(e){l.createFullBoxCtor(e)}),l.CONTAINER_BOXES.forEach(function(e){l.createContainerBoxCtor(e[0],null,e[1])})},Box:function(e,o,c){this.type=e,this.size=o,this.uuid=c},FullBox:function(e,o,c){l.Box.call(this,e,o,c),this.flags=0,this.version=0},ContainerBox:function(e,o,c){l.Box.call(this,e,o,c),this.boxes=[]},SampleEntry:function(e,o,c,d){l.ContainerBox.call(this,e,o),this.hdr_size=c,this.start=d},SampleGroupEntry:function(e){this.grouping_type=e},TrackGroupTypeBox:function(e,o){l.FullBox.call(this,e,o)},createBoxCtor:function(e,o){l.boxCodes.push(e),l[e+"Box"]=function(c){l.Box.call(this,e,c)},l[e+"Box"].prototype=new l.Box,o&&(l[e+"Box"].prototype.parse=o)},createFullBoxCtor:function(e,o){l[e+"Box"]=function(c){l.FullBox.call(this,e,c)},l[e+"Box"].prototype=new l.FullBox,l[e+"Box"].prototype.parse=function(c){this.parseFullHeader(c),o&&o.call(this,c)}},addSubBoxArrays:function(e){if(e){this.subBoxNames=e;for(var o=e.length,c=0;c<o;c++)this[e[c]+"s"]=[]}},createContainerBoxCtor:function(e,o,c){l[e+"Box"]=function(d){l.ContainerBox.call(this,e,d),l.addSubBoxArrays.call(this,c)},l[e+"Box"].prototype=new l.ContainerBox,o&&(l[e+"Box"].prototype.parse=o)},createMediaSampleEntryCtor:function(e,o,c){l.sampleEntryCodes[e]=[],l[e+"SampleEntry"]=function(d,h){l.SampleEntry.call(this,d,h),l.addSubBoxArrays.call(this,c)},l[e+"SampleEntry"].prototype=new l.SampleEntry,o&&(l[e+"SampleEntry"].prototype.parse=o)},createSampleEntryCtor:function(e,o,c,d){l.sampleEntryCodes[e].push(o),l[o+"SampleEntry"]=function(h){l[e+"SampleEntry"].call(this,o,h),l.addSubBoxArrays.call(this,d)},l[o+"SampleEntry"].prototype=new l[e+"SampleEntry"],c&&(l[o+"SampleEntry"].prototype.parse=c)},createEncryptedSampleEntryCtor:function(e,o,c){l.createSampleEntryCtor.call(this,e,o,c,["sinf"])},createSampleGroupCtor:function(e,o){l[e+"SampleGroupEntry"]=function(c){l.SampleGroupEntry.call(this,e,c)},l[e+"SampleGroupEntry"].prototype=new l.SampleGroupEntry,o&&(l[e+"SampleGroupEntry"].prototype.parse=o)},createTrackGroupCtor:function(e,o){l[e+"TrackGroupTypeBox"]=function(c){l.TrackGroupTypeBox.call(this,e,c)},l[e+"TrackGroupTypeBox"].prototype=new l.TrackGroupTypeBox,o&&(l[e+"TrackGroupTypeBox"].prototype.parse=o)},createUUIDBox:function(e,o,c,d){l.UUIDs.push(e),l.UUIDBoxes[e]=function(h){o?l.FullBox.call(this,"uuid",h,e):c?l.ContainerBox.call(this,"uuid",h,e):l.Box.call(this,"uuid",h,e)},l.UUIDBoxes[e].prototype=o?new l.FullBox:c?new l.ContainerBox:new l.Box,d&&(o?l.UUIDBoxes[e].prototype.parse=function(h){this.parseFullHeader(h),d&&d.call(this,h)}:l.UUIDBoxes[e].prototype.parse=d)}};l.initialize(),l.TKHD_FLAG_ENABLED=1,l.TKHD_FLAG_IN_MOVIE=2,l.TKHD_FLAG_IN_PREVIEW=4,l.TFHD_FLAG_BASE_DATA_OFFSET=1,l.TFHD_FLAG_SAMPLE_DESC=2,l.TFHD_FLAG_SAMPLE_DUR=8,l.TFHD_FLAG_SAMPLE_SIZE=16,l.TFHD_FLAG_SAMPLE_FLAGS=32,l.TFHD_FLAG_DUR_EMPTY=65536,l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,l.TRUN_FLAGS_DATA_OFFSET=1,l.TRUN_FLAGS_FIRST_FLAG=4,l.TRUN_FLAGS_DURATION=256,l.TRUN_FLAGS_SIZE=512,l.TRUN_FLAGS_FLAGS=1024,l.TRUN_FLAGS_CTS_OFFSET=2048,l.Box.prototype.add=function(e){return this.addBox(new l[e+"Box"])},l.Box.prototype.addBox=function(e){return this.boxes.push(e),this[e.type+"s"]?this[e.type+"s"].push(e):this[e.type]=e,e},l.Box.prototype.set=function(e,o){return this[e]=o,this},l.Box.prototype.addEntry=function(e,o){var c=o||"entries";return this[c]||(this[c]=[]),this[c].push(e),this},t.BoxParser=l,l.parseUUID=function(e){return l.parseHex16(e)},l.parseHex16=function(e){for(var o="",c=0;c<16;c++){var d=e.readUint8().toString(16);o+=d.length===1?"0"+d:d}return o},l.parseOneBox=function(e,o,c){var d,h=e.getPosition(),y=0,v,b;if(e.getEndPosition()-h<8)return r.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:l.ERR_NOT_ENOUGH_DATA};if(c&&c<8)return r.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:l.ERR_NOT_ENOUGH_DATA};var w=e.readUint32(),x=e.readString(4),C=x;if(r.debug("BoxParser","Found box of type '"+x+"' and size "+w+" at position "+h),y=8,x=="uuid"){if(e.getEndPosition()-e.getPosition()<16||c-y<16)return e.seek(h),r.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:l.ERR_NOT_ENOUGH_DATA};b=l.parseUUID(e),y+=16,C=b}if(w==1){if(e.getEndPosition()-e.getPosition()<8||c&&c-y<8)return e.seek(h),r.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+x+'" box'),{code:l.ERR_NOT_ENOUGH_DATA};w=e.readUint64(),y+=8}else if(w===0){if(c)w=c;else if(x!=="mdat")return r.error("BoxParser","Unlimited box size not supported for type: '"+x+"'"),d=new l.Box(x,w),{code:l.OK,box:d,size:d.size}}return w!==0&&w<y?(r.error("BoxParser","Box of type "+x+" has an invalid size "+w+" (too small to be a box)"),{code:l.ERR_NOT_ENOUGH_DATA,type:x,size:w,hdr_size:y,start:h}):w!==0&&c&&w>c?(r.error("BoxParser","Box of type '"+x+"' has a size "+w+" greater than its container size "+c),{code:l.ERR_NOT_ENOUGH_DATA,type:x,size:w,hdr_size:y,start:h}):w!==0&&h+w>e.getEndPosition()?(e.seek(h),r.info("BoxParser","Not enough data in stream to parse the entire '"+x+"' box"),{code:l.ERR_NOT_ENOUGH_DATA,type:x,size:w,hdr_size:y,start:h}):o?{code:l.OK,type:x,size:w,hdr_size:y,start:h}:(l[x+"Box"]?d=new l[x+"Box"](w):x!=="uuid"?(r.warn("BoxParser","Unknown box type: '"+x+"'"),d=new l.Box(x,w),d.has_unparsed_data=!0):l.UUIDBoxes[b]?d=new l.UUIDBoxes[b](w):(r.warn("BoxParser","Unknown uuid type: '"+b+"'"),d=new l.Box(x,w),d.uuid=b,d.has_unparsed_data=!0),d.hdr_size=y,d.start=h,d.write===l.Box.prototype.write&&d.type!=="mdat"&&(r.info("BoxParser","'"+C+"' box writing not yet implemented, keeping unparsed data in memory for later write"),d.parseDataAndRewind(e)),d.parse(e),v=e.getPosition()-(d.start+d.size),v<0?(r.warn("BoxParser","Parsing of box '"+C+"' did not read the entire indicated box data size (missing "+-v+" bytes), seeking forward"),e.seek(d.start+d.size)):v>0&&(r.error("BoxParser","Parsing of box '"+C+"' read "+v+" more bytes than the indicated box data size, seeking backwards"),d.size!==0&&e.seek(d.start+d.size)),{code:l.OK,box:d,size:d.size})},l.Box.prototype.parse=function(e){this.type!="mdat"?this.data=e.readUint8Array(this.size-this.hdr_size):this.size===0?e.seek(e.getEndPosition()):e.seek(this.start+this.size)},l.Box.prototype.parseDataAndRewind=function(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.position-=this.size-this.hdr_size},l.FullBox.prototype.parseDataAndRewind=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,e.position-=this.size-this.hdr_size},l.FullBox.prototype.parseFullHeader=function(e){this.version=e.readUint8(),this.flags=e.readUint24(),this.hdr_size+=4},l.FullBox.prototype.parse=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},l.ContainerBox.prototype.parse=function(e){for(var o,c;e.getPosition()<this.start+this.size;)if(o=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),o.code===l.OK)if(c=o.box,this.boxes.push(c),this.subBoxNames&&this.subBoxNames.indexOf(c.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(c.type)]+"s"].push(c);else{var d=c.type!=="uuid"?c.type:c.uuid;this[d]?r.warn("Box of type "+d+" already stored in field of this type"):this[d]=c}else return},l.Box.prototype.parseLanguage=function(e){this.language=e.readUint16();var o=[];o[0]=this.language>>10&31,o[1]=this.language>>5&31,o[2]=this.language&31,this.languageString=String.fromCharCode(o[0]+96,o[1]+96,o[2]+96)},l.SAMPLE_ENTRY_TYPE_VISUAL="Visual",l.SAMPLE_ENTRY_TYPE_AUDIO="Audio",l.SAMPLE_ENTRY_TYPE_HINT="Hint",l.SAMPLE_ENTRY_TYPE_METADATA="Metadata",l.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",l.SAMPLE_ENTRY_TYPE_SYSTEM="System",l.SAMPLE_ENTRY_TYPE_TEXT="Text",l.SampleEntry.prototype.parseHeader=function(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8},l.SampleEntry.prototype.parse=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},l.SampleEntry.prototype.parseDataAndRewind=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.position-=this.size-this.hdr_size},l.SampleEntry.prototype.parseFooter=function(e){l.ContainerBox.prototype.parse.call(this,e)},l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_HINT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,function(e){var o;this.parseHeader(e),e.readUint16(),e.readUint16(),e.readUint32Array(3),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.readUint32(),this.frame_count=e.readUint16(),o=Math.min(31,e.readUint8()),this.compressorname=e.readString(o),o<31&&e.readString(31-o),this.depth=e.readUint16(),e.readUint16(),this.parseFooter(e)}),l.createMediaSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,function(e){this.parseHeader(e),e.readUint32Array(2),this.channel_count=e.readUint16(),this.samplesize=e.readUint16(),e.readUint16(),e.readUint16(),this.samplerate=e.readUint32()/65536,this.parseFooter(e)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dav1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"hvt1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"lhe1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvh1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"dvhe"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvc1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvi1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvs1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vvcN"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp08"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"vp09"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"avs3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"j2ki"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjp2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"mjpg"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"uncv"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ac-4"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"Opus"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mha2"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm1"),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"mhm2"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_TEXT,"enct"),l.createEncryptedSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"encm"),l.createBoxCtor("a1lx",function(e){var o=e.readUint8()&1,c=((o&1)+1)*16;this.layer_size=[];for(var d=0;d<3;d++)c==16?this.layer_size[d]=e.readUint16():this.layer_size[d]=e.readUint32()}),l.createBoxCtor("a1op",function(e){this.op_index=e.readUint8()}),l.createFullBoxCtor("auxC",function(e){this.aux_type=e.readCString();var o=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=e.readUint8Array(o)}),l.createBoxCtor("av1C",function(e){var o=e.readUint8();if(o>>7&!1){r.error("av1C marker problem");return}if(this.version=o&127,this.version!==1){r.error("av1C version "+this.version+" not supported");return}if(o=e.readUint8(),this.seq_profile=o>>5&7,this.seq_level_idx_0=o&31,o=e.readUint8(),this.seq_tier_0=o>>7&1,this.high_bitdepth=o>>6&1,this.twelve_bit=o>>5&1,this.monochrome=o>>4&1,this.chroma_subsampling_x=o>>3&1,this.chroma_subsampling_y=o>>2&1,this.chroma_sample_position=o&3,o=e.readUint8(),this.reserved_1=o>>5&7,this.reserved_1!==0){r.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=o>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=o&15;else if(this.reserved_2=o&15,this.reserved_2!==0){r.error("av1C reserved_2 parsing problem");return}var c=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(c)}),l.createBoxCtor("avcC",function(e){var o,c;for(this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=e.readUint8()&3,this.nb_SPS_nalus=e.readUint8()&31,c=this.size-this.hdr_size-6,this.SPS=[],o=0;o<this.nb_SPS_nalus;o++)this.SPS[o]={},this.SPS[o].length=e.readUint16(),this.SPS[o].nalu=e.readUint8Array(this.SPS[o].length),c-=2+this.SPS[o].length;for(this.nb_PPS_nalus=e.readUint8(),c--,this.PPS=[],o=0;o<this.nb_PPS_nalus;o++)this.PPS[o]={},this.PPS[o].length=e.readUint16(),this.PPS[o].nalu=e.readUint8Array(this.PPS[o].length),c-=2+this.PPS[o].length;c>0&&(this.ext=e.readUint8Array(c))}),l.createBoxCtor("btrt",function(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()}),l.createFullBoxCtor("ccst",function(e){var o=e.readUint8();this.all_ref_pics_intra=(o&128)==128,this.intra_pred_used=(o&64)==64,this.max_ref_per_pic=(o&63)>>2,e.readUint24()}),l.createBoxCtor("cdef",function(e){var o;for(this.channel_count=e.readUint16(),this.channel_indexes=[],this.channel_types=[],this.channel_associations=[],o=0;o<this.channel_count;o++)this.channel_indexes.push(e.readUint16()),this.channel_types.push(e.readUint16()),this.channel_associations.push(e.readUint16())}),l.createBoxCtor("clap",function(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()}),l.createBoxCtor("clli",function(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()}),l.createFullBoxCtor("cmex",function(e){this.flags&1&&(this.pos_x=e.readInt32()),this.flags&2&&(this.pos_y=e.readInt32()),this.flags&4&&(this.pos_z=e.readInt32()),this.flags&8&&(this.version==0?this.flags&16?(this.quat_x=e.readInt32(),this.quat_y=e.readInt32(),this.quat_z=e.readInt32()):(this.quat_x=e.readInt16(),this.quat_y=e.readInt16(),this.quat_z=e.readInt16()):this.version==1),this.flags&32&&(this.id=e.readUint32())}),l.createFullBoxCtor("cmin",function(e){this.focal_length_x=e.readInt32(),this.principal_point_x=e.readInt32(),this.principal_point_y=e.readInt32(),this.flags&1&&(this.focal_length_y=e.readInt32(),this.skew_factor=e.readInt32())}),l.createBoxCtor("cmpd",function(e){for(this.component_count=e.readUint16(),this.component_types=[],this.component_type_urls=[],i=0;i<this.component_count;i++){var o=e.readUint16();this.component_types.push(o),o>=32768&&this.component_type_urls.push(e.readCString())}}),l.createFullBoxCtor("co64",function(e){var o,c;if(o=e.readUint32(),this.chunk_offsets=[],this.version===0)for(c=0;c<o;c++)this.chunk_offsets.push(e.readUint64())}),l.createFullBoxCtor("CoLL",function(e){this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()}),l.createBoxCtor("colr",function(e){if(this.colour_type=e.readString(4),this.colour_type==="nclx"){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();var o=e.readUint8();this.full_range_flag=o>>7}else this.colour_type==="rICC"?this.ICC_profile=e.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=e.readUint8Array(this.size-4))}),l.createFullBoxCtor("cprt",function(e){this.parseLanguage(e),this.notice=e.readCString()}),l.createFullBoxCtor("cslg",function(e){this.version===0&&(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32())}),l.createFullBoxCtor("ctts",function(e){var o,c;if(o=e.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(c=0;c<o;c++){this.sample_counts.push(e.readUint32());var d=e.readInt32();d<0&&r.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(d)}else if(this.version==1)for(c=0;c<o;c++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())}),l.createBoxCtor("dac3",function(e){var o=e.readUint8(),c=e.readUint8(),d=e.readUint8();this.fscod=o>>6,this.bsid=o>>1&31,this.bsmod=(o&1)<<2|c>>6&3,this.acmod=c>>3&7,this.lfeon=c>>2&1,this.bit_rate_code=c&3|d>>5&7}),l.createBoxCtor("dec3",function(e){var o=e.readUint16();this.data_rate=o>>3,this.num_ind_sub=o&7,this.ind_subs=[];for(var c=0;c<this.num_ind_sub+1;c++){var d={};this.ind_subs.push(d);var h=e.readUint8(),y=e.readUint8(),v=e.readUint8();d.fscod=h>>6,d.bsid=h>>1&31,d.bsmod=(h&1)<<4|y>>4&15,d.acmod=y>>1&7,d.lfeon=y&1,d.num_dep_sub=v>>1&15,d.num_dep_sub>0&&(d.chan_loc=(v&1)<<8|e.readUint8())}}),l.createFullBoxCtor("dfLa",function(e){var o=127,c=128,d=[],h=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];this.parseFullHeader(e);do{var y=e.readUint8(),v=Math.min(y&o,h.length-1);if(v?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),d.push(h[v]),y&c)break}while(!0);this.numMetadataBlocks=d.length+" ("+d.join(", ")+")"}),l.createBoxCtor("dimm",function(e){this.bytessent=e.readUint64()}),l.createBoxCtor("dmax",function(e){this.time=e.readUint32()}),l.createBoxCtor("dmed",function(e){this.bytessent=e.readUint64()}),l.createBoxCtor("dOps",function(e){if(this.Version=e.readUint8(),this.OutputChannelCount=e.readUint8(),this.PreSkip=e.readUint16(),this.InputSampleRate=e.readUint32(),this.OutputGain=e.readInt16(),this.ChannelMappingFamily=e.readUint8(),this.ChannelMappingFamily!==0){this.StreamCount=e.readUint8(),this.CoupledCount=e.readUint8(),this.ChannelMapping=[];for(var o=0;o<this.OutputChannelCount;o++)this.ChannelMapping[o]=e.readUint8()}}),l.createFullBoxCtor("dref",function(e){var o,c;this.entries=[];for(var d=e.readUint32(),h=0;h<d;h++)if(o=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),o.code===l.OK)c=o.box,this.entries.push(c);else return}),l.createBoxCtor("drep",function(e){this.bytessent=e.readUint64()}),l.createFullBoxCtor("elng",function(e){this.extended_language=e.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("elst",function(e){this.entries=[];for(var o=e.readUint32(),c=0;c<o;c++){var d={};this.entries.push(d),this.version===1?(d.segment_duration=e.readUint64(),d.media_time=e.readInt64()):(d.segment_duration=e.readUint32(),d.media_time=e.readInt32()),d.media_rate_integer=e.readInt16(),d.media_rate_fraction=e.readInt16()}}),l.createFullBoxCtor("emsg",function(e){this.version==1?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());var o=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(o-=4),this.message_data=e.readUint8Array(o)}),l.createEntityToGroupCtor=function(e,o){l[e+"Box"]=function(c){l.FullBox.call(this,e,c)},l[e+"Box"].prototype=new l.FullBox,l[e+"Box"].prototype.parse=function(c){if(this.parseFullHeader(c),o)o.call(this,c);else for(this.group_id=c.readUint32(),this.num_entities_in_group=c.readUint32(),this.entity_ids=[],i=0;i<this.num_entities_in_group;i++){var d=c.readUint32();this.entity_ids.push(d)}}},l.createEntityToGroupCtor("aebr"),l.createEntityToGroupCtor("afbr"),l.createEntityToGroupCtor("albc"),l.createEntityToGroupCtor("altr"),l.createEntityToGroupCtor("brst"),l.createEntityToGroupCtor("dobr"),l.createEntityToGroupCtor("eqiv"),l.createEntityToGroupCtor("favc"),l.createEntityToGroupCtor("fobr"),l.createEntityToGroupCtor("iaug"),l.createEntityToGroupCtor("pano"),l.createEntityToGroupCtor("slid"),l.createEntityToGroupCtor("ster"),l.createEntityToGroupCtor("tsyn"),l.createEntityToGroupCtor("wbbr"),l.createEntityToGroupCtor("prgr"),l.createFullBoxCtor("esds",function(e){var o=e.readUint8Array(this.size-this.hdr_size);if(this.data=o,typeof f<"u"){var c=new f;this.esd=c.parseOneDescriptor(new a(o.buffer,0,a.BIG_ENDIAN))}}),l.createBoxCtor("fiel",function(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()}),l.createBoxCtor("frma",function(e){this.data_format=e.readString(4)}),l.createBoxCtor("ftyp",function(e){var o=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),o-=8,this.compatible_brands=[];for(var c=0;o>=4;)this.compatible_brands[c]=e.readString(4),o-=4,c++}),l.createFullBoxCtor("hdlr",function(e){this.version===0&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),this.name=e.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),l.createBoxCtor("hvcC",function(e){var o,c,d,h;this.configurationVersion=e.readUint8(),h=e.readUint8(),this.general_profile_space=h>>6,this.general_tier_flag=(h&32)>>5,this.general_profile_idc=h&31,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=e.readUint16()&4095,this.parallelismType=e.readUint8()&3,this.chroma_format_idc=e.readUint8()&3,this.bit_depth_luma_minus8=e.readUint8()&7,this.bit_depth_chroma_minus8=e.readUint8()&7,this.avgFrameRate=e.readUint16(),h=e.readUint8(),this.constantFrameRate=h>>6,this.numTemporalLayers=(h&13)>>3,this.temporalIdNested=(h&4)>>2,this.lengthSizeMinusOne=h&3,this.nalu_arrays=[];var y=e.readUint8();for(o=0;o<y;o++){var v=[];this.nalu_arrays.push(v),h=e.readUint8(),v.completeness=(h&128)>>7,v.nalu_type=h&63;var b=e.readUint16();for(c=0;c<b;c++){var w={};v.push(w),d=e.readUint16(),w.data=e.readUint8Array(d)}}}),l.createFullBoxCtor("iinf",function(e){var o;this.version===0?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(var c=0;c<this.entry_count;c++)if(o=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),o.code===l.OK)o.box.type!=="infe"&&r.error("BoxParser","Expected 'infe' box, got "+o.box.type),this.item_infos[c]=o.box;else return}),l.createFullBoxCtor("iloc",function(e){var o;o=e.readUint8(),this.offset_size=o>>4&15,this.length_size=o&15,o=e.readUint8(),this.base_offset_size=o>>4&15,this.version===1||this.version===2?this.index_size=o&15:this.index_size=0,this.items=[];var c=0;if(this.version<2)c=e.readUint16();else if(this.version===2)c=e.readUint32();else throw"version of iloc box not supported";for(var d=0;d<c;d++){var h={};if(this.items.push(h),this.version<2)h.item_ID=e.readUint16();else if(this.version===2)h.item_ID=e.readUint16();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?h.construction_method=e.readUint16()&15:h.construction_method=0,h.data_reference_index=e.readUint16(),this.base_offset_size){case 0:h.base_offset=0;break;case 4:h.base_offset=e.readUint32();break;case 8:h.base_offset=e.readUint64();break;default:throw"Error reading base offset size"}var y=e.readUint16();h.extents=[];for(var v=0;v<y;v++){var b={};if(h.extents.push(b),this.version===1||this.version===2)switch(this.index_size){case 0:b.extent_index=0;break;case 4:b.extent_index=e.readUint32();break;case 8:b.extent_index=e.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:b.extent_offset=0;break;case 4:b.extent_offset=e.readUint32();break;case 8:b.extent_offset=e.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:b.extent_length=0;break;case 4:b.extent_length=e.readUint32();break;case 8:b.extent_length=e.readUint64();break;default:throw"Error reading extent index"}}}}),l.createBoxCtor("imir",function(e){var o=e.readUint8();this.reserved=o>>7,this.axis=o&1}),l.createFullBoxCtor("infe",function(e){if((this.version===0||this.version===1)&&(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.content_encoding=e.readCString()),this.version===1){this.extension_type=e.readString(4),r.warn("BoxParser","Cannot parse extension type"),e.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=e.readUint16():this.version===3&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),this.item_type==="mime"?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):this.item_type==="uri "&&(this.item_uri_type=e.readCString()))}),l.createFullBoxCtor("ipma",function(e){var o,c;for(entry_count=e.readUint32(),this.associations=[],o=0;o<entry_count;o++){var d={};this.associations.push(d),this.version<1?d.id=e.readUint16():d.id=e.readUint32();var h=e.readUint8();for(d.props=[],c=0;c<h;c++){var y=e.readUint8(),v={};d.props.push(v),v.essential=(y&128)>>7===1,this.flags&1?v.property_index=(y&127)<<8|e.readUint8():v.property_index=y&127}}}),l.createFullBoxCtor("iref",function(e){var o,c;for(this.references=[];e.getPosition()<this.start+this.size;)if(o=l.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),o.code===l.OK)this.version===0?c=new l.SingleItemTypeReferenceBox(o.type,o.size,o.hdr_size,o.start):c=new l.SingleItemTypeReferenceBoxLarge(o.type,o.size,o.hdr_size,o.start),c.write===l.Box.prototype.write&&c.type!=="mdat"&&(r.warn("BoxParser",c.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),c.parseDataAndRewind(e)),c.parse(e),this.references.push(c);else return}),l.createBoxCtor("irot",function(e){this.angle=e.readUint8()&3}),l.createFullBoxCtor("ispe",function(e){this.image_width=e.readUint32(),this.image_height=e.readUint32()}),l.createFullBoxCtor("kind",function(e){this.schemeURI=e.readCString(),this.value=e.readCString()}),l.createFullBoxCtor("leva",function(e){var o=e.readUint8();this.levels=[];for(var c=0;c<o;c++){var d={};this.levels[c]=d,d.track_ID=e.readUint32();var h=e.readUint8();switch(d.padding_flag=h>>7,d.assignment_type=h&127,d.assignment_type){case 0:d.grouping_type=e.readString(4);break;case 1:d.grouping_type=e.readString(4),d.grouping_type_parameter=e.readUint32();break;case 2:break;case 3:break;case 4:d.sub_track_id=e.readUint32();break;default:r.warn("BoxParser","Unknown leva assignement type")}}}),l.createBoxCtor("lsel",function(e){this.layer_id=e.readUint16()}),l.createBoxCtor("maxr",function(e){this.period=e.readUint32(),this.bytes=e.readUint32()}),l.createBoxCtor("mdcv",function(e){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=e.readUint16(),this.display_primaries[0].y=e.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=e.readUint16(),this.display_primaries[1].y=e.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=e.readUint16(),this.display_primaries[2].y=e.readUint16(),this.white_point={},this.white_point.x=e.readUint16(),this.white_point.y=e.readUint16(),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()}),l.createFullBoxCtor("mdhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()}),l.createFullBoxCtor("mehd",function(e){this.flags&1&&(r.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()}),l.createFullBoxCtor("meta",function(e){this.boxes=[],l.ContainerBox.prototype.parse.call(this,e)}),l.createFullBoxCtor("mfhd",function(e){this.sequence_number=e.readUint32()}),l.createFullBoxCtor("mfro",function(e){this._size=e.readUint32()}),l.createFullBoxCtor("mvhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readUint32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()}),l.createBoxCtor("npck",function(e){this.packetssent=e.readUint32()}),l.createBoxCtor("nump",function(e){this.packetssent=e.readUint64()}),l.createFullBoxCtor("padb",function(e){var o=e.readUint32();this.padbits=[];for(var c=0;c<Math.floor((o+1)/2);c++)this.padbits=e.readUint8()}),l.createBoxCtor("pasp",function(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()}),l.createBoxCtor("payl",function(e){this.text=e.readString(this.size-this.hdr_size)}),l.createBoxCtor("payt",function(e){this.payloadID=e.readUint32();var o=e.readUint8();this.rtpmap_string=e.readString(o)}),l.createFullBoxCtor("pdin",function(e){var o=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var c=0;c<o;c++)this.rate[c]=e.readUint32(),this.initial_delay[c]=e.readUint32()}),l.createFullBoxCtor("pitm",function(e){this.version===0?this.item_id=e.readUint16():this.item_id=e.readUint32()}),l.createFullBoxCtor("pixi",function(e){var o;for(this.num_channels=e.readUint8(),this.bits_per_channels=[],o=0;o<this.num_channels;o++)this.bits_per_channels[o]=e.readUint8()}),l.createBoxCtor("pmax",function(e){this.bytes=e.readUint32()}),l.createFullBoxCtor("prdi",function(e){if(this.step_count=e.readUint16(),this.item_count=[],this.flags&2)for(var o=0;o<this.step_count;o++)this.item_count[o]=e.readUint16()}),l.createFullBoxCtor("prft",function(e){this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),this.version===0?this.media_time=e.readUint32():this.media_time=e.readUint64()}),l.createFullBoxCtor("pssh",function(e){if(this.system_id=l.parseHex16(e),this.version>0){var o=e.readUint32();this.kid=[];for(var c=0;c<o;c++)this.kid[c]=l.parseHex16(e)}var d=e.readUint32();d>0&&(this.data=e.readUint8Array(d))}),l.createFullBoxCtor("clef",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),l.createFullBoxCtor("enof",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),l.createFullBoxCtor("prof",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),l.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),l.createBoxCtor("rtp ",function(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)}),l.createFullBoxCtor("saio",function(e){this.flags&1&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32());var o=e.readUint32();this.offset=[];for(var c=0;c<o;c++)this.version===0?this.offset[c]=e.readUint32():this.offset[c]=e.readUint64()}),l.createFullBoxCtor("saiz",function(e){this.flags&1&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8();var o=e.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var c=0;c<o;c++)this.sample_info_size[c]=e.readUint8()}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)}),l.createSampleEntryCtor(l.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(e){this.parseHeader(e),this.parseFooter(e)}),l.createSampleGroupCtor("alst",function(e){var o,c=e.readUint16();for(this.first_output_sample=e.readUint16(),this.sample_offset=[],o=0;o<c;o++)this.sample_offset[o]=e.readUint32();var d=this.description_length-4-4*c;for(this.num_output_samples=[],this.num_total_samples=[],o=0;o<d/4;o++)this.num_output_samples[o]=e.readUint16(),this.num_total_samples[o]=e.readUint16()}),l.createSampleGroupCtor("avll",function(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()}),l.createSampleGroupCtor("avss",function(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();var o=e.readUint8();this.durationFlag=o>>7,this.avgRateFlag=o>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];for(var c=e.readUint8(),d=0;d<c;d++){var h={};this.dependency.push(h),h.subSeqDirectionFlag=e.readUint8(),h.layerNumber=e.readUint8(),h.subSequenceIdentifier=e.readUint16()}}),l.createSampleGroupCtor("dtrt",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("mvif",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("prol",function(e){this.roll_distance=e.readInt16()}),l.createSampleGroupCtor("rap ",function(e){var o=e.readUint8();this.num_leading_samples_known=o>>7,this.num_leading_samples=o&127}),l.createSampleGroupCtor("rash",function(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)r.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var o=0;o<this.operation_point_count;o++)this.available_bitrate[o]=e.readUint32(),this.target_rate_share[o]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}}),l.createSampleGroupCtor("roll",function(e){this.roll_distance=e.readInt16()}),l.SampleGroupEntry.prototype.parse=function(e){r.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=e.readUint8Array(this.description_length)},l.createSampleGroupCtor("scif",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("scnm",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("seig",function(e){this.reserved=e.readUint8();var o=e.readUint8();this.crypt_byte_block=o>>4,this.skip_byte_block=o&15,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=l.parseHex16(e),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))}),l.createSampleGroupCtor("stsa",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("sync",function(e){var o=e.readUint8();this.NAL_unit_type=o&63}),l.createSampleGroupCtor("tele",function(e){var o=e.readUint8();this.level_independently_decodable=o>>7}),l.createSampleGroupCtor("tsas",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("tscl",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createSampleGroupCtor("vipr",function(e){r.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),l.createFullBoxCtor("sbgp",function(e){this.grouping_type=e.readString(4),this.version===1?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var o=e.readUint32(),c=0;c<o;c++){var d={};this.entries.push(d),d.sample_count=e.readInt32(),d.group_description_index=e.readInt32()}}),l.createFullBoxCtor("schm",function(e){this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),this.flags&1&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))}),l.createBoxCtor("sdp ",function(e){this.sdptext=e.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("sdtp",function(e){var o,c=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var d=0;d<c;d++)o=e.readUint8(),this.is_leading[d]=o>>6,this.sample_depends_on[d]=o>>4&3,this.sample_is_depended_on[d]=o>>2&3,this.sample_has_redundancy[d]=o&3}),l.createFullBoxCtor("senc"),l.createFullBoxCtor("sgpd",function(e){this.grouping_type=e.readString(4),r.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];for(var o=e.readUint32(),c=0;c<o;c++){var d;l[this.grouping_type+"SampleGroupEntry"]?d=new l[this.grouping_type+"SampleGroupEntry"](this.grouping_type):d=new l.SampleGroupEntry(this.grouping_type),this.entries.push(d),this.version===1?this.default_length===0?d.description_length=e.readUint32():d.description_length=this.default_length:d.description_length=this.default_length,d.write===l.SampleGroupEntry.prototype.write&&(r.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),d.data=e.readUint8Array(d.description_length),e.position-=d.description_length),d.parse(e)}}),l.createFullBoxCtor("sidx",function(e){this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),this.version===0?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];for(var o=e.readUint16(),c=0;c<o;c++){var d={};this.references.push(d);var h=e.readUint32();d.reference_type=h>>31&1,d.referenced_size=h&2147483647,d.subsegment_duration=e.readUint32(),h=e.readUint32(),d.starts_with_SAP=h>>31&1,d.SAP_type=h>>28&7,d.SAP_delta_time=h&268435455}}),l.SingleItemTypeReferenceBox=function(e,o,c,d){l.Box.call(this,e,o),this.hdr_size=c,this.start=d},l.SingleItemTypeReferenceBox.prototype=new l.Box,l.SingleItemTypeReferenceBox.prototype.parse=function(e){this.from_item_ID=e.readUint16();var o=e.readUint16();this.references=[];for(var c=0;c<o;c++)this.references[c]={},this.references[c].to_item_ID=e.readUint16()},l.SingleItemTypeReferenceBoxLarge=function(e,o,c,d){l.Box.call(this,e,o),this.hdr_size=c,this.start=d},l.SingleItemTypeReferenceBoxLarge.prototype=new l.Box,l.SingleItemTypeReferenceBoxLarge.prototype.parse=function(e){this.from_item_ID=e.readUint32();var o=e.readUint16();this.references=[];for(var c=0;c<o;c++)this.references[c]={},this.references[c].to_item_ID=e.readUint32()},l.createFullBoxCtor("SmDm",function(e){this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()}),l.createFullBoxCtor("smhd",function(e){this.balance=e.readUint16(),e.readUint16()}),l.createFullBoxCtor("ssix",function(e){this.subsegments=[];for(var o=e.readUint32(),c=0;c<o;c++){var d={};this.subsegments.push(d),d.ranges=[];for(var h=e.readUint32(),y=0;y<h;y++){var v={};d.ranges.push(v),v.level=e.readUint8(),v.range_size=e.readUint24()}}}),l.createFullBoxCtor("stco",function(e){var o;if(o=e.readUint32(),this.chunk_offsets=[],this.version===0)for(var c=0;c<o;c++)this.chunk_offsets.push(e.readUint32())}),l.createFullBoxCtor("stdp",function(e){var o=(this.size-this.hdr_size)/2;this.priority=[];for(var c=0;c<o;c++)this.priority[c]=e.readUint16()}),l.createFullBoxCtor("sthd"),l.createFullBoxCtor("stri",function(e){this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();var o=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var c=0;c<o;c++)this.attribute_list[c]=e.readUint32()}),l.createFullBoxCtor("stsc",function(e){var o,c;if(o=e.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(c=0;c<o;c++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())}),l.createFullBoxCtor("stsd",function(e){var o,c,d,h;for(this.entries=[],d=e.readUint32(),o=1;o<=d;o++)if(c=l.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),c.code===l.OK)l[c.type+"SampleEntry"]?(h=new l[c.type+"SampleEntry"](c.size),h.hdr_size=c.hdr_size,h.start=c.start):(r.warn("BoxParser","Unknown sample entry type: "+c.type),h=new l.SampleEntry(c.type,c.size,c.hdr_size,c.start)),h.write===l.SampleEntry.prototype.write&&(r.info("BoxParser","SampleEntry "+h.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),h.parseDataAndRewind(e)),h.parse(e),this.entries.push(h);else return}),l.createFullBoxCtor("stsg",function(e){this.grouping_type=e.readUint32();var o=e.readUint16();this.group_description_index=[];for(var c=0;c<o;c++)this.group_description_index[c]=e.readUint32()}),l.createFullBoxCtor("stsh",function(e){var o,c;if(o=e.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(c=0;c<o;c++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())}),l.createFullBoxCtor("stss",function(e){var o,c;if(c=e.readUint32(),this.version===0)for(this.sample_numbers=[],o=0;o<c;o++)this.sample_numbers.push(e.readUint32())}),l.createFullBoxCtor("stsz",function(e){var o;if(this.sample_sizes=[],this.version===0)for(this.sample_size=e.readUint32(),this.sample_count=e.readUint32(),o=0;o<this.sample_count;o++)this.sample_size===0?this.sample_sizes.push(e.readUint32()):this.sample_sizes[o]=this.sample_size}),l.createFullBoxCtor("stts",function(e){var o,c,d;if(o=e.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(c=0;c<o;c++)this.sample_counts.push(e.readUint32()),d=e.readInt32(),d<0&&(r.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),d=1),this.sample_deltas.push(d)}),l.createFullBoxCtor("stvi",function(e){var o=e.readUint32();this.single_view_allowed=o&3,this.stereo_scheme=e.readUint32();var c=e.readUint32();this.stereo_indication_type=e.readString(c);var d,h;for(this.boxes=[];e.getPosition()<this.start+this.size;)if(d=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),d.code===l.OK)h=d.box,this.boxes.push(h),this[h.type]=h;else return}),l.createBoxCtor("styp",function(e){l.ftypBox.prototype.parse.call(this,e)}),l.createFullBoxCtor("stz2",function(e){var o,c;if(this.sample_sizes=[],this.version===0)if(this.reserved=e.readUint24(),this.field_size=e.readUint8(),c=e.readUint32(),this.field_size===4)for(o=0;o<c;o+=2){var d=e.readUint8();this.sample_sizes[o]=d>>4&15,this.sample_sizes[o+1]=d&15}else if(this.field_size===8)for(o=0;o<c;o++)this.sample_sizes[o]=e.readUint8();else if(this.field_size===16)for(o=0;o<c;o++)this.sample_sizes[o]=e.readUint16();else r.error("BoxParser","Error in length field in stz2 box")}),l.createFullBoxCtor("subs",function(e){var o,c,d,h;for(d=e.readUint32(),this.entries=[],o=0;o<d;o++){var y={};if(this.entries[o]=y,y.sample_delta=e.readUint32(),y.subsamples=[],h=e.readUint16(),h>0)for(c=0;c<h;c++){var v={};y.subsamples.push(v),this.version==1?v.size=e.readUint32():v.size=e.readUint16(),v.priority=e.readUint8(),v.discardable=e.readUint8(),v.codec_specific_parameters=e.readUint32()}}}),l.createFullBoxCtor("tenc",function(e){if(e.readUint8(),this.version===0)e.readUint8();else{var o=e.readUint8();this.default_crypt_byte_block=o>>4&15,this.default_skip_byte_block=o&15}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=l.parseHex16(e),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))}),l.createFullBoxCtor("tfdt",function(e){this.version==1?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()}),l.createFullBoxCtor("tfhd",function(e){var o=0;this.track_id=e.readUint32(),this.size-this.hdr_size>o&&this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=e.readUint64(),o+=8):this.base_data_offset=0,this.size-this.hdr_size>o&&this.flags&l.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=e.readUint32(),o+=4):this.default_sample_description_index=0,this.size-this.hdr_size>o&&this.flags&l.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=e.readUint32(),o+=4):this.default_sample_duration=0,this.size-this.hdr_size>o&&this.flags&l.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=e.readUint32(),o+=4):this.default_sample_size=0,this.size-this.hdr_size>o&&this.flags&l.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=e.readUint32(),o+=4):this.default_sample_flags=0}),l.createFullBoxCtor("tfra",function(e){this.track_ID=e.readUint32(),e.readUint24();var o=e.readUint8();this.length_size_of_traf_num=o>>4&3,this.length_size_of_trun_num=o>>2&3,this.length_size_of_sample_num=o&3,this.entries=[];for(var c=e.readUint32(),d=0;d<c;d++)this.version===1?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()}),l.createFullBoxCtor("tkhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()}),l.createBoxCtor("tmax",function(e){this.time=e.readUint32()}),l.createBoxCtor("tmin",function(e){this.time=e.readUint32()}),l.createBoxCtor("totl",function(e){this.bytessent=e.readUint32()}),l.createBoxCtor("tpay",function(e){this.bytessent=e.readUint32()}),l.createBoxCtor("tpyl",function(e){this.bytessent=e.readUint64()}),l.TrackGroupTypeBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_group_id=e.readUint32()},l.createTrackGroupCtor("msrc"),l.TrackReferenceTypeBox=function(e,o,c,d){l.Box.call(this,e,o),this.hdr_size=c,this.start=d},l.TrackReferenceTypeBox.prototype=new l.Box,l.TrackReferenceTypeBox.prototype.parse=function(e){this.track_ids=e.readUint32Array((this.size-this.hdr_size)/4)},l.trefBox.prototype.parse=function(e){for(var o,c;e.getPosition()<this.start+this.size;)if(o=l.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),o.code===l.OK)c=new l.TrackReferenceTypeBox(o.type,o.size,o.hdr_size,o.start),c.write===l.Box.prototype.write&&c.type!=="mdat"&&(r.info("BoxParser","TrackReference "+c.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),c.parseDataAndRewind(e)),c.parse(e),this.boxes.push(c);else return},l.createFullBoxCtor("trep",function(e){for(this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;)if(ret=l.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),ret.code===l.OK)box=ret.box,this.boxes.push(box);else return}),l.createFullBoxCtor("trex",function(e){this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()}),l.createBoxCtor("trpy",function(e){this.bytessent=e.readUint64()}),l.createFullBoxCtor("trun",function(e){var o=0;if(this.sample_count=e.readUint32(),o+=4,this.size-this.hdr_size>o&&this.flags&l.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=e.readInt32(),o+=4):this.data_offset=0,this.size-this.hdr_size>o&&this.flags&l.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=e.readUint32(),o+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>o)for(var c=0;c<this.sample_count;c++)this.flags&l.TRUN_FLAGS_DURATION&&(this.sample_duration[c]=e.readUint32()),this.flags&l.TRUN_FLAGS_SIZE&&(this.sample_size[c]=e.readUint32()),this.flags&l.TRUN_FLAGS_FLAGS&&(this.sample_flags[c]=e.readUint32()),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[c]=e.readUint32():this.sample_composition_time_offset[c]=e.readInt32())}),l.createFullBoxCtor("tsel",function(e){this.switch_group=e.readUint32();var o=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var c=0;c<o;c++)this.attribute_list[c]=e.readUint32()}),l.createFullBoxCtor("txtC",function(e){this.config=e.readCString()}),l.createBoxCtor("tyco",function(e){var o=(this.size-this.hdr_size)/4;this.compatible_brands=[];for(var c=0;c<o;c++)this.compatible_brands[c]=e.readString(4)}),l.createFullBoxCtor("udes",function(e){this.lang=e.readCString(),this.name=e.readCString(),this.description=e.readCString(),this.tags=e.readCString()}),l.createFullBoxCtor("uncC",function(e){var o;for(this.profile=e.readUint32(),this.component_count=e.readUint16(),this.component_index=[],this.component_bit_depth_minus_one=[],this.component_format=[],this.component_align_size=[],o=0;o<this.component_count;o++)this.component_index.push(e.readUint16()),this.component_bit_depth_minus_one.push(e.readUint8()),this.component_format.push(e.readUint8()),this.component_align_size.push(e.readUint8());this.sampling_type=e.readUint8(),this.interleave_type=e.readUint8(),this.block_size=e.readUint8();var c=e.readUint8();this.component_little_endian=c>>7&1,this.block_pad_lsb=c>>6&1,this.block_little_endian=c>>5&1,this.block_reversed=c>>4&1,this.pad_unknown=c>>3&1,this.pixel_size=e.readUint8(),this.row_align_size=e.readUint32(),this.tile_align_size=e.readUint32(),this.num_tile_cols_minus_one=e.readUint32(),this.num_tile_rows_minus_one=e.readUint32()}),l.createFullBoxCtor("url ",function(e){this.flags!==1&&(this.location=e.readCString())}),l.createFullBoxCtor("urn ",function(e){this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())}),l.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(e){this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),l.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(e){this.system_id=l.parseHex16(e);var o=e.readUint32();o>0&&(this.data=e.readUint8Array(o))}),l.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),l.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(e){this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=l.parseHex16(e)}),l.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(e){this.fragment_count=e.readUint8(),this.entries=[];for(var o=0;o<this.fragment_count;o++){var c={},d=0,h=0;this.version===1?(d=e.readUint64(),h=e.readUint64()):(d=e.readUint32(),h=e.readUint32()),c.absolute_time=d,c.absolute_duration=h,this.entries.push(c)}}),l.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(e){this.version===1?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())}),l.createFullBoxCtor("vmhd",function(e){this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)}),l.createFullBoxCtor("vpcC",function(e){var o;this.version===1?(this.profile=e.readUint8(),this.level=e.readUint8(),o=e.readUint8(),this.bitDepth=o>>4,this.chromaSubsampling=o>>1&7,this.videoFullRangeFlag=o&1,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8(),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)):(this.profile=e.readUint8(),this.level=e.readUint8(),o=e.readUint8(),this.bitDepth=o>>4&15,this.colorSpace=o&15,o=e.readUint8(),this.chromaSubsampling=o>>4&15,this.transferFunction=o>>1&7,this.videoFullRangeFlag=o&1,this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize))}),l.createBoxCtor("vttC",function(e){this.text=e.readString(this.size-this.hdr_size)}),l.createFullBoxCtor("vvcC",function(e){var o,c,d={held_bits:void 0,num_held_bits:0,stream_read_1_bytes:function(E){this.held_bits=E.readUint8(),this.num_held_bits=8},stream_read_2_bytes:function(E){this.held_bits=E.readUint16(),this.num_held_bits=16},extract_bits:function(E){var R=this.held_bits>>this.num_held_bits-E&(1<<E)-1;return this.num_held_bits-=E,R}};if(d.stream_read_1_bytes(e),d.extract_bits(5),this.lengthSizeMinusOne=d.extract_bits(2),this.ptl_present_flag=d.extract_bits(1),this.ptl_present_flag){d.stream_read_2_bytes(e),this.ols_idx=d.extract_bits(9),this.num_sublayers=d.extract_bits(3),this.constant_frame_rate=d.extract_bits(2),this.chroma_format_idc=d.extract_bits(2),d.stream_read_1_bytes(e),this.bit_depth_minus8=d.extract_bits(3),d.extract_bits(5);{if(d.stream_read_2_bytes(e),d.extract_bits(2),this.num_bytes_constraint_info=d.extract_bits(6),this.general_profile_idc=d.extract_bits(7),this.general_tier_flag=d.extract_bits(1),this.general_level_idc=e.readUint8(),d.stream_read_1_bytes(e),this.ptl_frame_only_constraint_flag=d.extract_bits(1),this.ptl_multilayer_enabled_flag=d.extract_bits(1),this.general_constraint_info=new Uint8Array(this.num_bytes_constraint_info),this.num_bytes_constraint_info){for(o=0;o<this.num_bytes_constraint_info-1;o++){var h=d.extract_bits(6);d.stream_read_1_bytes(e);var y=d.extract_bits(2);this.general_constraint_info[o]=h<<2|y}this.general_constraint_info[this.num_bytes_constraint_info-1]=d.extract_bits(6)}else d.extract_bits(6);if(this.num_sublayers>1){for(d.stream_read_1_bytes(e),this.ptl_sublayer_present_mask=0,c=this.num_sublayers-2;c>=0;--c){var v=d.extract_bits(1);this.ptl_sublayer_present_mask|=v<<c}for(c=this.num_sublayers;c<=8&&this.num_sublayers>1;++c)d.extract_bits(1);for(this.sublayer_level_idc=[],c=this.num_sublayers-2;c>=0;--c)this.ptl_sublayer_present_mask&1<<c&&(this.sublayer_level_idc[c]=e.readUint8())}if(this.ptl_num_sub_profiles=e.readUint8(),this.general_sub_profile_idc=[],this.ptl_num_sub_profiles)for(o=0;o<this.ptl_num_sub_profiles;o++)this.general_sub_profile_idc.push(e.readUint32())}this.max_picture_width=e.readUint16(),this.max_picture_height=e.readUint16(),this.avg_frame_rate=e.readUint16()}var b=12,w=13;this.nalu_arrays=[];var x=e.readUint8();for(o=0;o<x;o++){var C=[];this.nalu_arrays.push(C),d.stream_read_1_bytes(e),C.completeness=d.extract_bits(1),d.extract_bits(2),C.nalu_type=d.extract_bits(5);var U=1;for(C.nalu_type!=w&&C.nalu_type!=b&&(U=e.readUint16()),c=0;c<U;c++){var T=e.readUint16();C.push({data:e.readUint8Array(T),length:T})}}}),l.createFullBoxCtor("vvnC",function(e){var o=strm.readUint8();this.lengthSizeMinusOne=o&3}),l.SampleEntry.prototype.isVideo=function(){return!1},l.SampleEntry.prototype.isAudio=function(){return!1},l.SampleEntry.prototype.isSubtitle=function(){return!1},l.SampleEntry.prototype.isMetadata=function(){return!1},l.SampleEntry.prototype.isHint=function(){return!1},l.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},l.SampleEntry.prototype.getWidth=function(){return""},l.SampleEntry.prototype.getHeight=function(){return""},l.SampleEntry.prototype.getChannelCount=function(){return""},l.SampleEntry.prototype.getSampleRate=function(){return""},l.SampleEntry.prototype.getSampleSize=function(){return""},l.VisualSampleEntry.prototype.isVideo=function(){return!0},l.VisualSampleEntry.prototype.getWidth=function(){return this.width},l.VisualSampleEntry.prototype.getHeight=function(){return this.height},l.AudioSampleEntry.prototype.isAudio=function(){return!0},l.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},l.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},l.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},l.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},l.MetadataSampleEntry.prototype.isMetadata=function(){return!0},l.decimalToHex=function(e,o){var c=Number(e).toString(16);for(o=typeof o>"u"||o===null?o=2:o;c.length<o;)c="0"+c;return c},l.avc1SampleEntry.prototype.getCodec=l.avc2SampleEntry.prototype.getCodec=l.avc3SampleEntry.prototype.getCodec=l.avc4SampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this);return this.avcC?e+"."+l.decimalToHex(this.avcC.AVCProfileIndication)+l.decimalToHex(this.avcC.profile_compatibility)+l.decimalToHex(this.avcC.AVCLevelIndication):e},l.hev1SampleEntry.prototype.getCodec=l.hvc1SampleEntry.prototype.getCodec=function(){var e,o=l.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(o+=".",this.hvcC.general_profile_space){case 0:o+="";break;case 1:o+="A";break;case 2:o+="B";break;case 3:o+="C";break}o+=this.hvcC.general_profile_idc,o+=".";var c=this.hvcC.general_profile_compatibility,d=0;for(e=0;e<32&&(d|=c&1,e!=31);e++)d<<=1,c>>=1;o+=l.decimalToHex(d,0),o+=".",this.hvcC.general_tier_flag===0?o+="L":o+="H",o+=this.hvcC.general_level_idc;var h=!1,y="";for(e=5;e>=0;e--)(this.hvcC.general_constraint_indicator[e]||h)&&(y="."+l.decimalToHex(this.hvcC.general_constraint_indicator[e],0)+y,h=!0);o+=y}return o},l.vvc1SampleEntry.prototype.getCodec=l.vvi1SampleEntry.prototype.getCodec=function(){var e,o=l.SampleEntry.prototype.getCodec.call(this);if(this.vvcC){o+="."+this.vvcC.general_profile_idc,this.vvcC.general_tier_flag?o+=".H":o+=".L",o+=this.vvcC.general_level_idc;var c="";if(this.vvcC.general_constraint_info){var d=[],h=0;h|=this.vvcC.ptl_frame_only_constraint<<7,h|=this.vvcC.ptl_multilayer_enabled<<6;var y;for(e=0;e<this.vvcC.general_constraint_info.length;++e)h|=this.vvcC.general_constraint_info[e]>>2&63,d.push(h),h&&(y=e),h=this.vvcC.general_constraint_info[e]>>2&3;if(y===void 0)c=".CA";else{c=".C";var v="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",b=0,w=0;for(e=0;e<=y;++e)for(b=b<<8|d[e],w+=8;w>=5;){var x=b>>w-5&31;c+=v[x],w-=5,b&=(1<<w)-1}w&&(b<<=5-w,c+=v[b&31])}}o+=c}return o},l.mp4aSampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var o=this.esds.esd.getOTI(),c=this.esds.esd.getAudioConfig();return e+"."+l.decimalToHex(o)+(c?"."+c:"")}else return e},l.stxtSampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this);return this.mime_format?e+"."+this.mime_format:e},l.vp08SampleEntry.prototype.getCodec=l.vp09SampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this),o=this.vpcC.level;o==0&&(o="00");var c=this.vpcC.bitDepth;return c==8&&(c="08"),e+".0"+this.vpcC.profile+"."+o+"."+c},l.av01SampleEntry.prototype.getCodec=function(){var e=l.SampleEntry.prototype.getCodec.call(this),o=this.av1C.seq_level_idx_0;o<10&&(o="0"+o);var c;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?c=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(c=this.av1C.high_bitdepth===1?"10":"08"),e+"."+this.av1C.seq_profile+"."+o+(this.av1C.seq_tier_0?"H":"M")+"."+c},l.Box.prototype.writeHeader=function(e,o){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),r.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(o||"")),this.size>s?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,null,4),this.type==="uuid"&&e.writeUint8Array(this.uuid),this.size>s&&e.writeUint64(this.size)},l.FullBox.prototype.writeHeader=function(e){this.size+=4,l.Box.prototype.writeHeader.call(this,e," v="+this.version+" f="+this.flags),e.writeUint8(this.version),e.writeUint24(this.flags)},l.Box.prototype.write=function(e){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(e),e.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data))},l.ContainerBox.prototype.write=function(e){this.size=0,this.writeHeader(e);for(var o=0;o<this.boxes.length;o++)this.boxes[o]&&(this.boxes[o].write(e),this.size+=this.boxes[o].size);r.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.TrackReferenceTypeBox.prototype.write=function(e){this.size=this.track_ids.length*4,this.writeHeader(e),e.writeUint32Array(this.track_ids)},l.avcCBox.prototype.write=function(e){var o;for(this.size=7,o=0;o<this.SPS.length;o++)this.size+=2+this.SPS[o].length;for(o=0;o<this.PPS.length;o++)this.size+=2+this.PPS[o].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224),o=0;o<this.SPS.length;o++)e.writeUint16(this.SPS[o].length),e.writeUint8Array(this.SPS[o].nalu);for(e.writeUint8(this.PPS.length),o=0;o<this.PPS.length;o++)e.writeUint16(this.PPS[o].length),e.writeUint8Array(this.PPS[o].nalu);this.ext&&e.writeUint8Array(this.ext)},l.co64Box.prototype.write=function(e){var o;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),o=0;o<this.chunk_offsets.length;o++)e.writeUint64(this.chunk_offsets[o])},l.cslgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)},l.cttsBox.prototype.write=function(e){var o;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),o=0;o<this.sample_counts.length;o++)e.writeUint32(this.sample_counts[o]),this.version===1?e.writeInt32(this.sample_offsets[o]):e.writeUint32(this.sample_offsets[o])},l.drefBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(var o=0;o<this.entries.length;o++)this.entries[o].write(e),this.size+=this.entries[o].size;r.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.elngBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)},l.elstBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(e),e.writeUint32(this.entries.length);for(var o=0;o<this.entries.length;o++){var c=this.entries[o];e.writeUint32(c.segment_duration),e.writeInt32(c.media_time),e.writeInt16(c.media_rate_integer),e.writeInt16(c.media_rate_fraction)}},l.emsgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)},l.ftypBox.prototype.write=function(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,null,4),e.writeUint32(this.minor_version);for(var o=0;o<this.compatible_brands.length;o++)e.writeString(this.compatible_brands[o],null,4)},l.hdlrBox.prototype.write=function(e){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,null,4),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeCString(this.name)},l.hvcCBox.prototype.write=function(e){var o,c;for(this.size=23,o=0;o<this.nalu_arrays.length;o++)for(this.size+=3,c=0;c<this.nalu_arrays[o].length;c++)this.size+=2+this.nalu_arrays[o][c].data.length;for(this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.general_profile_space<<6+this.general_tier_flag<<5+this.general_profile_idc),e.writeUint32(this.general_profile_compatibility),e.writeUint8Array(this.general_constraint_indicator),e.writeUint8(this.general_level_idc),e.writeUint16(this.min_spatial_segmentation_idc+(15<<24)),e.writeUint8(this.parallelismType+252),e.writeUint8(this.chroma_format_idc+252),e.writeUint8(this.bit_depth_luma_minus8+248),e.writeUint8(this.bit_depth_chroma_minus8+248),e.writeUint16(this.avgFrameRate),e.writeUint8((this.constantFrameRate<<6)+(this.numTemporalLayers<<3)+(this.temporalIdNested<<2)+this.lengthSizeMinusOne),e.writeUint8(this.nalu_arrays.length),o=0;o<this.nalu_arrays.length;o++)for(e.writeUint8((this.nalu_arrays[o].completeness<<7)+this.nalu_arrays[o].nalu_type),e.writeUint16(this.nalu_arrays[o].length),c=0;c<this.nalu_arrays[o].length;c++)e.writeUint16(this.nalu_arrays[o][c].data.length),e.writeUint8Array(this.nalu_arrays[o][c].data)},l.kindBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(e),e.writeCString(this.schemeURI),e.writeCString(this.value)},l.mdhdBox.prototype.write=function(e){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint16(this.language),e.writeUint16(0)},l.mehdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.fragment_duration)},l.mfhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)},l.mvhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)},l.SampleEntry.prototype.writeHeader=function(e){this.size=8,l.Box.prototype.writeHeader.call(this,e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)},l.SampleEntry.prototype.writeFooter=function(e){for(var o=0;o<this.boxes.length;o++)this.boxes[o].write(e),this.size+=this.boxes[o].size;r.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.SampleEntry.prototype.write=function(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,r.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.VisualSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=2*7+6*4+32,e.writeUint16(0),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.width),e.writeUint16(this.height),e.writeUint32(this.horizresolution),e.writeUint32(this.vertresolution),e.writeUint32(0),e.writeUint16(this.frame_count),e.writeUint8(Math.min(31,this.compressorname.length)),e.writeString(this.compressorname,null,31),e.writeUint16(this.depth),e.writeInt16(-1),this.writeFooter(e)},l.AudioSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=2*4+3*4,e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeUint16(0),e.writeUint16(0),e.writeUint32(this.samplerate<<16),this.writeFooter(e)},l.stppSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)},l.SampleGroupEntry.prototype.write=function(e){e.writeUint8Array(this.data)},l.sbgpBox.prototype.write=function(e){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(e),e.writeString(this.grouping_type,null,4),e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(var o=0;o<this.entries.length;o++){var c=this.entries[o];e.writeInt32(c.sample_count),e.writeInt32(c.group_description_index)}},l.sgpdBox.prototype.write=function(e){var o,c;for(this.flags=0,this.size=12,o=0;o<this.entries.length;o++)c=this.entries[o],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=c.data.length);for(this.writeHeader(e),e.writeString(this.grouping_type,null,4),this.version===1&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length),o=0;o<this.entries.length;o++)c=this.entries[o],this.version===1&&this.default_length===0&&e.writeUint32(c.description_length),c.write(e)},l.sidxBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset),e.writeUint16(0),e.writeUint16(this.references.length);for(var o=0;o<this.references.length;o++){var c=this.references[o];e.writeUint32(c.reference_type<<31|c.referenced_size),e.writeUint32(c.subsegment_duration),e.writeUint32(c.starts_with_SAP<<31|c.SAP_type<<28|c.SAP_delta_time)}},l.smhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=4,this.writeHeader(e),e.writeUint16(this.balance),e.writeUint16(0)},l.stcoBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)},l.stscBox.prototype.write=function(e){var o;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length),o=0;o<this.first_chunk.length;o++)e.writeUint32(this.first_chunk[o]),e.writeUint32(this.samples_per_chunk[o]),e.writeUint32(this.sample_description_index[o])},l.stsdBox.prototype.write=function(e){var o;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4,o=0;o<this.entries.length;o++)this.entries[o].write(e),this.size+=this.entries[o].size;r.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},l.stshBox.prototype.write=function(e){var o;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length),o=0;o<this.shadowed_sample_numbers.length;o++)e.writeUint32(this.shadowed_sample_numbers[o]),e.writeUint32(this.sync_sample_numbers[o])},l.stssBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)},l.stszBox.prototype.write=function(e){var o,c=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(o=0;o+1<this.sample_sizes.length;)if(this.sample_sizes[o+1]!==this.sample_sizes[0]){c=!1;break}else o++;else c=!1;this.size=8,c||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),c?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),c||e.writeUint32Array(this.sample_sizes)},l.sttsBox.prototype.write=function(e){var o;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),o=0;o<this.sample_counts.length;o++)e.writeUint32(this.sample_counts[o]),e.writeUint32(this.sample_deltas[o])},l.tfdtBox.prototype.write=function(e){var o=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>o?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(e),this.version===1?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)},l.tfhdBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&l.TFHD_FLAG_BASE_DATA_OFFSET&&e.writeUint64(this.base_data_offset),this.flags&l.TFHD_FLAG_SAMPLE_DESC&&e.writeUint32(this.default_sample_description_index),this.flags&l.TFHD_FLAG_SAMPLE_DUR&&e.writeUint32(this.default_sample_duration),this.flags&l.TFHD_FLAG_SAMPLE_SIZE&&e.writeUint32(this.default_sample_size),this.flags&l.TFHD_FLAG_SAMPLE_FLAGS&&e.writeUint32(this.default_sample_flags)},l.tkhdBox.prototype.write=function(e){this.version=0,this.size=4*18+2*4,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration),e.writeUint32(0),e.writeUint32(0),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeUint16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)},l.trexBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)},l.trunBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&l.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&l.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&l.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&l.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&l.TRUN_FLAGS_FIRST_FLAG&&e.writeUint32(this.first_sample_flags);for(var o=0;o<this.sample_count;o++)this.flags&l.TRUN_FLAGS_DURATION&&e.writeUint32(this.sample_duration[o]),this.flags&l.TRUN_FLAGS_SIZE&&e.writeUint32(this.sample_size[o]),this.flags&l.TRUN_FLAGS_FLAGS&&e.writeUint32(this.sample_flags[o]),this.flags&l.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?e.writeUint32(this.sample_composition_time_offset[o]):e.writeInt32(this.sample_composition_time_offset[o]))},l["url Box"].prototype.write=function(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)},l["urn Box"].prototype.write=function(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)},l.vmhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)},l.cttsBox.prototype.unpack=function(e){var o,c,d;for(d=0,o=0;o<this.sample_counts.length;o++)for(c=0;c<this.sample_counts[o];c++)e[d].pts=e[d].dts+this.sample_offsets[o],d++},l.sttsBox.prototype.unpack=function(e){var o,c,d;for(d=0,o=0;o<this.sample_counts.length;o++)for(c=0;c<this.sample_counts[o];c++)d===0?e[d].dts=0:e[d].dts=e[d-1].dts+this.sample_deltas[o],d++},l.stcoBox.prototype.unpack=function(e){var o;for(o=0;o<this.chunk_offsets.length;o++)e[o].offset=this.chunk_offsets[o]},l.stscBox.prototype.unpack=function(e){var o,c,d,h,y;for(h=0,y=0,o=0;o<this.first_chunk.length;o++)for(c=0;c<(o+1<this.first_chunk.length?this.first_chunk[o+1]:1/0);c++)for(y++,d=0;d<this.samples_per_chunk[o];d++){if(e[h])e[h].description_index=this.sample_description_index[o],e[h].chunk_index=y;else return;h++}},l.stszBox.prototype.unpack=function(e){var o;for(o=0;o<this.sample_sizes.length;o++)e[o].size=this.sample_sizes[o]},l.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],l.boxEqualFields=function(e,o){if(e&&!o)return!1;var c;for(c in e)if(!(l.DIFF_BOXES_PROP_NAMES.indexOf(c)>-1)){if(e[c]instanceof l.Box||o[c]instanceof l.Box||typeof e[c]>"u"||typeof o[c]>"u"||typeof e[c]=="function"||typeof o[c]=="function"||e.subBoxNames&&e.subBoxNames.indexOf(c.slice(0,4))>-1||o.subBoxNames&&o.subBoxNames.indexOf(c.slice(0,4))>-1||c==="data"||c==="start"||c==="size"||c==="creation_time"||c==="modification_time"||l.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(c)>-1)continue;if(e[c]!==o[c])return!1}return!0},l.boxEqual=function(e,o){if(!l.boxEqualFields(e,o))return!1;for(var c=0;c<l.DIFF_BOXES_PROP_NAMES.length;c++){var d=l.DIFF_BOXES_PROP_NAMES[c];if(e[d]&&o[d]&&!l.boxEqual(e[d],o[d]))return!1}return!0};var m=function(){};m.prototype.parseSample=function(e){var o={},c;o.resources=[];var d=new n(e.data.buffer);if(!e.subsamples||e.subsamples.length===0)o.documentString=d.readString(e.data.length);else if(o.documentString=d.readString(e.subsamples[0].size),e.subsamples.length>1)for(c=1;c<e.subsamples.length;c++)o.resources[c]=d.readUint8Array(e.subsamples[c].size);return typeof DOMParser<"u"&&(o.document=new DOMParser().parseFromString(o.documentString,"application/xml")),o};var g=function(){};g.prototype.parseSample=function(e){var o,c=new n(e.data.buffer);return o=c.readString(e.data.length),o},g.prototype.parseConfig=function(e){var o,c=new n(e.buffer);return c.readUint32(),o=c.readCString(),o},t.XMLSubtitlein4Parser=m,t.Textin4Parser=g;var p=function(e){this.stream=e||new u,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};p.prototype.setSegmentOptions=function(e,o,c){var d=this.getTrackById(e);if(d){var h={};this.fragmentedTracks.push(h),h.id=e,h.user=o,h.trak=d,d.nextSample=0,h.segmentStream=null,h.nb_samples=1e3,h.rapAlignement=!0,c&&(c.nbSamples&&(h.nb_samples=c.nbSamples),c.rapAlignement&&(h.rapAlignement=c.rapAlignement))}},p.prototype.unsetSegmentOptions=function(e){for(var o=-1,c=0;c<this.fragmentedTracks.length;c++){var d=this.fragmentedTracks[c];d.id==e&&(o=c)}o>-1&&this.fragmentedTracks.splice(o,1)},p.prototype.setExtractionOptions=function(e,o,c){var d=this.getTrackById(e);if(d){var h={};this.extractedTracks.push(h),h.id=e,h.user=o,h.trak=d,d.nextSample=0,h.nb_samples=1e3,h.samples=[],c&&c.nbSamples&&(h.nb_samples=c.nbSamples)}},p.prototype.unsetExtractionOptions=function(e){for(var o=-1,c=0;c<this.extractedTracks.length;c++){var d=this.extractedTracks[c];d.id==e&&(o=c)}o>-1&&this.extractedTracks.splice(o,1)},p.prototype.parse=function(){var e,o,c=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),e=l.parseOneBox(this.stream,c),e.code===l.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(e))continue;return}else return;else{var d;switch(o=e.box,d=o.type!=="uuid"?o.type:o.uuid,this.boxes.push(o),d){case"mdat":this.mdats.push(o);break;case"moof":this.moofs.push(o);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[d]!==void 0&&r.warn("ISOFile","Duplicate Box of type: "+d+", overriding previous occurrence"),this[d]=o;break}this.updateUsedBytes&&this.updateUsedBytes(o,e)}},p.prototype.checkBuffer=function(e){if(e==null)throw"Buffer must be defined and non empty";if(e.fileStart===void 0)throw"Buffer must have a fileStart property";return e.byteLength===0?(r.warn("ISOFile","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.stream.logBufferLevel(),!1):(r.info("ISOFile","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),this.stream.initialized()?!0:(r.warn("ISOFile","Not ready to start parsing"),!1))},p.prototype.appendBuffer=function(e,o){var c;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(o),this.nextSeekPosition?(c=this.nextSeekPosition,this.nextSeekPosition=void 0):c=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(c=this.stream.getEndFilePositionAfter(c))):this.nextParsePosition?c=this.nextParsePosition:c=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(r.info("ISOFile","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+c),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),r.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),c},p.prototype.getInfo=function(){var e,o,c={},d,h,y,v,b=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(c.hasMoov=!0,c.duration=this.moov.mvhd.duration,c.timescale=this.moov.mvhd.timescale,c.isFragmented=this.moov.mvex!=null,c.isFragmented&&this.moov.mvex.mehd&&(c.fragment_duration=this.moov.mvex.mehd.fragment_duration),c.isProgressive=this.isProgressive,c.hasIOD=this.moov.iods!=null,c.brands=[],c.brands.push(this.ftyp.major_brand),c.brands=c.brands.concat(this.ftyp.compatible_brands),c.created=new Date(b+this.moov.mvhd.creation_time*1e3),c.modified=new Date(b+this.moov.mvhd.modification_time*1e3),c.tracks=[],c.audioTracks=[],c.videoTracks=[],c.subtitleTracks=[],c.metadataTracks=[],c.hintTracks=[],c.otherTracks=[],e=0;e<this.moov.traks.length;e++){if(d=this.moov.traks[e],v=d.mdia.minf.stbl.stsd.entries[0],h={},c.tracks.push(h),h.id=d.tkhd.track_id,h.name=d.mdia.hdlr.name,h.references=[],d.tref)for(o=0;o<d.tref.boxes.length;o++)y={},h.references.push(y),y.type=d.tref.boxes[o].type,y.track_ids=d.tref.boxes[o].track_ids;d.edts&&(h.edits=d.edts.elst.entries),h.created=new Date(b+d.tkhd.creation_time*1e3),h.modified=new Date(b+d.tkhd.modification_time*1e3),h.movie_duration=d.tkhd.duration,h.movie_timescale=c.timescale,h.layer=d.tkhd.layer,h.alternate_group=d.tkhd.alternate_group,h.volume=d.tkhd.volume,h.matrix=d.tkhd.matrix,h.track_width=d.tkhd.width/65536,h.track_height=d.tkhd.height/65536,h.timescale=d.mdia.mdhd.timescale,h.cts_shift=d.mdia.minf.stbl.cslg,h.duration=d.mdia.mdhd.duration,h.samples_duration=d.samples_duration,h.codec=v.getCodec(),h.kind=d.udta&&d.udta.kinds.length?d.udta.kinds[0]:{schemeURI:"",value:""},h.language=d.mdia.elng?d.mdia.elng.extended_language:d.mdia.mdhd.languageString,h.nb_samples=d.samples.length,h.size=d.samples_size,h.bitrate=h.size*8*h.timescale/h.samples_duration,v.isAudio()?(h.type="audio",c.audioTracks.push(h),h.audio={},h.audio.sample_rate=v.getSampleRate(),h.audio.channel_count=v.getChannelCount(),h.audio.sample_size=v.getSampleSize()):v.isVideo()?(h.type="video",c.videoTracks.push(h),h.video={},h.video.width=v.getWidth(),h.video.height=v.getHeight()):v.isSubtitle()?(h.type="subtitles",c.subtitleTracks.push(h)):v.isHint()?(h.type="metadata",c.hintTracks.push(h)):v.isMetadata()?(h.type="metadata",c.metadataTracks.push(h)):(h.type="metadata",c.otherTracks.push(h))}else c.hasMoov=!1;if(c.mime="",c.hasMoov&&c.tracks){for(c.videoTracks&&c.videoTracks.length>0?c.mime+='video/mp4; codecs="':c.audioTracks&&c.audioTracks.length>0?c.mime+='audio/mp4; codecs="':c.mime+='application/mp4; codecs="',e=0;e<c.tracks.length;e++)e!==0&&(c.mime+=","),c.mime+=c.tracks[e].codec;c.mime+='"; profiles="',c.mime+=this.ftyp.compatible_brands.join(),c.mime+='"'}return c},p.prototype.setNextSeekPositionFromSample=function(e){e&&(this.nextSeekPosition?this.nextSeekPosition=Math.min(e.offset+e.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=e.offset+e.alreadyRead)},p.prototype.processSamples=function(e){var o,c;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(o=0;o<this.fragmentedTracks.length;o++){var d=this.fragmentedTracks[o];for(c=d.trak;c.nextSample<c.samples.length&&this.sampleProcessingStarted;){r.debug("ISOFile","Creating media fragment on track #"+d.id+" for sample "+c.nextSample);var h=this.createFragment(d.id,c.nextSample,d.segmentStream);if(h)d.segmentStream=h,c.nextSample++;else break;if((c.nextSample%d.nb_samples===0||e||c.nextSample>=c.samples.length)&&(r.info("ISOFile","Sending fragmented data on track #"+d.id+" for samples ["+Math.max(0,c.nextSample-d.nb_samples)+","+(c.nextSample-1)+"]"),r.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(d.id,d.user,d.segmentStream.buffer,c.nextSample,e||c.nextSample>=c.samples.length),d.segmentStream=null,d!==this.fragmentedTracks[o]))break}}if(this.onSamples!==null)for(o=0;o<this.extractedTracks.length;o++){var y=this.extractedTracks[o];for(c=y.trak;c.nextSample<c.samples.length&&this.sampleProcessingStarted;){r.debug("ISOFile","Exporting on track #"+y.id+" sample #"+c.nextSample);var v=this.getSample(c,c.nextSample);if(v)c.nextSample++,y.samples.push(v);else{this.setNextSeekPositionFromSample(c.samples[c.nextSample]);break}if((c.nextSample%y.nb_samples===0||c.nextSample>=c.samples.length)&&(r.debug("ISOFile","Sending samples on track #"+y.id+" for sample "+c.nextSample),this.onSamples&&this.onSamples(y.id,y.user,y.samples),y.samples=[],y!==this.extractedTracks[o]))break}}}},p.prototype.getBox=function(e){var o=this.getBoxes(e,!0);return o.length?o[0]:null},p.prototype.getBoxes=function(e,o){var c=[];return p._sweep.call(this,e,c,o),c},p._sweep=function(e,o,c){this.type&&this.type==e&&o.push(this);for(var d in this.boxes){if(o.length&&c)return;p._sweep.call(this.boxes[d],e,o,c)}},p.prototype.getTrackSamplesInfo=function(e){var o=this.getTrackById(e);if(o)return o.samples},p.prototype.getTrackSample=function(e,o){var c=this.getTrackById(e),d=this.getSample(c,o);return d},p.prototype.releaseUsedSamples=function(e,o){var c=0,d=this.getTrackById(e);d.lastValidSample||(d.lastValidSample=0);for(var h=d.lastValidSample;h<o;h++)c+=this.releaseSample(d,h);r.info("ISOFile","Track #"+e+" released samples up to "+o+" (released size: "+c+", remaining: "+this.samplesDataSize+")"),d.lastValidSample=o},p.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},p.prototype.stop=function(){this.sampleProcessingStarted=!1},p.prototype.flush=function(){r.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},p.prototype.seekTrack=function(e,o,c){var d,h,y=1/0,v=0,b=0,w;if(c.samples.length===0)return r.info("ISOFile","No sample in track, cannot seek! Using time "+r.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(d=0;d<c.samples.length;d++){if(h=c.samples[d],d===0)b=0,w=h.timescale;else if(h.cts>e*h.timescale){b=d-1;break}o&&h.is_sync&&(v=d)}for(o&&(b=v),e=c.samples[b].cts,c.nextSample=b;c.samples[b].alreadyRead===c.samples[b].size&&c.samples[b+1];)b++;return y=c.samples[b].offset+c.samples[b].alreadyRead,r.info("ISOFile","Seeking to "+(o?"RAP":"")+" sample #"+c.nextSample+" on track "+c.tkhd.track_id+", time "+r.getDurationString(e,w)+" and offset: "+y),{offset:y,time:e/w}},p.prototype.getTrackDuration=function(e){var o;return e.samples?(o=e.samples[e.samples.length-1],(o.cts+o.duration)/o.timescale):1/0},p.prototype.seek=function(e,o){var c=this.moov,d,h,y,v={offset:1/0,time:1/0};if(this.moov){for(y=0;y<c.traks.length;y++)d=c.traks[y],!(e>this.getTrackDuration(d))&&(h=this.seekTrack(e,o,d),h.offset<v.offset&&(v.offset=h.offset),h.time<v.time&&(v.time=h.time));return r.info("ISOFile","Seeking at time "+r.getDurationString(v.time,1)+" needs a buffer with a fileStart position of "+v.offset),v.offset===1/0?v={offset:this.nextParsePosition,time:0}:v.offset=this.stream.getEndFilePositionAfter(v.offset),r.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+v.offset),v}else throw"Cannot seek: moov not received!"},p.prototype.equal=function(e){for(var o=0;o<this.boxes.length&&o<e.boxes.length;){var c=this.boxes[o],d=e.boxes[o];if(!l.boxEqual(c,d))return!1;o++}return!0},t.ISOFile=p,p.prototype.lastBoxStartPosition=0,p.prototype.parsingMdat=null,p.prototype.nextParsePosition=0,p.prototype.discardMdatData=!1,p.prototype.processIncompleteBox=function(e){var o,c,d;return e.type==="mdat"?(o=new l[e.type+"Box"](e.size),this.parsingMdat=o,this.boxes.push(o),this.mdats.push(o),o.start=e.start,o.hdr_size=e.hdr_size,this.stream.addUsedBytes(o.hdr_size),this.lastBoxStartPosition=o.start+o.size,d=this.stream.seek(o.start+o.size,!1,this.discardMdatData),d?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=o.start+o.size,!1)):(e.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),c=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,c?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},p.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},p.prototype.processIncompleteMdat=function(){var e,o;return e=this.parsingMdat,o=this.stream.seek(e.start+e.size,!1,this.discardMdatData),o?(r.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},p.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},p.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},p.prototype.updateUsedBytes=function(e,o){this.stream.addUsedBytes&&(e.type==="mdat"?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))},p.prototype.add=l.Box.prototype.add,p.prototype.addBox=l.Box.prototype.addBox,p.prototype.init=function(e){var o=e||{};this.add("ftyp").set("major_brand",o.brands&&o.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",o.brands||["iso4"]);var c=this.add("moov");return c.add("mvhd").set("timescale",o.timescale||600).set("rate",o.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",o.duration||0).set("volume",o.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),c.add("mvex"),this},p.prototype.addTrack=function(e){this.moov||this.init(e);var o=e||{};o.width=o.width||320,o.height=o.height||320,o.id=o.id||this.moov.mvhd.next_track_id,o.type=o.type||"avc1";var c=this.moov.add("trak");this.moov.mvhd.next_track_id=o.id+1,c.add("tkhd").set("flags",l.TKHD_FLAG_ENABLED|l.TKHD_FLAG_IN_MOVIE|l.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",o.id).set("duration",o.duration||0).set("layer",o.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",o.width<<16).set("height",o.height<<16);var d=c.add("mdia");d.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",o.timescale||1).set("duration",o.media_duration||0).set("language",o.language||"und"),d.add("hdlr").set("handler",o.hdlr||"vide").set("name",o.name||"Track created with MP4Box.js"),d.add("elng").set("extended_language",o.language||"fr-FR");var h=d.add("minf");if(l[o.type+"SampleEntry"]!==void 0){var y=new l[o.type+"SampleEntry"];y.data_reference_index=1;var v="";for(var b in l.sampleEntryCodes)for(var w=l.sampleEntryCodes[b],x=0;x<w.length;x++)if(w.indexOf(o.type)>-1){v=b;break}switch(v){case"Visual":if(h.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),y.set("width",o.width).set("height",o.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",o.type+" Compressor").set("depth",24),o.avcDecoderConfigRecord){var C=new l.avcCBox;C.parse(new n(o.avcDecoderConfigRecord)),y.addBox(C)}else if(o.hevcDecoderConfigRecord){var U=new l.hvcCBox;U.parse(new n(o.hevcDecoderConfigRecord)),y.addBox(U)}break;case"Audio":h.add("smhd").set("balance",o.balance||0),y.set("channel_count",o.channel_count||2).set("samplesize",o.samplesize||16).set("samplerate",o.samplerate||65536);break;case"Hint":h.add("hmhd");break;case"Subtitle":switch(h.add("sthd"),o.type){case"stpp":y.set("namespace",o.namespace||"nonamespace").set("schema_location",o.schema_location||"").set("auxiliary_mime_types",o.auxiliary_mime_types||"");break}break;case"Metadata":h.add("nmhd");break;case"System":h.add("nmhd");break;default:h.add("nmhd");break}o.description&&y.addBox(o.description),o.description_boxes&&o.description_boxes.forEach(function(E){y.addBox(E)}),h.add("dinf").add("dref").addEntry(new l["url Box"]().set("flags",1));var T=h.add("stbl");return T.add("stsd").addEntry(y),T.add("stts").set("sample_counts",[]).set("sample_deltas",[]),T.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),T.add("stco").set("chunk_offsets",[]),T.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",o.id).set("default_sample_description_index",o.default_sample_description_index||1).set("default_sample_duration",o.default_sample_duration||0).set("default_sample_size",o.default_sample_size||0).set("default_sample_flags",o.default_sample_flags||0),this.buildTrakSampleLists(c),o.id}},l.Box.prototype.computeSize=function(e){var o=e||new a;o.endianness=a.BIG_ENDIAN,this.write(o)},p.prototype.addSample=function(e,o,c){var d=c||{},h={},y=this.getTrackById(e);if(y!==null){h.number=y.samples.length,h.track_id=y.tkhd.track_id,h.timescale=y.mdia.mdhd.timescale,h.description_index=d.sample_description_index?d.sample_description_index-1:0,h.description=y.mdia.minf.stbl.stsd.entries[h.description_index],h.data=o,h.size=o.byteLength,h.alreadyRead=h.size,h.duration=d.duration||1,h.cts=d.cts||0,h.dts=d.dts||0,h.is_sync=d.is_sync||!1,h.is_leading=d.is_leading||0,h.depends_on=d.depends_on||0,h.is_depended_on=d.is_depended_on||0,h.has_redundancy=d.has_redundancy||0,h.degradation_priority=d.degradation_priority||0,h.offset=0,h.subsamples=d.subsamples,y.samples.push(h),y.samples_size+=h.size,y.samples_duration+=h.duration,y.first_dts===void 0&&(y.first_dts=d.dts),this.processSamples();var v=this.createSingleSampleMoof(h);return this.addBox(v),v.computeSize(),v.trafs[0].truns[0].data_offset=v.size+8,this.add("mdat").data=new Uint8Array(o),h}},p.prototype.createSingleSampleMoof=function(e){var o=0;e.is_sync?o=1<<25:o=65536;var c=new l.moofBox;c.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var d=c.add("traf"),h=this.getTrackById(e.track_id);return d.add("tfhd").set("track_id",e.track_id).set("flags",l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),d.add("tfdt").set("baseMediaDecodeTime",e.dts-(h.first_dts||0)),d.add("trun").set("flags",l.TRUN_FLAGS_DATA_OFFSET|l.TRUN_FLAGS_DURATION|l.TRUN_FLAGS_SIZE|l.TRUN_FLAGS_FLAGS|l.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[e.duration]).set("sample_size",[e.size]).set("sample_flags",[o]).set("sample_composition_time_offset",[e.cts-e.dts]),c},p.prototype.lastMoofIndex=0,p.prototype.samplesDataSize=0,p.prototype.resetTables=function(){var e,o,c,d,h,y,v,b;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,e=0;e<this.moov.traks.length;e++){o=this.moov.traks[e],o.tkhd.duration=0,o.mdia.mdhd.duration=0,c=o.mdia.minf.stbl.stco||o.mdia.minf.stbl.co64,c.chunk_offsets=[],d=o.mdia.minf.stbl.stsc,d.first_chunk=[],d.samples_per_chunk=[],d.sample_description_index=[],h=o.mdia.minf.stbl.stsz||o.mdia.minf.stbl.stz2,h.sample_sizes=[],y=o.mdia.minf.stbl.stts,y.sample_counts=[],y.sample_deltas=[],v=o.mdia.minf.stbl.ctts,v&&(v.sample_counts=[],v.sample_offsets=[]),b=o.mdia.minf.stbl.stss;var w=o.mdia.minf.stbl.boxes.indexOf(b);w!=-1&&(o.mdia.minf.stbl.boxes[w]=null)}},p.initSampleGroups=function(e,o,c,d,h){var y,v,b,w;function x(C,U,T){this.grouping_type=C,this.grouping_type_parameter=U,this.sbgp=T,this.last_sample_in_run=-1,this.entry_index=-1}for(o&&(o.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]),v=0;v<c.length;v++){for(w=c[v].grouping_type+"/"+c[v].grouping_type_parameter,b=new x(c[v].grouping_type,c[v].grouping_type_parameter,c[v]),o&&(o.sample_groups_info[w]=b),e.sample_groups_info[w]||(e.sample_groups_info[w]=b),y=0;y<d.length;y++)d[y].grouping_type===c[v].grouping_type&&(b.description=d[y],b.description.used=!0);if(h)for(y=0;y<h.length;y++)h[y].grouping_type===c[v].grouping_type&&(b.fragment_description=h[y],b.fragment_description.used=!0,b.is_fragment=!0)}if(o){if(h)for(v=0;v<h.length;v++)!h[v].used&&h[v].version>=2&&(w=h[v].grouping_type+"/0",b=new x(h[v].grouping_type,0),b.is_fragment=!0,o.sample_groups_info[w]||(o.sample_groups_info[w]=b))}else for(v=0;v<d.length;v++)!d[v].used&&d[v].version>=2&&(w=d[v].grouping_type+"/0",b=new x(d[v].grouping_type,0),e.sample_groups_info[w]||(e.sample_groups_info[w]=b))},p.setSampleGroupProperties=function(e,o,c,d){var h,y;o.sample_groups=[];for(h in d)if(o.sample_groups[h]={},o.sample_groups[h].grouping_type=d[h].grouping_type,o.sample_groups[h].grouping_type_parameter=d[h].grouping_type_parameter,c>=d[h].last_sample_in_run&&(d[h].last_sample_in_run<0&&(d[h].last_sample_in_run=0),d[h].entry_index++,d[h].entry_index<=d[h].sbgp.entries.length-1&&(d[h].last_sample_in_run+=d[h].sbgp.entries[d[h].entry_index].sample_count)),d[h].entry_index<=d[h].sbgp.entries.length-1?o.sample_groups[h].group_description_index=d[h].sbgp.entries[d[h].entry_index].group_description_index:o.sample_groups[h].group_description_index=-1,o.sample_groups[h].group_description_index!==0){var v;d[h].fragment_description?v=d[h].fragment_description:v=d[h].description,o.sample_groups[h].group_description_index>0?(o.sample_groups[h].group_description_index>65535?y=(o.sample_groups[h].group_description_index>>16)-1:y=o.sample_groups[h].group_description_index-1,v&&y>=0&&(o.sample_groups[h].description=v.entries[y])):v&&v.version>=2&&v.default_group_description_index>0&&(o.sample_groups[h].description=v.entries[v.default_group_description_index-1])}},p.process_sdtp=function(e,o,c){o&&(e?(o.is_leading=e.is_leading[c],o.depends_on=e.sample_depends_on[c],o.is_depended_on=e.sample_is_depended_on[c],o.has_redundancy=e.sample_has_redundancy[c]):(o.is_leading=0,o.depends_on=0,o.is_depended_on=0,o.has_redundancy=0))},p.prototype.buildSampleLists=function(){var e,o;for(e=0;e<this.moov.traks.length;e++)o=this.moov.traks[e],this.buildTrakSampleLists(o)},p.prototype.buildTrakSampleLists=function(e){var o,c,d,h,y,v,b,w,x,C,U,T,E,R,k,z,M,O,$,F,P,L,D,j;if(e.samples=[],e.samples_duration=0,e.samples_size=0,c=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,d=e.mdia.minf.stbl.stsc,h=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,y=e.mdia.minf.stbl.stts,v=e.mdia.minf.stbl.ctts,b=e.mdia.minf.stbl.stss,w=e.mdia.minf.stbl.stsd,x=e.mdia.minf.stbl.subs,T=e.mdia.minf.stbl.stdp,C=e.mdia.minf.stbl.sbgps,U=e.mdia.minf.stbl.sgpds,O=-1,$=-1,F=-1,P=-1,L=0,D=0,j=0,p.initSampleGroups(e,null,C,U),!(typeof h>"u")){for(o=0;o<h.sample_sizes.length;o++){var B={};B.number=o,B.track_id=e.tkhd.track_id,B.timescale=e.mdia.mdhd.timescale,B.alreadyRead=0,e.samples[o]=B,B.size=h.sample_sizes[o],e.samples_size+=B.size,o===0?(R=1,E=0,B.chunk_index=R,B.chunk_run_index=E,M=d.samples_per_chunk[E],z=0,E+1<d.first_chunk.length?k=d.first_chunk[E+1]-1:k=1/0):o<M?(B.chunk_index=R,B.chunk_run_index=E):(R++,B.chunk_index=R,z=0,R<=k||(E++,E+1<d.first_chunk.length?k=d.first_chunk[E+1]-1:k=1/0),B.chunk_run_index=E,M+=d.samples_per_chunk[E]),B.description_index=d.sample_description_index[B.chunk_run_index]-1,B.description=w.entries[B.description_index],B.offset=c.chunk_offsets[B.chunk_index-1]+z,z+=B.size,o>O&&($++,O<0&&(O=0),O+=y.sample_counts[$]),o>0?(e.samples[o-1].duration=y.sample_deltas[$],e.samples_duration+=e.samples[o-1].duration,B.dts=e.samples[o-1].dts+e.samples[o-1].duration):B.dts=0,v?(o>=F&&(P++,F<0&&(F=0),F+=v.sample_counts[P]),B.cts=e.samples[o].dts+v.sample_offsets[P]):B.cts=B.dts,b?(o==b.sample_numbers[L]-1?(B.is_sync=!0,L++):(B.is_sync=!1,B.degradation_priority=0),x&&x.entries[D].sample_delta+j==o+1&&(B.subsamples=x.entries[D].subsamples,j+=x.entries[D].sample_delta,D++)):B.is_sync=!0,p.process_sdtp(e.mdia.minf.stbl.sdtp,B,B.number),T?B.degradation_priority=T.priority[o]:B.degradation_priority=0,x&&x.entries[D].sample_delta+j==o&&(B.subsamples=x.entries[D].subsamples,j+=x.entries[D].sample_delta),(C.length>0||U.length>0)&&p.setSampleGroupProperties(e,B,o,e.sample_groups_info)}o>0&&(e.samples[o-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[o-1].dts,0),e.samples_duration+=e.samples[o-1].duration)}},p.prototype.updateSampleLists=function(){var e,o,c,d,h,y,v,b,w,x,C,U,T,E,R;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(w=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,w.type=="moof")for(x=w,e=0;e<x.trafs.length;e++){for(C=x.trafs[e],U=this.getTrackById(C.tfhd.track_id),T=this.getTrexById(C.tfhd.track_id),C.tfhd.flags&l.TFHD_FLAG_SAMPLE_DESC?d=C.tfhd.default_sample_description_index:d=T?T.default_sample_description_index:1,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_DUR?h=C.tfhd.default_sample_duration:h=T?T.default_sample_duration:0,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_SIZE?y=C.tfhd.default_sample_size:y=T?T.default_sample_size:0,C.tfhd.flags&l.TFHD_FLAG_SAMPLE_FLAGS?v=C.tfhd.default_sample_flags:v=T?T.default_sample_flags:0,C.sample_number=0,C.sbgps.length>0&&p.initSampleGroups(U,C,C.sbgps,U.mdia.minf.stbl.sgpds,C.sgpds),o=0;o<C.truns.length;o++){var k=C.truns[o];for(c=0;c<k.sample_count;c++){E={},E.moof_number=this.lastMoofIndex,E.number_in_traf=C.sample_number,C.sample_number++,E.number=U.samples.length,C.first_sample_index=U.samples.length,U.samples.push(E),E.track_id=U.tkhd.track_id,E.timescale=U.mdia.mdhd.timescale,E.description_index=d-1,E.description=U.mdia.minf.stbl.stsd.entries[E.description_index],E.size=y,k.flags&l.TRUN_FLAGS_SIZE&&(E.size=k.sample_size[c]),U.samples_size+=E.size,E.duration=h,k.flags&l.TRUN_FLAGS_DURATION&&(E.duration=k.sample_duration[c]),U.samples_duration+=E.duration,U.first_traf_merged||c>0?E.dts=U.samples[U.samples.length-2].dts+U.samples[U.samples.length-2].duration:(C.tfdt?E.dts=C.tfdt.baseMediaDecodeTime:E.dts=0,U.first_traf_merged=!0),E.cts=E.dts,k.flags&l.TRUN_FLAGS_CTS_OFFSET&&(E.cts=E.dts+k.sample_composition_time_offset[c]),R=v,k.flags&l.TRUN_FLAGS_FLAGS?R=k.sample_flags[c]:c===0&&k.flags&l.TRUN_FLAGS_FIRST_FLAG&&(R=k.first_sample_flags),E.is_sync=!(R>>16&1),E.is_leading=R>>26&3,E.depends_on=R>>24&3,E.is_depended_on=R>>22&3,E.has_redundancy=R>>20&3,E.degradation_priority=R&65535;var z=!!(C.tfhd.flags&l.TFHD_FLAG_BASE_DATA_OFFSET),M=!!(C.tfhd.flags&l.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),O=!!(k.flags&l.TRUN_FLAGS_DATA_OFFSET),$=0;z?$=C.tfhd.base_data_offset:M||o===0?$=x.start:$=b,o===0&&c===0?O?E.offset=$+k.data_offset:E.offset=$:E.offset=b,b=E.offset+E.size,(C.sbgps.length>0||C.sgpds.length>0||U.mdia.minf.stbl.sbgps.length>0||U.mdia.minf.stbl.sgpds.length>0)&&p.setSampleGroupProperties(U,E,E.number_in_traf,C.sample_groups_info)}}if(C.subs){U.has_fragment_subsamples=!0;var F=C.first_sample_index;for(o=0;o<C.subs.entries.length;o++)F+=C.subs.entries[o].sample_delta,E=U.samples[F-1],E.subsamples=C.subs.entries[o].subsamples}}}},p.prototype.getSample=function(e,o){var c,d=e.samples[o];if(!this.moov)return null;if(!d.data)d.data=new Uint8Array(d.size),d.alreadyRead=0,this.samplesDataSize+=d.size,r.debug("ISOFile","Allocating sample #"+o+" on track #"+e.tkhd.track_id+" of size "+d.size+" (total: "+this.samplesDataSize+")");else if(d.alreadyRead==d.size)return d;for(;;){var h=this.stream.findPosition(!0,d.offset+d.alreadyRead,!1);if(h>-1){c=this.stream.buffers[h];var y=c.byteLength-(d.offset+d.alreadyRead-c.fileStart);if(d.size-d.alreadyRead<=y)return r.debug("ISOFile","Getting sample #"+o+" data (alreadyRead: "+d.alreadyRead+" offset: "+(d.offset+d.alreadyRead-c.fileStart)+" read size: "+(d.size-d.alreadyRead)+" full size: "+d.size+")"),a.memcpy(d.data.buffer,d.alreadyRead,c,d.offset+d.alreadyRead-c.fileStart,d.size-d.alreadyRead),c.usedBytes+=d.size-d.alreadyRead,this.stream.logBufferLevel(),d.alreadyRead=d.size,d;if(y===0)return null;r.debug("ISOFile","Getting sample #"+o+" partial data (alreadyRead: "+d.alreadyRead+" offset: "+(d.offset+d.alreadyRead-c.fileStart)+" read size: "+y+" full size: "+d.size+")"),a.memcpy(d.data.buffer,d.alreadyRead,c,d.offset+d.alreadyRead-c.fileStart,y),d.alreadyRead+=y,c.usedBytes+=y,this.stream.logBufferLevel()}else return null}},p.prototype.releaseSample=function(e,o){var c=e.samples[o];return c.data?(this.samplesDataSize-=c.size,c.data=null,c.alreadyRead=0,c.size):0},p.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},p.prototype.getCodecs=function(){var e,o="";for(e=0;e<this.moov.traks.length;e++){var c=this.moov.traks[e];e>0&&(o+=","),o+=c.mdia.minf.stbl.stsd.entries[0].getCodec()}return o},p.prototype.getTrexById=function(e){var o;if(!this.moov||!this.moov.mvex)return null;for(o=0;o<this.moov.mvex.trexs.length;o++){var c=this.moov.mvex.trexs[o];if(c.track_id==e)return c}return null},p.prototype.getTrackById=function(e){if(this.moov===void 0)return null;for(var o=0;o<this.moov.traks.length;o++){var c=this.moov.traks[o];if(c.tkhd.track_id==e)return c}return null},p.prototype.items=[],p.prototype.itemsDataSize=0,p.prototype.flattenItemInfo=function(){var e=this.items,o,c,d,h=this.meta;if(h!=null&&h.hdlr!==void 0&&h.iinf!==void 0){for(o=0;o<h.iinf.item_infos.length;o++)d={},d.id=h.iinf.item_infos[o].item_ID,e[d.id]=d,d.ref_to=[],d.name=h.iinf.item_infos[o].item_name,h.iinf.item_infos[o].protection_index>0&&(d.protection=h.ipro.protections[h.iinf.item_infos[o].protection_index-1]),h.iinf.item_infos[o].item_type?d.type=h.iinf.item_infos[o].item_type:d.type="mime",d.content_type=h.iinf.item_infos[o].content_type,d.content_encoding=h.iinf.item_infos[o].content_encoding;if(h.iloc)for(o=0;o<h.iloc.items.length;o++){var y=h.iloc.items[o];switch(d=e[y.item_ID],y.data_reference_index!==0&&(r.warn("Item storage with reference to other files: not supported"),d.source=h.dinf.boxes[y.data_reference_index-1]),y.construction_method){case 0:break;case 1:r.warn("Item storage with construction_method : not supported");break;case 2:r.warn("Item storage with construction_method : not supported");break}for(d.extents=[],d.size=0,c=0;c<y.extents.length;c++)d.extents[c]={},d.extents[c].offset=y.extents[c].extent_offset+y.base_offset,d.extents[c].length=y.extents[c].extent_length,d.extents[c].alreadyRead=0,d.size+=d.extents[c].length}if(h.pitm&&(e[h.pitm.item_id].primary=!0),h.iref)for(o=0;o<h.iref.references.length;o++){var v=h.iref.references[o];for(c=0;c<v.references.length;c++)e[v.from_item_ID].ref_to.push({type:v.type,id:v.references[c]})}if(h.iprp)for(var b=0;b<h.iprp.ipmas.length;b++){var w=h.iprp.ipmas[b];for(o=0;o<w.associations.length;o++){var x=w.associations[o];for(d=e[x.id],d.properties===void 0&&(d.properties={},d.properties.boxes=[]),c=0;c<x.props.length;c++){var C=x.props[c];if(C.property_index>0&&C.property_index-1<h.iprp.ipco.boxes.length){var U=h.iprp.ipco.boxes[C.property_index-1];d.properties[U.type]=U,d.properties.boxes.push(U)}}}}}},p.prototype.getItem=function(e){var o,c;if(!this.meta)return null;if(c=this.items[e],!c.data&&c.size)c.data=new Uint8Array(c.size),c.alreadyRead=0,this.itemsDataSize+=c.size,r.debug("ISOFile","Allocating item #"+e+" of size "+c.size+" (total: "+this.itemsDataSize+")");else if(c.alreadyRead===c.size)return c;for(var d=0;d<c.extents.length;d++){var h=c.extents[d];if(h.alreadyRead!==h.length){var y=this.stream.findPosition(!0,h.offset+h.alreadyRead,!1);if(y>-1){o=this.stream.buffers[y];var v=o.byteLength-(h.offset+h.alreadyRead-o.fileStart);if(h.length-h.alreadyRead<=v)r.debug("ISOFile","Getting item #"+e+" extent #"+d+" data (alreadyRead: "+h.alreadyRead+" offset: "+(h.offset+h.alreadyRead-o.fileStart)+" read size: "+(h.length-h.alreadyRead)+" full extent size: "+h.length+" full item size: "+c.size+")"),a.memcpy(c.data.buffer,c.alreadyRead,o,h.offset+h.alreadyRead-o.fileStart,h.length-h.alreadyRead),o.usedBytes+=h.length-h.alreadyRead,this.stream.logBufferLevel(),c.alreadyRead+=h.length-h.alreadyRead,h.alreadyRead=h.length;else return r.debug("ISOFile","Getting item #"+e+" extent #"+d+" partial data (alreadyRead: "+h.alreadyRead+" offset: "+(h.offset+h.alreadyRead-o.fileStart)+" read size: "+v+" full extent size: "+h.length+" full item size: "+c.size+")"),a.memcpy(c.data.buffer,c.alreadyRead,o,h.offset+h.alreadyRead-o.fileStart,v),h.alreadyRead+=v,c.alreadyRead+=v,o.usedBytes+=v,this.stream.logBufferLevel(),null}else return null}}return c.alreadyRead===c.size?c:null},p.prototype.releaseItem=function(e){var o=this.items[e];if(o.data){this.itemsDataSize-=o.size,o.data=null,o.alreadyRead=0;for(var c=0;c<o.extents.length;c++){var d=o.extents[c];d.alreadyRead=0}return o.size}else return 0},p.prototype.processItems=function(e){for(var o in this.items){var c=this.items[o];this.getItem(c.id),e&&!c.sent&&(e(c),c.sent=!0,c.data=null)}},p.prototype.hasItem=function(e){for(var o in this.items){var c=this.items[o];if(c.name===e)return c.id}return-1},p.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},p.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},p.prototype.itemToFragmentedTrackFile=function(e){var o=e||{},c=null;if(o.itemId?c=this.getItem(o.itemId):c=this.getPrimaryItem(),c==null)return null;var d=new p;d.discardMdatData=!1;var h={type:c.type,description_boxes:c.properties.boxes};c.properties.ispe&&(h.width=c.properties.ispe.image_width,h.height=c.properties.ispe.image_height);var y=d.addTrack(h);return y?(d.addSample(y,c.data),d):null},p.prototype.write=function(e){for(var o=0;o<this.boxes.length;o++)this.boxes[o].write(e)},p.prototype.createFragment=function(e,o,c){var d=this.getTrackById(e),h=this.getSample(d,o);if(h==null)return this.setNextSeekPositionFromSample(d.samples[o]),null;var y=c||new a;y.endianness=a.BIG_ENDIAN;var v=this.createSingleSampleMoof(h);v.write(y),v.trafs[0].truns[0].data_offset=v.size+8,r.debug("MP4Box","Adjusting data_offset with new value "+v.trafs[0].truns[0].data_offset),y.adjustUint32(v.trafs[0].truns[0].data_offset_position,v.trafs[0].truns[0].data_offset);var b=new l.mdatBox;return b.data=h.data,b.write(y),y},p.writeInitializationSegment=function(e,o,c,d){var h;r.debug("ISOFile","Generating initialization segment");var y=new a;y.endianness=a.BIG_ENDIAN,e.write(y);var v=o.add("mvex");for(c&&v.add("mehd").set("fragment_duration",c),h=0;h<o.traks.length;h++)v.add("trex").set("track_id",o.traks[h].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",d).set("default_sample_size",0).set("default_sample_flags",65536);return o.write(y),y.buffer},p.prototype.save=function(e){var o=new a;o.endianness=a.BIG_ENDIAN,this.write(o),o.save(e)},p.prototype.getBuffer=function(){var e=new a;return e.endianness=a.BIG_ENDIAN,this.write(e),e.buffer},p.prototype.initializeSegmentation=function(){var e,o,c,d;for(this.onSegment===null&&r.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),o=[],e=0;e<this.fragmentedTracks.length;e++){var h=new l.moovBox;h.mvhd=this.moov.mvhd,h.boxes.push(h.mvhd),c=this.getTrackById(this.fragmentedTracks[e].id),h.boxes.push(c),h.traks.push(c),d={},d.id=c.tkhd.track_id,d.user=this.fragmentedTracks[e].user,d.buffer=p.writeInitializationSegment(this.ftyp,h,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[e].samples.length>0?this.moov.traks[e].samples[0].duration:0),o.push(d)}return o},l.Box.prototype.printHeader=function(e){this.size+=8,this.size>s&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.log(e.indent+"size:"+this.size),e.log(e.indent+"type:"+this.type)},l.FullBox.prototype.printHeader=function(e){this.size+=4,l.Box.prototype.printHeader.call(this,e),e.log(e.indent+"version:"+this.version),e.log(e.indent+"flags:"+this.flags)},l.Box.prototype.print=function(e){this.printHeader(e)},l.ContainerBox.prototype.print=function(e){this.printHeader(e);for(var o=0;o<this.boxes.length;o++)if(this.boxes[o]){var c=e.indent;e.indent+=" ",this.boxes[o].print(e),e.indent=c}},p.prototype.print=function(e){e.indent="";for(var o=0;o<this.boxes.length;o++)this.boxes[o]&&this.boxes[o].print(e)},l.mvhdBox.prototype.print=function(e){l.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"timescale: "+this.timescale),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"rate: "+this.rate),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"next_track_id: "+this.next_track_id)},l.tkhdBox.prototype.print=function(e){l.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"track_id: "+this.track_id),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"layer: "+this.layer),e.log(e.indent+"alternate_group: "+this.alternate_group),e.log(e.indent+"width: "+this.width),e.log(e.indent+"height: "+this.height)};var _={};_.createFile=function(e,o){var c=e!==void 0?e:!0,d=new p(o);return d.discardMdatData=!c,d},t.createFile=_.createFile})(al);const ca=Ju(al),Je={sampleRate:48e3,channelCount:2,codec:"mp4a.40.2"};function ed(t,r){const n=r.videoTracks[0],a={};if(n!=null){const u=td(t.getTrackById(n.id)).buffer,{descKey:f,type:l}=n.codec.startsWith("avc1")?{descKey:"avcDecoderConfigRecord",type:"avc1"}:n.codec.startsWith("hvc1")?{descKey:"hevcDecoderConfigRecord",type:"hvc1"}:{descKey:"",type:""};f!==""&&(a.videoTrackConf={timescale:n.timescale,duration:n.duration,width:n.video.width,height:n.video.height,brands:r.brands,type:l,[f]:u}),a.videoDecoderConf={codec:n.codec,codedHeight:n.video.height,codedWidth:n.video.width,description:u}}const s=r.audioTracks[0];if(s!=null){const u=Ro(t);a.audioTrackConf={timescale:s.timescale,samplerate:s.audio.sample_rate,channel_count:s.audio.channel_count,hdlr:"soun",type:s.codec.startsWith("mp4a")?"mp4a":s.codec,description:Ro(t)},a.audioDecoderConf={codec:s.codec.startsWith("mp4a")?Je.codec:s.codec,numberOfChannels:s.audio.channel_count,sampleRate:s.audio.sample_rate,...u==null?{}:id(u)}}return a}function td(t){for(const r of t.mdia.minf.stbl.stsd.entries){const n=r.avcC??r.hvcC??r.vpcC;if(n!=null){const a=new ca.DataStream(void 0,0,ca.DataStream.BIG_ENDIAN);return n.write(a),new Uint8Array(a.buffer.slice(8))}}throw Error("avcC, hvcC or VPX not found")}function Ro(t,r="mp4a"){var n;const a=(n=t.moov)==null?void 0:n.traks.map(s=>s.mdia.minf.stbl.stsd.entries).flat().find(({type:s})=>s===r);return a==null?void 0:a.esds}function rd(t){return{type:t.is_sync?"key":"delta",timestamp:1e6*t.cts/t.timescale,duration:1e6*t.duration/t.timescale,data:t.data}}function id(t){var r;const n=(r=t.esd.descs[0])==null?void 0:r.descs[0];if(n==null)return{};const[a,s]=n.data,u=((a&7)<<1)+(s>>7),f=(s&127)>>3;return{sampleRate:[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350][u],numberOfChannels:f}}var Vr;class nd{constructor(){fe(this,"readable"),fe(this,"writable"),X(this,Vr,0);const r=ca.createFile();let n=!1;this.readable=new ReadableStream({start:a=>{r.onReady=u=>{var f,l;const m=(f=u.videoTracks[0])==null?void 0:f.id;m!=null&&r.setExtractionOptions(m,"video",{nbSamples:100});const g=(l=u.audioTracks[0])==null?void 0:l.id;g!=null&&r.setExtractionOptions(g,"audio",{nbSamples:100}),a.enqueue({chunkType:"ready",data:{info:u,file:r}}),r.start()};const s={};r.onSamples=(u,f,l)=>{a.enqueue({chunkType:"samples",data:{id:u,type:f,samples:l.map(m=>({...m}))}}),s[u]=(s[u]??0)+l.length,r.releaseUsedSamples(u,s[u])},r.onFlush=()=>{a.close()}},cancel:()=>{r.stop(),n=!0}},{highWaterMark:50}),this.writable=new WritableStream({write:async a=>{if(n){this.writable.abort();return}const s=a.buffer;s.fileStart=A(this,Vr),V(this,Vr,A(this,Vr)+s.byteLength),r.appendBuffer(s)},close:()=>{var a;r.flush(),r.stop(),(a=r.onFlush)==null||a.call(r)}})}}Vr=new WeakMap;let ad=0;var Li,Mi,ut,Be,zi,dt,$t,Gr,Wr,Ke,ft;const od=class hr{constructor(r,n={audio:!0}){if(X(this,Li,ve.create(`MP4Clip id:${ad++},`)),fe(this,"ready"),X(this,Mi,!1),X(this,ut,{duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0}),X(this,Be,void 0),X(this,zi,1),X(this,dt,[]),X(this,$t,[]),X(this,Gr,null),X(this,Wr,null),X(this,Ke,{video:null,audio:null}),X(this,ft,{audio:!0}),fe(this,"tickInterceptor",async(s,u)=>u),!(r instanceof ReadableStream)&&!Array.isArray(r.videoSamples))throw Error("Illegal argument");V(this,ft,{...n}),V(this,zi,typeof n.audio=="object"&&"volume"in n.audio?n.audio.volume:1);const a=async s=>(await Ka(A(this,Be),s),await A(this,Be).stream());V(this,Be,"localFile"in r?r.localFile:Qs()),this.ready=(r instanceof ReadableStream?a(r).then(s=>ud(s,A(this,ft))):Promise.resolve(r)).then(async({videoSamples:s,audioSamples:u,decoderConf:f})=>{V(this,dt,s),V(this,$t,u),V(this,Ke,f);const{videoFrameFinder:l,audioFrameFinder:m}=cd(f,await A(this,Be).createReader(),s,u,A(this,ft).audio!==!1?A(this,zi):null);return V(this,Gr,l),V(this,Wr,m),V(this,ut,ld(f,s,u)),A(this,Li).info("MP4Clip meta:",A(this,ut)),{...A(this,ut)}})}get meta(){return{...A(this,ut)}}async tick(r){var n,a;if(r>=A(this,ut).duration)return await this.tickInterceptor(r,{audio:[],state:"done"});let s=!1,u=!1,f=0;const[l,m]=await Promise.race([Promise.all([((n=A(this,Wr))==null?void 0:n.find(r).then(g=>(s=!0,g)))??[],(a=A(this,Gr))==null?void 0:a.find(r).then(g=>(u=!0,g))]),new Promise((g,p)=>{f=self.setTimeout(()=>p(Error(`MP4Clip.tick timeout, ${JSON.stringify({videoReady:u,audioReady:s})}`)),3e3)})]);return clearTimeout(f),m==null?await this.tickInterceptor(r,{audio:l,state:"success"}):await this.tickInterceptor(r,{video:m,audio:l,state:"success"})}async thumbnails(r=100,n){const a=A(this,Ke).video,s=await A(this,Be).createReader();if(a==null||s==null)return Promise.resolve([]);const{width:u,height:f}=A(this,ut),l=pd(r,Math.round(f*(r/u)),{quality:.1,type:"image/png"});return new Promise(async m=>{const g=[];async function p(){m(await Promise.all(g.map(async d=>({ts:d.ts,img:await d.img}))))}function _(d){g.push({ts:d.timestamp,img:l(d)})}const{start:e=0,end:o=A(this,ut).duration,step:c}=n??{};if(c){if(A(this,Ke).video==null||A(this,dt).length===0){p();return}let d=e;const h=new ol(await A(this,Be).createReader(),A(this,dt),A(this,Ke).video);for(;d<=o;){const y=await h.find(d);y&&_(y),d+=c}p()}else{const d=await Promise.all(A(this,dt).filter(v=>!v.deleted&&v.is_sync&&v.cts>=e&&v.cts<=o).map(v=>Za(v,EncodedVideoChunk,s)));if(d.length===0){p();return}let h=0;const y=new VideoDecoder({output:v=>{h+=1,_(v),h===d.length&&p()},error:ve.error});y.configure(a),d.forEach(v=>{y.decode(v)}),await y.flush()}})}async split(r){if(await this.ready,r<=0||r>=A(this,ut).duration)throw Error('"time" out of bounds');const[n,a]=md(A(this,dt),r),[s,u]=gd(A(this,$t),r),f=new hr({localFile:A(this,Be),videoSamples:n,audioSamples:s,decoderConf:A(this,Ke)},A(this,ft)),l=new hr({localFile:A(this,Be),videoSamples:a,audioSamples:u,decoderConf:A(this,Ke)},A(this,ft));return await Promise.all([f.ready,l.ready]),[f,l]}async clone(){await this.ready;const r=new hr({localFile:A(this,Be),videoSamples:[...A(this,dt)],audioSamples:[...A(this,$t)],decoderConf:A(this,Ke)},A(this,ft));return await r.ready,r.tickInterceptor=this.tickInterceptor,r}async splitTrack(){await this.ready;const r=[];if(A(this,dt).length>0){const n=new hr({localFile:A(this,Be),videoSamples:[...A(this,dt)],audioSamples:[],decoderConf:{video:A(this,Ke).video,audio:null}},A(this,ft));await n.ready,n.tickInterceptor=this.tickInterceptor,r.push(n)}if(A(this,$t).length>0){const n=new hr({localFile:A(this,Be),videoSamples:[],audioSamples:[...A(this,$t)],decoderConf:{audio:A(this,Ke).audio,video:null}},A(this,ft));await n.ready,n.tickInterceptor=this.tickInterceptor,r.push(n)}return r}destroy(){var r,n;A(this,Mi)||(A(this,Li).info("MP4Clip destroy"),V(this,Mi,!0),(r=A(this,Gr))==null||r.destroy(),(n=A(this,Wr))==null||n.destroy())}};Li=new WeakMap,Mi=new WeakMap,ut=new WeakMap,Be=new WeakMap,zi=new WeakMap,dt=new WeakMap,$t=new WeakMap,Gr=new WeakMap,Wr=new WeakMap,Ke=new WeakMap,ft=new WeakMap;let sd=od;function ld(t,r,n){const a={duration:0,width:0,height:0,audioSampleRate:0,audioChanCount:0};t.video!=null&&r.length>0&&(a.width=t.video.codedWidth??0,a.height=t.video.codedHeight??0),t.audio!=null&&n.length>0&&(a.audioSampleRate=Je.sampleRate,a.audioChanCount=Je.channelCount);let s=0,u=0;if(r.length>0)for(let f=r.length-1;f>=0;f--){const l=r[f];if(!l.deleted){s=l.cts+l.duration;break}}if(n.length>0){const f=n.at(-1);u=f.cts+f.duration}return a.duration=Math.max(s,u),a}function cd(t,r,n,a,s){return{audioFrameFinder:s==null||t.audio==null||a.length===0?null:new dd(r,a,t.audio,{volume:s,targetSampleRate:Je.sampleRate}),videoFrameFinder:t.video==null||n.length===0?null:new ol(r,n,t.video)}}async function ud(t,r={}){let n;const a={video:null,audio:null};let s=[],u=[];return new Promise(async(l,m)=>{let g=-1,p=-1;const _=nl(t.pipeThrough(new nd),{onChunk:async({chunkType:e,data:o})=>{if(e==="ready"){n=o.info;let{videoDecoderConf:c,audioDecoderConf:d}=ed(o.file,o.info);a.video=c??null,a.audio=d??null,c==null&&d==null&&(_(),m(Error("MP4Clip must contain at least one video or audio track"))),ve.info("mp4BoxFile moov ready",{...o.info,tracks:null,videoTracks:null,audioTracks:null},a)}else if(e==="samples"){if(o.type==="video"){g===-1&&(g=o.samples[0].dts);for(const c of o.samples)s.push(f(c,g))}else if(o.type==="audio"&&r.audio){p===-1&&(p=o.samples[0].dts);for(const c of o.samples)u.push(f(c,p))}}},onDone:()=>{const e=s.at(-1)??u.at(-1);if(n==null){m(Error("MP4Clip stream is done, but not emit ready"));return}else if(e==null){m(Error("MP4Clip stream not contain any sample"));return}const o=s[0];o!=null&&o.cts<2e5&&(o.cts=0),ve.info("mp4 stream parsed"),l({videoSamples:s,audioSamples:u,decoderConf:a})}})});function f(l,m=0){return{...l,cts:(l.cts-m)/l.timescale*1e6,dts:(l.dts-m)/l.timescale*1e6,duration:l.duration/l.timescale*1e6,timescale:1e6,data:null}}}var _t,Yr,pr,jt,ht,mr,gr,qr,ua;class ol{constructor(r,n,a){X(this,_t,null),X(this,Yr,0),X(this,pr,{abort:!1}),fe(this,"find",async s=>((A(this,_t)==null||s<=A(this,Yr)||s-A(this,Yr)>3e6)&&A(this,ua).call(this),A(this,pr).abort=!0,V(this,Yr,s),V(this,pr,{abort:!1}),await A(this,qr).call(this,s,A(this,_t),A(this,pr)))),X(this,jt,0),X(this,ht,[]),X(this,mr,0),X(this,gr,0),X(this,qr,async(s,u,f)=>{if(u==null||u.state==="closed"||f.abort)return null;if(A(this,ht).length>0){const l=A(this,ht)[0];return s<l.timestamp?null:(A(this,ht).shift(),s>l.timestamp+(l.duration??0)?(l.close(),A(this,qr).call(this,s,u,f)):l)}if(A(this,mr)<A(this,gr))await il(15);else{if(A(this,jt)>=this.samples.length)return null;{let l=A(this,jt)+1,m=!1;for(;l<this.samples.length;l++){const g=this.samples[l];if(!m&&!g.deleted&&s<g.cts+g.duration&&(m=!0),g.is_sync)break}if(m){const g=await Promise.all(this.samples.slice(A(this,jt),l).map(p=>Za(p,EncodedVideoChunk,this.localFileReader)));if(f.abort)return null;for(const p of g)u.decode(p);V(this,gr,A(this,gr)+g.length),u.flush().catch(ve.error)}V(this,jt,l)}}return A(this,qr).call(this,s,u,f)}),X(this,ua,()=>{var s;A(this,ht).forEach(u=>u.close()),V(this,ht,[]),V(this,jt,0),V(this,gr,0),V(this,mr,0),(s=A(this,_t))==null||s.close(),V(this,_t,new VideoDecoder({output:u=>{V(this,mr,A(this,mr)+1),A(this,ht).push(u)},error:ve.error})),A(this,_t).configure(this.conf)}),fe(this,"destroy",()=>{var s;(s=A(this,_t))==null||s.close(),V(this,_t,null),A(this,pr).abort=!0,A(this,ht).forEach(u=>u.close()),V(this,ht,[])}),this.localFileReader=r,this.samples=n,this.conf=a}}_t=new WeakMap,Yr=new WeakMap,pr=new WeakMap,jt=new WeakMap,ht=new WeakMap,mr=new WeakMap,gr=new WeakMap,qr=new WeakMap,ua=new WeakMap;var Kr,Ni,vr,yr,kt,Ht,Xr,Le,Di,da;class dd{constructor(r,n,a,s){X(this,Kr,1),X(this,Ni,void 0),X(this,vr,null),X(this,yr,{abort:!1}),fe(this,"find",async u=>{if(A(this,vr)==null||u<=A(this,kt)||u-A(this,kt)>1e5){A(this,da).call(this),V(this,kt,u);for(let l=0;l<this.samples.length;l++)if(!(this.samples[l].cts<u)){V(this,Ht,l);break}return[]}A(this,yr).abort=!0;const f=u-A(this,kt);return V(this,kt,u),V(this,yr,{abort:!1}),await A(this,Di).call(this,f,A(this,vr),A(this,yr))}),X(this,kt,0),X(this,Ht,0),X(this,Xr,!1),X(this,Le,[new Float32Array(0),new Float32Array(0)]),X(this,Di,async(u,f=null,l)=>{if(f==null||l.abort)return[];const m=Math.ceil(u*(A(this,Ni)/1e6));if(m===0)return[];if(A(this,Le)[0].length>m){const g=[A(this,Le)[0].slice(0,m),A(this,Le)[1].slice(0,m)];return A(this,Le)[0]=A(this,Le)[0].slice(m),A(this,Le)[1]=A(this,Le)[1].slice(m),g}if(A(this,Xr))await il(15);else{if(A(this,Ht)>=this.samples.length-1)return[];{const g=[];for(let p=A(this,Ht);p<this.samples.length;p++){V(this,Ht,p);const _=this.samples[p];if(!_.deleted){if(g.length>=10)break;g.push(_)}}V(this,Xr,!0),f.decode(await Promise.all(g.map(p=>Za(p,EncodedAudioChunk,this.localFileReader))),(p,_)=>{if(p.length!==0){if(A(this,Kr)!==1)for(const e of p)for(let o=0;o<e.length;o++)e[o]*=A(this,Kr);p.length===1&&(p=[p[0],p[0]]),V(this,Le,Ku([A(this,Le),p])),_&&V(this,Xr,!1)}})}}return A(this,Di).call(this,u,f,l)}),X(this,da,()=>{V(this,kt,0),V(this,Ht,0),V(this,Le,[new Float32Array(0),new Float32Array(0)]),V(this,vr,fd(this.conf,Je.sampleRate))}),fe(this,"destroy",()=>{V(this,vr,null),A(this,yr).abort=!0,V(this,Le,[new Float32Array(0),new Float32Array(0)])}),this.localFileReader=r,this.samples=n,this.conf=a,V(this,Kr,s.volume),V(this,Ni,s.targetSampleRate)}}Kr=new WeakMap,Ni=new WeakMap,vr=new WeakMap,yr=new WeakMap,kt=new WeakMap,Ht=new WeakMap,Xr=new WeakMap,Le=new WeakMap,Di=new WeakMap,da=new WeakMap;function fd(t,r){let n=null;const a=r!==t.sampleRate,s=hd(([m,g])=>{n==null||n(m,g)}),u=new AudioDecoder({output:m=>{const g=Xu(m),p=u.decodeQueueSize===0;a?s(async()=>[await Qu(g,m.sampleRate,{rate:r,chanCount:m.numberOfChannels}),p]):n==null||n(g,p),m.close()},error:ve.error});u.configure(t);let f=[];async function l(){if(n!=null)return;const m=f.shift();if(m!=null){if(m.chunks.length<=0){m.cb([],!0),l().catch(ve.error);return}n=(g,p)=>{m.cb(g,p),p&&(n=null,l().catch(ve.error))};for(const g of m.chunks)u.decode(g)}}return{decode(m,g){f.push({chunks:m,cb:g}),l().catch(ve.error)}}}function hd(t){const r=[];let n=0;function a(f,l){r[l]=f,s()}function s(){const f=r[n];f!=null&&(t(f),n+=1,s())}let u=0;return f=>{const l=u;u+=1,f().then(m=>a(m,l)).catch(m=>a(m,l))}}async function Za(t,r,n){const a=await n.read(t.size,{at:t.offset});return new r(rd({...t,data:a}))}function pd(t,r,n){const a=new OffscreenCanvas(t,r),s=a.getContext("2d");return async u=>(s.drawImage(u,0,0,t,r),u.close(),await a.convertToBlob(n))}function md(t,r){let n=0,a=0,s=-1;for(let m=0;m<t.length;m++){const g=t[m];if(s===-1&&r<g.cts&&(s=m-1),g.is_sync)if(s===-1)n=m;else{a=m;break}}const u=t[s];if(u==null)throw Error("Not found video sample by time");const f=t.slice(0,a===0?t.length:a).map(m=>({...m}));for(let m=n;m<f.length;m++){const g=f[m];r<g.cts&&(g.deleted=!0,g.cts=-1)}const l=t.slice(u.is_sync?a:n).map(m=>({...m,cts:m.cts-r}));for(let m=0;m<a-a;m++){const g=f[m];g.cts<0&&(g.deleted=!0,g.cts=-1)}return[f,l]}function gd(t,r){let n=-1;for(let u=0;u<t.length;u++){const f=t[u];if(!(r>f.cts)){n=u;break}}if(n===-1)throw Error("Not found audio sample by time");const a=t.slice(0,n),s=t.slice(n).map(u=>({...u,cts:u.cts-r}));return[a,s]}var Cr,Bt,Wt,wt,fa,sl,Vt,St;const Si=class $i{constructor(r,n={}){X(this,fa),fe(this,"ready"),X(this,Cr,{duration:0,width:0,height:0}),X(this,Bt,new Float32Array),X(this,Wt,new Float32Array),X(this,wt,void 0),X(this,Vt,0),X(this,St,0),V(this,wt,{loop:!1,volume:1,...n}),this.ready=dr(this,fa,sl).call(this,r).then(()=>({width:0,height:0,duration:n.loop?1/0:A(this,Cr).duration}))}get meta(){return{...A(this,Cr),sampleRate:Je.sampleRate,chanCount:2}}getPCMData(){return[A(this,Bt),A(this,Wt)]}async tick(r){if(!A(this,wt).loop&&r>=A(this,Cr).duration)return{audio:[],state:"done"};const n=r-A(this,Vt);if(r<A(this,Vt)||n>3e6)return V(this,Vt,r),V(this,St,Math.ceil(A(this,Vt)/1e6*Je.sampleRate)),{audio:[new Float32Array(0),new Float32Array(0)],state:"success"};V(this,Vt,r);const a=Math.ceil(n/1e6*Je.sampleRate),s=A(this,St)+a,u=A(this,wt).loop?[ko(A(this,Bt),A(this,St),s),ko(A(this,Wt),A(this,St),s)]:[A(this,Bt).slice(A(this,St),s),A(this,Wt).slice(A(this,St),s)];return V(this,St,s),{audio:u,state:"success"}}async split(r){await this.ready;const n=Math.ceil(r/1e6*Je.sampleRate),a=new $i(this.getPCMData().map(u=>u.slice(0,n)),A(this,wt)),s=new $i(this.getPCMData().map(u=>u.slice(n)),A(this,wt));return[a,s]}async clone(){await this.ready;const r=new $i(this.getPCMData(),A(this,wt));return await r.ready,r}destroy(){V(this,Bt,new Float32Array(0)),V(this,Wt,new Float32Array(0)),ve.info("---- audioclip destroy ----")}};Cr=new WeakMap,Bt=new WeakMap,Wt=new WeakMap,wt=new WeakMap,fa=new WeakSet,sl=async function(t){Si.ctx==null&&(Si.ctx=new AudioContext({sampleRate:Je.sampleRate}));const r=performance.now(),n=t instanceof ReadableStream?await vd(t,Si.ctx):t;ve.info("Audio clip decoded complete:",performance.now()-r);const a=A(this,wt).volume;if(a!==1)for(const s of n)for(let u=0;u<s.length;u+=1)s[u]*=a;A(this,Cr).duration=n[0].length/Je.sampleRate*1e6,V(this,Bt,n[0]),V(this,Wt,n[1]??A(this,Bt)),ve.info("Audio clip convert to AudioData, time:",performance.now()-r)},Vt=new WeakMap,St=new WeakMap,fe(Si,"ctx",null);async function vd(t,r){const n=await new Response(t).arrayBuffer();return rl(await r.decodeAudioData(n))}var br,ji,_r,Zr;const yd=class ll{constructor(r){fe(this,"ready"),X(this,br,{duration:0,width:0,height:0}),X(this,ji,()=>{}),fe(this,"audioTrack"),X(this,_r,null),X(this,Zr,void 0),V(this,Zr,r);const n=r.getVideoTracks()[0];if(n!=null){const{width:a,height:s}=n.getSettings();n.contentHint="motion",A(this,br).width=a??0,A(this,br).height=s??0,V(this,_r,new OffscreenCanvas(a??0,s??0)),V(this,ji,bd(A(this,_r).getContext("2d"),n))}this.audioTrack=r.getAudioTracks()[0]??null,A(this,br).duration=1/0,this.ready=Promise.resolve(this.meta)}get meta(){return{...A(this,br)}}async tick(){return{video:A(this,_r)==null?null:await createImageBitmap(A(this,_r)),audio:[],state:"success"}}async split(){return[await this.clone(),await this.clone()]}async clone(){return new ll(A(this,Zr).clone())}destroy(){A(this,Zr).getTracks().forEach(r=>r.stop()),A(this,ji).call(this)}};br=new WeakMap,ji=new WeakMap,_r=new WeakMap,Zr=new WeakMap,fe(yd,"ctx",null);function bd(t,r){return nl(new MediaStreamTrackProcessor({track:r}).readable,{onChunk:async n=>{t.drawImage(n,0,0),n.close()},onDone:async()=>{}})}var Rt;class _d{constructor(){X(this,Rt,new Map),fe(this,"on",(r,n)=>{const a=A(this,Rt).get(r)??new Set;return a.add(n),A(this,Rt).has(r)||A(this,Rt).set(r,a),()=>{a.delete(n),a.size===0&&A(this,Rt).delete(r)}}),fe(this,"once",(r,n)=>{const a=this.on(r,(...s)=>{a(),n(...s)});return a}),fe(this,"emit",(r,...n)=>{const a=A(this,Rt).get(r);a!=null&&a.forEach(s=>s(...n))})}static forwardEvent(r,n,a){const s=a.map(u=>{const[f,l]=Array.isArray(u)?u:[u,u];return r.on(f,(...m)=>{n.emit(l,...m)})});return()=>{s.forEach(u=>u())}}destroy(){A(this,Rt).clear()}}Rt=new WeakMap;var Qi,Ji,en,tn,rn,nn,Gt,Sr;const Oo=class Ve{constructor(r,n,a,s,u){X(this,Gt),X(this,Qi,new _d),fe(this,"on",A(this,Qi).on),X(this,Ji,0),X(this,en,0),X(this,tn,0),X(this,rn,0),X(this,nn,0),fe(this,"master",null),fe(this,"fixedAspectRatio",!1),this.x=r??0,this.y=n??0,this.w=a??0,this.h=s??0,this.master=u??null}get x(){return A(this,Ji)}set x(r){dr(this,Gt,Sr).call(this,"x",r)}get y(){return A(this,en)}set y(r){dr(this,Gt,Sr).call(this,"y",r)}get w(){return A(this,tn)}set w(r){dr(this,Gt,Sr).call(this,"w",r)}get h(){return A(this,rn)}set h(r){dr(this,Gt,Sr).call(this,"h",r)}get angle(){return A(this,nn)}set angle(r){dr(this,Gt,Sr).call(this,"angle",r)}get center(){const{x:r,y:n,w:a,h:s}=this;return{x:r+a/2,y:n+s/2}}get ctrls(){const{w:r,h:n}=this,a=Ve.CTRL_SIZE,s=a/2,u=r/2,f=n/2,l=a*1.5,m=l/2;return{...this.fixedAspectRatio?{}:{t:new Ve(-s,-f-s,a,a,this),b:new Ve(-s,f-s,a,a,this),l:new Ve(-u-s,-s,a,a,this),r:new Ve(u-s,-s,a,a,this)},lt:new Ve(-u-s,-f-s,a,a,this),lb:new Ve(-u-s,f-s,a,a,this),rt:new Ve(u-s,-f-s,a,a,this),rb:new Ve(u-s,f-s,a,a,this),rotate:new Ve(-m,-f-a*2-m,l,l,this)}}clone(){const{x:r,y:n,w:a,h:s,master:u}=this,f=new Ve(r,n,a,s,u);return f.angle=this.angle,f.fixedAspectRatio=this.fixedAspectRatio,f}checkHit(r,n){let{angle:a,center:s,x:u,y:f,w:l,h:m,master:g}=this;const p=(g==null?void 0:g.center)??s,_=(g==null?void 0:g.angle)??a;g==null&&(u=u-p.x,f=f-p.y);const e=r-p.x,o=n-p.y;let c=e,d=o;return _!==0&&(c=e*Math.cos(_)+o*Math.sin(_),d=o*Math.cos(_)-e*Math.sin(_)),!(c<u||c>u+l||d<f||d>f+m)}};Qi=new WeakMap,Ji=new WeakMap,en=new WeakMap,tn=new WeakMap,rn=new WeakMap,nn=new WeakMap,Gt=new WeakSet,Sr=function(t,r){const n=this[t]!==r;switch(t){case"x":V(this,Ji,r);break;case"y":V(this,en,r);break;case"w":V(this,tn,r);break;case"h":V(this,rn,r);break;case"angle":V(this,nn,r);break}n&&A(this,Qi).emit("propsChange",{[t]:r})},fe(Oo,"CTRL_SIZE",16),fe(Oo,"CTRL_KEYS",["t","b","l","r","lt","lb","rt","rb","rotate"]);var cl={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var r={}.hasOwnProperty;function n(){for(var u="",f=0;f<arguments.length;f++){var l=arguments[f];l&&(u=s(u,a(l)))}return u}function a(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var f="";for(var l in u)r.call(u,l)&&u[l]&&(f=s(f,l));return f}function s(u,f){return f?u?u+" "+f:u+f:u}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(cl);var Sd=cl.exports;const se=Su(Sd);function ye(){return ye=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},ye.apply(null,arguments)}var ul={exports:{}},ne={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qa=Symbol.for("react.element"),Ja=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),pn=Symbol.for("react.strict_mode"),mn=Symbol.for("react.profiler"),gn=Symbol.for("react.provider"),vn=Symbol.for("react.context"),wd=Symbol.for("react.server_context"),yn=Symbol.for("react.forward_ref"),bn=Symbol.for("react.suspense"),_n=Symbol.for("react.suspense_list"),Sn=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),xd=Symbol.for("react.offscreen"),dl;dl=Symbol.for("react.module.reference");function Ye(t){if(typeof t=="object"&&t!==null){var r=t.$$typeof;switch(r){case Qa:switch(t=t.type,t){case hn:case mn:case pn:case bn:case _n:return t;default:switch(t=t&&t.$$typeof,t){case wd:case vn:case yn:case wn:case Sn:case gn:return t;default:return r}}case Ja:return r}}}ne.ContextConsumer=vn;ne.ContextProvider=gn;ne.Element=Qa;ne.ForwardRef=yn;ne.Fragment=hn;ne.Lazy=wn;ne.Memo=Sn;ne.Portal=Ja;ne.Profiler=mn;ne.StrictMode=pn;ne.Suspense=bn;ne.SuspenseList=_n;ne.isAsyncMode=function(){return!1};ne.isConcurrentMode=function(){return!1};ne.isContextConsumer=function(t){return Ye(t)===vn};ne.isContextProvider=function(t){return Ye(t)===gn};ne.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qa};ne.isForwardRef=function(t){return Ye(t)===yn};ne.isFragment=function(t){return Ye(t)===hn};ne.isLazy=function(t){return Ye(t)===wn};ne.isMemo=function(t){return Ye(t)===Sn};ne.isPortal=function(t){return Ye(t)===Ja};ne.isProfiler=function(t){return Ye(t)===mn};ne.isStrictMode=function(t){return Ye(t)===pn};ne.isSuspense=function(t){return Ye(t)===bn};ne.isSuspenseList=function(t){return Ye(t)===_n};ne.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===hn||t===mn||t===pn||t===bn||t===_n||t===xd||typeof t=="object"&&t!==null&&(t.$$typeof===wn||t.$$typeof===Sn||t.$$typeof===gn||t.$$typeof===vn||t.$$typeof===yn||t.$$typeof===dl||t.getModuleId!==void 0)};ne.typeOf=Ye;ul.exports=ne;var Jr=ul.exports;function ni(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[];return K.Children.forEach(t,function(a){a==null&&!r.keepEmpty||(Array.isArray(a)?n=n.concat(ni(a)):Jr.isFragment(a)&&a.props?n=n.concat(ni(a.props.children,r)):n.push(a))}),n}var ha={},Cd=function(r){};function Ed(t,r){}function Ud(t,r){}function Td(){ha={}}function fl(t,r,n){!r&&!ha[n]&&(t(!1,n),ha[n]=!0)}function De(t,r){fl(Ed,t,r)}function Ad(t,r){fl(Ud,t,r)}De.preMessage=Cd;De.resetWarned=Td;De.noteOnce=Ad;function J(t){"@babel/helpers - typeof";return J=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},J(t)}function Fd(t,r){if(J(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,r||"default");if(J(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function hl(t){var r=Fd(t,"string");return J(r)=="symbol"?r:r+""}function I(t,r,n){return(r=hl(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function Bo(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function N(t){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Bo(Object(n),!0).forEach(function(a){I(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bo(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function Lo(t){return t instanceof HTMLElement||t instanceof SVGElement}function Pd(t){return t&&J(t)==="object"&&Lo(t.nativeElement)?t.nativeElement:Lo(t)?t:null}function Id(t){var r=Pd(t);if(r)return r;if(t instanceof K.Component){var n;return(n=Uo.findDOMNode)===null||n===void 0?void 0:n.call(Uo,t)}return null}function pl(t,r,n){var a=S.useRef({});return(!("value"in a.current)||n(a.current.condition,r))&&(a.current.value=t(),a.current.condition=r),a.current.value}var ml=function(r,n){typeof r=="function"?r(n):J(r)==="object"&&r&&"current"in r&&(r.current=n)},xn=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var s=n.filter(Boolean);return s.length<=1?s[0]:function(u){n.forEach(function(f){ml(f,u)})}},gl=function(r){var n,a,s=Jr.isMemo(r)?r.type.type:r.type;return!(typeof s=="function"&&!((n=s.prototype)!==null&&n!==void 0&&n.render)&&s.$$typeof!==Jr.ForwardRef||typeof r=="function"&&!((a=r.prototype)!==null&&a!==void 0&&a.render)&&r.$$typeof!==Jr.ForwardRef)};function Mo(t){return S.isValidElement(t)&&!Jr.isFragment(t)}Number(S.version.split(".")[0])>=19;function Te(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function zo(t,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,hl(a.key),a)}}function Ae(t,r,n){return r&&zo(t.prototype,r),n&&zo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ai(t,r){return ai=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ai(t,r)}function Or(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ai(t,r)}function rr(t){return rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rr(t)}function Cn(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cn=function(){return!!t})()}function re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vl(t,r){if(r&&(J(r)=="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return re(t)}function En(t){var r=Cn();return function(){var n,a=rr(t);if(r){var s=rr(this).constructor;n=Reflect.construct(a,arguments,s)}else n=a.apply(this,arguments);return vl(this,n)}}function kd(t,r){var n=Object.assign({},t);return Array.isArray(r)&&r.forEach(function(a){delete n[a]}),n}function pa(t,r){(r==null||r>t.length)&&(r=t.length);for(var n=0,a=Array(r);n<r;n++)a[n]=t[n];return a}function Rd(t){if(Array.isArray(t))return pa(t)}function yl(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eo(t,r){if(t){if(typeof t=="string")return pa(t,r);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pa(t,r):void 0}}function Od(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q(t){return Rd(t)||yl(t)||eo(t)||Od()}var bl=function(r){return+setTimeout(r,16)},_l=function(r){return clearTimeout(r)};typeof window<"u"&&"requestAnimationFrame"in window&&(bl=function(r){return window.requestAnimationFrame(r)},_l=function(r){return window.cancelAnimationFrame(r)});var No=0,to=new Map;function Sl(t){to.delete(t)}var ir=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;No+=1;var a=No;function s(u){if(u===0)Sl(a),r();else{var f=bl(function(){s(u-1)});to.set(a,f)}}return s(n),a};ir.cancel=function(t){var r=to.get(t);return Sl(t),_l(r)};function wl(t){if(Array.isArray(t))return t}function Bd(t,r){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,u,f,l=[],m=!0,g=!1;try{if(u=(n=n.call(t)).next,r===0){if(Object(n)!==n)return;m=!1}else for(;!(m=(a=u.call(n)).done)&&(l.push(a.value),l.length!==r);m=!0);}catch(p){g=!0,s=p}finally{try{if(!m&&n.return!=null&&(f=n.return(),Object(f)!==f))return}finally{if(g)throw s}}return l}}function xl(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W(t,r){return wl(t)||Bd(t,r)||eo(t,r)||xl()}function oi(t){for(var r=0,n,a=0,s=t.length;s>=4;++a,s-=4)n=t.charCodeAt(a)&255|(t.charCodeAt(++a)&255)<<8|(t.charCodeAt(++a)&255)<<16|(t.charCodeAt(++a)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,r=(n&65535)*1540483477+((n>>>16)*59797<<16)^(r&65535)*1540483477+((r>>>16)*59797<<16);switch(s){case 3:r^=(t.charCodeAt(a+2)&255)<<16;case 2:r^=(t.charCodeAt(a+1)&255)<<8;case 1:r^=t.charCodeAt(a)&255,r=(r&65535)*1540483477+((r>>>16)*59797<<16)}return r^=r>>>13,r=(r&65535)*1540483477+((r>>>16)*59797<<16),((r^r>>>15)>>>0).toString(36)}function Ut(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Ld(t,r){if(!t)return!1;if(t.contains)return t.contains(r);for(var n=r;n;){if(n===t)return!0;n=n.parentNode}return!1}var Do="data-rc-order",$o="data-rc-priority",Md="rc-util-key",ma=new Map;function Cl(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.mark;return r?r.startsWith("data-")?r:"data-".concat(r):Md}function Un(t){if(t.attachTo)return t.attachTo;var r=document.querySelector("head");return r||document.body}function zd(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function ro(t){return Array.from((ma.get(t)||t).children).filter(function(r){return r.tagName==="STYLE"})}function El(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Ut())return null;var n=r.csp,a=r.prepend,s=r.priority,u=s===void 0?0:s,f=zd(a),l=f==="prependQueue",m=document.createElement("style");m.setAttribute(Do,f),l&&u&&m.setAttribute($o,"".concat(u)),n!=null&&n.nonce&&(m.nonce=n==null?void 0:n.nonce),m.innerHTML=t;var g=Un(r),p=g.firstChild;if(a){if(l){var _=(r.styles||ro(g)).filter(function(e){if(!["prepend","prependQueue"].includes(e.getAttribute(Do)))return!1;var o=Number(e.getAttribute($o)||0);return u>=o});if(_.length)return g.insertBefore(m,_[_.length-1].nextSibling),m}g.insertBefore(m,p)}else g.appendChild(m);return m}function Ul(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Un(r);return(r.styles||ro(n)).find(function(a){return a.getAttribute(Cl(r))===t})}function Tl(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Ul(t,r);if(n){var a=Un(r);a.removeChild(n)}}function Nd(t,r){var n=ma.get(t);if(!n||!Ld(document,n)){var a=El("",r),s=a.parentNode;ma.set(t,s),t.removeChild(a)}}function Jt(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=Un(n),s=ro(a),u=N(N({},n),{},{styles:s});Nd(a,u);var f=Ul(r,u);if(f){var l,m;if((l=u.csp)!==null&&l!==void 0&&l.nonce&&f.nonce!==((m=u.csp)===null||m===void 0?void 0:m.nonce)){var g;f.nonce=(g=u.csp)===null||g===void 0?void 0:g.nonce}return f.innerHTML!==t&&(f.innerHTML=t),f}var p=El(t,u);return p.setAttribute(Cl(u),r),p}function Dd(t,r){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(r.indexOf(a)>=0)continue;n[a]=t[a]}return n}function rt(t,r){if(t==null)return{};var n,a,s=Dd(t,r);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(t);for(a=0;a<u.length;a++)n=u[a],r.indexOf(n)>=0||{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}function ga(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=new Set;function s(u,f){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,m=a.has(u);if(De(!m,"Warning: There may be circular references"),m)return!1;if(u===f)return!0;if(n&&l>1)return!1;a.add(u);var g=l+1;if(Array.isArray(u)){if(!Array.isArray(f)||u.length!==f.length)return!1;for(var p=0;p<u.length;p++)if(!s(u[p],f[p],g))return!1;return!0}if(u&&f&&J(u)==="object"&&J(f)==="object"){var _=Object.keys(u);return _.length!==Object.keys(f).length?!1:_.every(function(e){return s(u[e],f[e],g)})}return!1}return s(t,r)}var $d="%";function va(t){return t.join($d)}var jd=function(){function t(r){Te(this,t),I(this,"instanceId",void 0),I(this,"cache",new Map),this.instanceId=r}return Ae(t,[{key:"get",value:function(n){return this.opGet(va(n))}},{key:"opGet",value:function(n){return this.cache.get(n)||null}},{key:"update",value:function(n,a){return this.opUpdate(va(n),a)}},{key:"opUpdate",value:function(n,a){var s=this.cache.get(n),u=a(s);u===null?this.cache.delete(n):this.cache.set(n,u)}}]),t}(),Fr="data-token-hash",et="data-css-hash",Mt="__cssinjs_instance__";function Hd(){var t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){var r=document.body.querySelectorAll("style[".concat(et,"]"))||[],n=document.head.firstChild;Array.from(r).forEach(function(s){s[Mt]=s[Mt]||t,s[Mt]===t&&document.head.insertBefore(s,n)});var a={};Array.from(document.querySelectorAll("style[".concat(et,"]"))).forEach(function(s){var u=s.getAttribute(et);if(a[u]){if(s[Mt]===t){var f;(f=s.parentNode)===null||f===void 0||f.removeChild(s)}}else a[u]=!0})}return new jd(t)}var Vd=S.createContext({hashPriority:"low",cache:Hd(),defaultCache:!0});const Tn=Vd;function Gd(t,r){if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==r[n])return!1;return!0}var io=function(){function t(){Te(this,t),I(this,"cache",void 0),I(this,"keys",void 0),I(this,"cacheCallTimes",void 0),this.cache=new Map,this.keys=[],this.cacheCallTimes=0}return Ae(t,[{key:"size",value:function(){return this.keys.length}},{key:"internalGet",value:function(n){var a,s,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f={map:this.cache};return n.forEach(function(l){if(!f)f=void 0;else{var m;f=(m=f)===null||m===void 0||(m=m.map)===null||m===void 0?void 0:m.get(l)}}),(a=f)!==null&&a!==void 0&&a.value&&u&&(f.value[1]=this.cacheCallTimes++),(s=f)===null||s===void 0?void 0:s.value}},{key:"get",value:function(n){var a;return(a=this.internalGet(n,!0))===null||a===void 0?void 0:a[0]}},{key:"has",value:function(n){return!!this.internalGet(n)}},{key:"set",value:function(n,a){var s=this;if(!this.has(n)){if(this.size()+1>t.MAX_CACHE_SIZE+t.MAX_CACHE_OFFSET){var u=this.keys.reduce(function(g,p){var _=W(g,2),e=_[1];return s.internalGet(p)[1]<e?[p,s.internalGet(p)[1]]:g},[this.keys[0],this.cacheCallTimes]),f=W(u,1),l=f[0];this.delete(l)}this.keys.push(n)}var m=this.cache;n.forEach(function(g,p){if(p===n.length-1)m.set(g,{value:[a,s.cacheCallTimes++]});else{var _=m.get(g);_?_.map||(_.map=new Map):m.set(g,{map:new Map}),m=m.get(g).map}})}},{key:"deleteByPath",value:function(n,a){var s=n.get(a[0]);if(a.length===1){var u;return s.map?n.set(a[0],{map:s.map}):n.delete(a[0]),(u=s.value)===null||u===void 0?void 0:u[0]}var f=this.deleteByPath(s.map,a.slice(1));return(!s.map||s.map.size===0)&&!s.value&&n.delete(a[0]),f}},{key:"delete",value:function(n){if(this.has(n))return this.keys=this.keys.filter(function(a){return!Gd(a,n)}),this.deleteByPath(this.cache,n)}}]),t}();I(io,"MAX_CACHE_SIZE",20);I(io,"MAX_CACHE_OFFSET",5);var jo=0,Al=function(){function t(r){Te(this,t),I(this,"derivatives",void 0),I(this,"id",void 0),this.derivatives=Array.isArray(r)?r:[r],this.id=jo,r.length===0&&(r.length>0,void 0),jo+=1}return Ae(t,[{key:"getDerivativeToken",value:function(n){return this.derivatives.reduce(function(a,s){return s(n,a)},void 0)}}]),t}(),Nn=new io;function ya(t){var r=Array.isArray(t)?t:[t];return Nn.has(r)||Nn.set(r,new Al(r)),Nn.get(r)}var Wd=new WeakMap,Dn={};function Yd(t,r){for(var n=Wd,a=0;a<r.length;a+=1){var s=r[a];n.has(s)||n.set(s,new WeakMap),n=n.get(s)}return n.has(Dn)||n.set(Dn,t()),n.get(Dn)}var Ho=new WeakMap;function ei(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=Ho.get(t)||"";return n||(Object.keys(t).forEach(function(a){var s=t[a];n+=a,s instanceof Al?n+=s.id:s&&J(s)==="object"?n+=ei(s,r):n+=s}),r&&(n=oi(n)),Ho.set(t,n)),n}function Vo(t,r){return oi("".concat(r,"_").concat(ei(t,!0)))}var ba=Ut();function Ee(t){return typeof t=="number"?"".concat(t,"px"):t}function an(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(s)return t;var u=N(N({},a),{},I(I({},Fr,r),et,n)),f=Object.keys(u).map(function(l){var m=u[l];return m?"".concat(l,'="').concat(m,'"'):null}).filter(function(l){return l}).join(" ");return"<style ".concat(f,">").concat(t,"</style>")}var Hi=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return"--".concat(n?"".concat(n,"-"):"").concat(r).replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z]+)([A-Z][a-z0-9]+)/g,"$1-$2").replace(/([a-z])([A-Z0-9])/g,"$1-$2").toLowerCase()},qd=function(r,n,a){return Object.keys(r).length?".".concat(n).concat(a!=null&&a.scope?".".concat(a.scope):"","{").concat(Object.entries(r).map(function(s){var u=W(s,2),f=u[0],l=u[1];return"".concat(f,":").concat(l,";")}).join(""),"}"):""},Fl=function(r,n,a){var s={},u={};return Object.entries(r).forEach(function(f){var l,m,g=W(f,2),p=g[0],_=g[1];if(a!=null&&(l=a.preserve)!==null&&l!==void 0&&l[p])u[p]=_;else if((typeof _=="string"||typeof _=="number")&&!(a!=null&&(m=a.ignore)!==null&&m!==void 0&&m[p])){var e,o=Hi(p,a==null?void 0:a.prefix);s[o]=typeof _=="number"&&!(a!=null&&(e=a.unitless)!==null&&e!==void 0&&e[p])?"".concat(_,"px"):String(_),u[p]="var(".concat(o,")")}}),[u,qd(s,n,{scope:a==null?void 0:a.scope})]},Go=Ut()?S.useLayoutEffect:S.useEffect,Pl=function(r,n){var a=S.useRef(!0);Go(function(){return r(a.current)},n),Go(function(){return a.current=!1,function(){a.current=!0}},[])},Wo=function(r,n){Pl(function(a){if(!a)return r()},n)},Kd=N({},Ya),Yo=Kd.useInsertionEffect,Xd=function(r,n,a){S.useMemo(r,a),Pl(function(){return n(!0)},a)},Zd=Yo?function(t,r,n){return Yo(function(){return t(),r()},n)}:Xd;const Qd=Zd;var Jd=N({},Ya),ef=Jd.useInsertionEffect,tf=function(r){var n=[],a=!1;function s(u){a||n.push(u)}return S.useEffect(function(){return a=!1,function(){a=!0,n.length&&n.forEach(function(u){return u()})}},r),s},rf=function(){return function(r){r()}},nf=typeof ef<"u"?tf:rf;const af=nf;function no(t,r,n,a,s){var u=S.useContext(Tn),f=u.cache,l=[t].concat(q(r)),m=va(l),g=af([m]),p=function(c){f.opUpdate(m,function(d){var h=d||[void 0,void 0],y=W(h,2),v=y[0],b=v===void 0?0:v,w=y[1],x=w,C=x||n(),U=[b,C];return c?c(U):U})};S.useMemo(function(){p()},[m]);var _=f.opGet(m),e=_[1];return Qd(function(){s==null||s(e)},function(o){return p(function(c){var d=W(c,2),h=d[0],y=d[1];return o&&h===0&&(s==null||s(e)),[h+1,y]}),function(){f.opUpdate(m,function(c){var d=c||[],h=W(d,2),y=h[0],v=y===void 0?0:y,b=h[1],w=v-1;return w===0?(g(function(){(o||!f.opGet(m))&&(a==null||a(b,!1))}),null):[v-1,b]})}},[m]),e}var of={},sf="css",Yt=new Map;function lf(t){Yt.set(t,(Yt.get(t)||0)+1)}function cf(t,r){if(typeof document<"u"){var n=document.querySelectorAll("style[".concat(Fr,'="').concat(t,'"]'));n.forEach(function(a){if(a[Mt]===r){var s;(s=a.parentNode)===null||s===void 0||s.removeChild(a)}})}}var uf=0;function df(t,r){Yt.set(t,(Yt.get(t)||0)-1);var n=Array.from(Yt.keys()),a=n.filter(function(s){var u=Yt.get(s)||0;return u<=0});n.length-a.length>uf&&a.forEach(function(s){cf(s,r),Yt.delete(s)})}var ff=function(r,n,a,s){var u=a.getDerivativeToken(r),f=N(N({},u),n);return s&&(f=s(f)),f},Il="token";function hf(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=S.useContext(Tn),s=a.cache.instanceId,u=a.container,f=n.salt,l=f===void 0?"":f,m=n.override,g=m===void 0?of:m,p=n.formatToken,_=n.getComputedToken,e=n.cssVar,o=Yd(function(){return Object.assign.apply(Object,[{}].concat(q(r)))},r),c=ei(o),d=ei(g),h=e?ei(e):"",y=no(Il,[l,t.id,c,d,h],function(){var v,b=_?_(o,g,t):ff(o,g,t,p),w=N({},b),x="";if(e){var C=Fl(b,e.key,{prefix:e.prefix,ignore:e.ignore,unitless:e.unitless,preserve:e.preserve}),U=W(C,2);b=U[0],x=U[1]}var T=Vo(b,l);b._tokenKey=T,w._tokenKey=Vo(w,l);var E=(v=e==null?void 0:e.key)!==null&&v!==void 0?v:T;b._themeKey=E,lf(E);var R="".concat(sf,"-").concat(oi(T));return b._hashId=R,[b,R,w,x,(e==null?void 0:e.key)||""]},function(v){df(v[0]._themeKey,s)},function(v){var b=W(v,4),w=b[0],x=b[3];if(e&&x){var C=Jt(x,oi("css-variables-".concat(w._themeKey)),{mark:et,prepend:"queue",attachTo:u,priority:-999});C[Mt]=s,C.setAttribute(Fr,w._themeKey)}});return y}var pf=function(r,n,a){var s=W(r,5),u=s[2],f=s[3],l=s[4],m=a||{},g=m.plain;if(!f)return null;var p=u._tokenKey,_=-999,e={"data-rc-order":"prependQueue","data-rc-priority":"".concat(_)},o=an(f,l,p,e,g);return[_,p,o]},mf={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},kl="comm",Rl="rule",Ol="decl",gf="@import",vf="@keyframes",yf="@layer",Bl=Math.abs,ao=String.fromCharCode;function Ll(t){return t.trim()}function Vi(t,r,n){return t.replace(r,n)}function bf(t,r,n){return t.indexOf(r,n)}function si(t,r){return t.charCodeAt(r)|0}function li(t,r,n){return t.slice(r,n)}function Ct(t){return t.length}function _f(t){return t.length}function wi(t,r){return r.push(t),t}var An=1,Pr=1,Ml=0,We=0,he=0,Br="";function oo(t,r,n,a,s,u,f,l){return{value:t,root:r,parent:n,type:a,props:s,children:u,line:An,column:Pr,length:f,return:"",siblings:l}}function Sf(){return he}function wf(){return he=We>0?si(Br,--We):0,Pr--,he===10&&(Pr=1,An--),he}function tt(){return he=We<Ml?si(Br,We++):0,Pr++,he===10&&(Pr=1,An++),he}function er(){return si(Br,We)}function Gi(){return We}function Fn(t,r){return li(Br,t,r)}function _a(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function xf(t){return An=Pr=1,Ml=Ct(Br=t),We=0,[]}function Cf(t){return Br="",t}function $n(t){return Ll(Fn(We-1,Sa(t===91?t+2:t===40?t+1:t)))}function Ef(t){for(;(he=er())&&he<33;)tt();return _a(t)>2||_a(he)>3?"":" "}function Uf(t,r){for(;--r&&tt()&&!(he<48||he>102||he>57&&he<65||he>70&&he<97););return Fn(t,Gi()+(r<6&&er()==32&&tt()==32))}function Sa(t){for(;tt();)switch(he){case t:return We;case 34:case 39:t!==34&&t!==39&&Sa(he);break;case 40:t===41&&Sa(t);break;case 92:tt();break}return We}function Tf(t,r){for(;tt()&&t+he!==57;)if(t+he===84&&er()===47)break;return"/*"+Fn(r,We-1)+"*"+ao(t===47?t:tt())}function Af(t){for(;!_a(er());)tt();return Fn(t,We)}function Ff(t){return Cf(Wi("",null,null,null,[""],t=xf(t),0,[0],t))}function Wi(t,r,n,a,s,u,f,l,m){for(var g=0,p=0,_=f,e=0,o=0,c=0,d=1,h=1,y=1,v=0,b="",w=s,x=u,C=a,U=b;h;)switch(c=v,v=tt()){case 40:if(c!=108&&si(U,_-1)==58){bf(U+=Vi($n(v),"&","&\f"),"&\f",Bl(g?l[g-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:U+=$n(v);break;case 9:case 10:case 13:case 32:U+=Ef(c);break;case 92:U+=Uf(Gi()-1,7);continue;case 47:switch(er()){case 42:case 47:wi(Pf(Tf(tt(),Gi()),r,n,m),m);break;default:U+="/"}break;case 123*d:l[g++]=Ct(U)*y;case 125*d:case 59:case 0:switch(v){case 0:case 125:h=0;case 59+p:y==-1&&(U=Vi(U,/\f/g,"")),o>0&&Ct(U)-_&&wi(o>32?Ko(U+";",a,n,_-1,m):Ko(Vi(U," ","")+";",a,n,_-2,m),m);break;case 59:U+=";";default:if(wi(C=qo(U,r,n,g,p,s,l,b,w=[],x=[],_,u),u),v===123)if(p===0)Wi(U,r,C,C,w,u,_,l,x);else switch(e===99&&si(U,3)===110?100:e){case 100:case 108:case 109:case 115:Wi(t,C,C,a&&wi(qo(t,C,C,0,0,s,l,b,s,w=[],_,x),x),s,x,_,l,a?w:x);break;default:Wi(U,C,C,C,[""],x,0,l,x)}}g=p=o=0,d=y=1,b=U="",_=f;break;case 58:_=1+Ct(U),o=c;default:if(d<1){if(v==123)--d;else if(v==125&&d++==0&&wf()==125)continue}switch(U+=ao(v),v*d){case 38:y=p>0?1:(U+="\f",-1);break;case 44:l[g++]=(Ct(U)-1)*y,y=1;break;case 64:er()===45&&(U+=$n(tt())),e=er(),p=_=Ct(b=U+=Af(Gi())),v++;break;case 45:c===45&&Ct(U)==2&&(d=0)}}return u}function qo(t,r,n,a,s,u,f,l,m,g,p,_){for(var e=s-1,o=s===0?u:[""],c=_f(o),d=0,h=0,y=0;d<a;++d)for(var v=0,b=li(t,e+1,e=Bl(h=f[d])),w=t;v<c;++v)(w=Ll(h>0?o[v]+" "+b:Vi(b,/&\f/g,o[v])))&&(m[y++]=w);return oo(t,r,n,s===0?Rl:l,m,g,p,_)}function Pf(t,r,n,a){return oo(t,r,n,kl,ao(Sf()),li(t,2,-2),0,a)}function Ko(t,r,n,a,s){return oo(t,r,n,Ol,li(t,0,a),li(t,a+1,-1),a,s)}function wa(t,r){for(var n="",a=0;a<t.length;a++)n+=r(t[a],a,t,r)||"";return n}function If(t,r,n,a){switch(t.type){case yf:if(t.children.length)break;case gf:case Ol:return t.return=t.return||t.value;case kl:return"";case vf:return t.return=t.value+"{"+wa(t.children,a)+"}";case Rl:if(!Ct(t.value=t.props.join(",")))return""}return Ct(n=wa(t.children,a))?t.return=t.value+"{"+n+"}":""}var Xo="data-ant-cssinjs-cache-path",zl="_FILE_STYLE__",tr,Nl=!0;function kf(){if(!tr&&(tr={},Ut())){var t=document.createElement("div");t.className=Xo,t.style.position="fixed",t.style.visibility="hidden",t.style.top="-9999px",document.body.appendChild(t);var r=getComputedStyle(t).content||"";r=r.replace(/^"/,"").replace(/"$/,""),r.split(";").forEach(function(s){var u=s.split(":"),f=W(u,2),l=f[0],m=f[1];tr[l]=m});var n=document.querySelector("style[".concat(Xo,"]"));if(n){var a;Nl=!1,(a=n.parentNode)===null||a===void 0||a.removeChild(n)}document.body.removeChild(t)}}function Rf(t){return kf(),!!tr[t]}function Of(t){var r=tr[t],n=null;if(r&&Ut())if(Nl)n=zl;else{var a=document.querySelector("style[".concat(et,'="').concat(tr[t],'"]'));a?n=a.innerHTML:delete tr[t]}return[n,r]}var Bf="_skip_check_",Dl="_multi_value_";function Yi(t){var r=wa(Ff(t),If);return r.replace(/\{%%%\:[^;];}/g,";")}function Lf(t){return J(t)==="object"&&t&&(Bf in t||Dl in t)}function Mf(t,r,n){if(!r)return t;var a=".".concat(r),s=n==="low"?":where(".concat(a,")"):a,u=t.split(",").map(function(f){var l,m=f.trim().split(/\s+/),g=m[0]||"",p=((l=g.match(/^\w+/))===null||l===void 0?void 0:l[0])||"";return g="".concat(p).concat(s).concat(g.slice(p.length)),[g].concat(q(m.slice(1))).join(" ")});return u.join(",")}var zf=function t(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]},s=a.root,u=a.injectHash,f=a.parentSelectors,l=n.hashId,m=n.layer;n.path;var g=n.hashPriority,p=n.transformers,_=p===void 0?[]:p;n.linters;var e="",o={};function c(y){var v=y.getName(l);if(!o[v]){var b=t(y.style,n,{root:!1,parentSelectors:f}),w=W(b,1),x=w[0];o[v]="@keyframes ".concat(y.getName(l)).concat(x)}}function d(y){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return y.forEach(function(b){Array.isArray(b)?d(b,v):b&&v.push(b)}),v}var h=d(Array.isArray(r)?r:[r]);return h.forEach(function(y){var v=typeof y=="string"&&!s?{}:y;if(typeof v=="string")e+="".concat(v,`
`);else if(v._keyframe)c(v);else{var b=_.reduce(function(w,x){var C;return(x==null||(C=x.visit)===null||C===void 0?void 0:C.call(x,w))||w},v);Object.keys(b).forEach(function(w){var x=b[w];if(J(x)==="object"&&x&&(w!=="animationName"||!x._keyframe)&&!Lf(x)){var C=!1,U=w.trim(),T=!1;(s||u)&&l?U.startsWith("@")?C=!0:U=Mf(w,l,g):s&&!l&&(U==="&"||U==="")&&(U="",T=!0);var E=t(x,n,{root:T,injectHash:C,parentSelectors:[].concat(q(f),[U])}),R=W(E,2),k=R[0],z=R[1];o=N(N({},o),z),e+="".concat(U).concat(k)}else{let $=function(F,P){var L=F.replace(/[A-Z]/g,function(j){return"-".concat(j.toLowerCase())}),D=P;!mf[F]&&typeof D=="number"&&D!==0&&(D="".concat(D,"px")),F==="animationName"&&P!==null&&P!==void 0&&P._keyframe&&(c(P),D=P.getName(l)),e+="".concat(L,":").concat(D,";")};var M,O=(M=x==null?void 0:x.value)!==null&&M!==void 0?M:x;J(x)==="object"&&x!==null&&x!==void 0&&x[Dl]&&Array.isArray(O)?O.forEach(function(F){$(w,F)}):$(w,O)}})}}),s?m&&(e="@layer ".concat(m.name," {").concat(e,"}"),m.dependencies&&(o["@layer ".concat(m.name)]=m.dependencies.map(function(y){return"@layer ".concat(y,", ").concat(m.name,";")}).join(`
`))):e="{".concat(e,"}"),[e,o]};function $l(t,r){return oi("".concat(t.join("%")).concat(r))}function Nf(){return null}var jl="style";function xa(t,r){var n=t.token,a=t.path,s=t.hashId,u=t.layer,f=t.nonce,l=t.clientOnly,m=t.order,g=m===void 0?0:m,p=S.useContext(Tn),_=p.autoClear;p.mock;var e=p.defaultCache,o=p.hashPriority,c=p.container,d=p.ssrInline,h=p.transformers,y=p.linters,v=p.cache,b=p.layer,w=n._tokenKey,x=[w];b&&x.push("layer"),x.push.apply(x,q(a));var C=ba,U=no(jl,x,function(){var z=x.join("|");if(Rf(z)){var M=Of(z),O=W(M,2),$=O[0],F=O[1];if($)return[$,w,F,{},l,g]}var P=r(),L=zf(P,{hashId:s,hashPriority:o,layer:b?u:void 0,path:a.join("-"),transformers:h,linters:y}),D=W(L,2),j=D[0],B=D[1],H=Yi(j),Q=$l(x,H);return[H,w,Q,B,l,g]},function(z,M){var O=W(z,3),$=O[2];(M||_)&&ba&&Tl($,{mark:et})},function(z){var M=W(z,4),O=M[0];M[1];var $=M[2],F=M[3];if(C&&O!==zl){var P={mark:et,prepend:b?!1:"queue",attachTo:c,priority:g},L=typeof f=="function"?f():f;L&&(P.csp={nonce:L});var D=[],j=[];Object.keys(F).forEach(function(H){H.startsWith("@layer")?D.push(H):j.push(H)}),D.forEach(function(H){Jt(Yi(F[H]),"_layer-".concat(H),N(N({},P),{},{prepend:!0}))});var B=Jt(O,$,P);B[Mt]=v.instanceId,B.setAttribute(Fr,w),j.forEach(function(H){Jt(Yi(F[H]),"_effect-".concat(H),P)})}}),T=W(U,3),E=T[0],R=T[1],k=T[2];return function(z){var M;return!d||C||!e?M=S.createElement(Nf,null):M=S.createElement("style",ye({},I(I({},Fr,R),et,k),{dangerouslySetInnerHTML:{__html:E}})),S.createElement(S.Fragment,null,M,z)}}var Df=function(r,n,a){var s=W(r,6),u=s[0],f=s[1],l=s[2],m=s[3],g=s[4],p=s[5],_=a||{},e=_.plain;if(g)return null;var o=u,c={"data-rc-order":"prependQueue","data-rc-priority":"".concat(p)};return o=an(u,f,l,c,e),m&&Object.keys(m).forEach(function(d){if(!n[d]){n[d]=!0;var h=Yi(m[d]),y=an(h,f,"_effect-".concat(d),c,e);d.startsWith("@layer")?o=y+o:o+=y}}),[p,l,o]},Hl="cssVar",$f=function(r,n){var a=r.key,s=r.prefix,u=r.unitless,f=r.ignore,l=r.token,m=r.scope,g=m===void 0?"":m,p=S.useContext(Tn),_=p.cache.instanceId,e=p.container,o=l._tokenKey,c=[].concat(q(r.path),[a,g,o]),d=no(Hl,c,function(){var h=n(),y=Fl(h,a,{prefix:s,unitless:u,ignore:f,scope:g}),v=W(y,2),b=v[0],w=v[1],x=$l(c,w);return[b,w,x,a]},function(h){var y=W(h,3),v=y[2];ba&&Tl(v,{mark:et})},function(h){var y=W(h,3),v=y[1],b=y[2];if(v){var w=Jt(v,b,{mark:et,prepend:"queue",attachTo:e,priority:-999});w[Mt]=_,w.setAttribute(Fr,a)}});return d},jf=function(r,n,a){var s=W(r,4),u=s[1],f=s[2],l=s[3],m=a||{},g=m.plain;if(!u)return null;var p=-999,_={"data-rc-order":"prependQueue","data-rc-priority":"".concat(p)},e=an(u,l,f,_,g);return[p,f,e]};I(I(I({},jl,Df),Il,pf),Hl,jf);var Zo=function(){function t(r,n){Te(this,t),I(this,"name",void 0),I(this,"style",void 0),I(this,"_keyframe",!0),this.name=r,this.style=n}return Ae(t,[{key:"getName",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return n?"".concat(n,"-").concat(this.name):this.name}}]),t}();function lr(t){return t.notSplit=!0,t}lr(["borderTop","borderBottom"]),lr(["borderTop"]),lr(["borderBottom"]),lr(["borderLeft","borderRight"]),lr(["borderLeft"]),lr(["borderRight"]);var so=S.createContext({});function Hf(t){return wl(t)||yl(t)||eo(t)||xl()}function mt(t,r){for(var n=t,a=0;a<r.length;a+=1){if(n==null)return;n=n[r[a]]}return n}function Vl(t,r,n,a){if(!r.length)return n;var s=Hf(r),u=s[0],f=s.slice(1),l;return!t&&typeof u=="number"?l=[]:Array.isArray(t)?l=q(t):l=N({},t),a&&n===void 0&&f.length===1?delete l[u][f[0]]:l[u]=Vl(l[u],f,n,a),l}function Ze(t,r,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return r.length&&a&&n===void 0&&!mt(t,r.slice(0,-1))?t:Vl(t,r,n,a)}function Vf(t){return J(t)==="object"&&t!==null&&Object.getPrototypeOf(t)===Object.prototype}function Qo(t){return Array.isArray(t)?[]:{}}var Gf=typeof Reflect>"u"?Object.keys:Reflect.ownKeys;function Er(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=Qo(r[0]);return r.forEach(function(s){function u(f,l){var m=new Set(l),g=mt(s,f),p=Array.isArray(g);if(p||Vf(g)){if(!m.has(g)){m.add(g);var _=mt(a,f);p?a=Ze(a,f,[]):(!_||J(_)!=="object")&&(a=Ze(a,f,Qo(g))),Gf(g).forEach(function(e){u([].concat(q(f),[e]),m)})}}else a=Ze(a,f,g)}u([])}),a}const Wf=S.createContext({}),Yf=S.createContext(void 0);var qf={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},Kf={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"OK",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const Gl={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},Jo={lang:Object.assign({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},Kf),timePickerLocale:Object.assign({},Gl)},Re="${label} is not a valid ${type}",Pn={locale:"en",Pagination:qf,DatePicker:Jo,TimePicker:Gl,Calendar:Jo,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",deselectAll:"Deselect all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand",collapse:"Collapse"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:Re,method:Re,array:Re,object:Re,number:Re,date:Re,boolean:Re,integer:Re,float:Re,regexp:Re,email:Re,url:Re,hex:Re},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"},ColorPicker:{presetEmpty:"Empty"}};Object.assign({},Pn.Modal);let qi=[];const es=()=>qi.reduce((t,r)=>Object.assign(Object.assign({},t),r),Pn.Modal);function Xf(t){if(t){const r=Object.assign({},t);return qi.push(r),es(),()=>{qi=qi.filter(n=>n!==r),es()}}Object.assign({},Pn.Modal)}const Wl=S.createContext(void 0),Zf="internalMark",Qf=t=>{const{locale:r={},children:n,_ANT_MARK__:a}=t;S.useEffect(()=>Xf(r&&r.Modal),[r]);const s=S.useMemo(()=>Object.assign(Object.assign({},r),{exist:!0}),[r]);return S.createElement(Wl.Provider,{value:s},n)};function xe(t,r){Jf(t)&&(t="100%");var n=eh(t);return t=r===360?t:Math.min(r,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*r),10)/100),Math.abs(t-r)<1e-6?1:(r===360?t=(t<0?t%r+r:t%r)/parseFloat(String(r)):t=t%r/parseFloat(String(r)),t)}function xi(t){return Math.min(1,Math.max(0,t))}function Jf(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function eh(t){return typeof t=="string"&&t.indexOf("%")!==-1}function Yl(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Ci(t){return t<=1?"".concat(Number(t)*100,"%"):t}function qt(t){return t.length===1?"0"+t:String(t)}function th(t,r,n){return{r:xe(t,255)*255,g:xe(r,255)*255,b:xe(n,255)*255}}function ts(t,r,n){t=xe(t,255),r=xe(r,255),n=xe(n,255);var a=Math.max(t,r,n),s=Math.min(t,r,n),u=0,f=0,l=(a+s)/2;if(a===s)f=0,u=0;else{var m=a-s;switch(f=l>.5?m/(2-a-s):m/(a+s),a){case t:u=(r-n)/m+(r<n?6:0);break;case r:u=(n-t)/m+2;break;case n:u=(t-r)/m+4;break}u/=6}return{h:u,s:f,l}}function jn(t,r,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(r-t)*(6*n):n<1/2?r:n<2/3?t+(r-t)*(2/3-n)*6:t}function rh(t,r,n){var a,s,u;if(t=xe(t,360),r=xe(r,100),n=xe(n,100),r===0)s=n,u=n,a=n;else{var f=n<.5?n*(1+r):n+r-n*r,l=2*n-f;a=jn(l,f,t+1/3),s=jn(l,f,t),u=jn(l,f,t-1/3)}return{r:a*255,g:s*255,b:u*255}}function Ca(t,r,n){t=xe(t,255),r=xe(r,255),n=xe(n,255);var a=Math.max(t,r,n),s=Math.min(t,r,n),u=0,f=a,l=a-s,m=a===0?0:l/a;if(a===s)u=0;else{switch(a){case t:u=(r-n)/l+(r<n?6:0);break;case r:u=(n-t)/l+2;break;case n:u=(t-r)/l+4;break}u/=6}return{h:u,s:m,v:f}}function ih(t,r,n){t=xe(t,360)*6,r=xe(r,100),n=xe(n,100);var a=Math.floor(t),s=t-a,u=n*(1-r),f=n*(1-s*r),l=n*(1-(1-s)*r),m=a%6,g=[n,f,u,u,l,n][m],p=[l,n,n,f,u,u][m],_=[u,u,l,n,n,f][m];return{r:g*255,g:p*255,b:_*255}}function Ea(t,r,n,a){var s=[qt(Math.round(t).toString(16)),qt(Math.round(r).toString(16)),qt(Math.round(n).toString(16))];return a&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function nh(t,r,n,a,s){var u=[qt(Math.round(t).toString(16)),qt(Math.round(r).toString(16)),qt(Math.round(n).toString(16)),qt(ah(a))];return s&&u[0].startsWith(u[0].charAt(1))&&u[1].startsWith(u[1].charAt(1))&&u[2].startsWith(u[2].charAt(1))&&u[3].startsWith(u[3].charAt(1))?u[0].charAt(0)+u[1].charAt(0)+u[2].charAt(0)+u[3].charAt(0):u.join("")}function ah(t){return Math.round(parseFloat(t)*255).toString(16)}function rs(t){return Me(t)/255}function Me(t){return parseInt(t,16)}function oh(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var Ua={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function wr(t){var r={r:0,g:0,b:0},n=1,a=null,s=null,u=null,f=!1,l=!1;return typeof t=="string"&&(t=ch(t)),typeof t=="object"&&(yt(t.r)&&yt(t.g)&&yt(t.b)?(r=th(t.r,t.g,t.b),f=!0,l=String(t.r).substr(-1)==="%"?"prgb":"rgb"):yt(t.h)&&yt(t.s)&&yt(t.v)?(a=Ci(t.s),s=Ci(t.v),r=ih(t.h,a,s),f=!0,l="hsv"):yt(t.h)&&yt(t.s)&&yt(t.l)&&(a=Ci(t.s),u=Ci(t.l),r=rh(t.h,a,u),f=!0,l="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=Yl(n),{ok:f,format:t.format||l,r:Math.min(255,Math.max(r.r,0)),g:Math.min(255,Math.max(r.g,0)),b:Math.min(255,Math.max(r.b,0)),a:n}}var sh="[-\\+]?\\d+%?",lh="[-\\+]?\\d*\\.\\d+%?",zt="(?:".concat(lh,")|(?:").concat(sh,")"),Hn="[\\s|\\(]+(".concat(zt,")[,|\\s]+(").concat(zt,")[,|\\s]+(").concat(zt,")\\s*\\)?"),Vn="[\\s|\\(]+(".concat(zt,")[,|\\s]+(").concat(zt,")[,|\\s]+(").concat(zt,")[,|\\s]+(").concat(zt,")\\s*\\)?"),Xe={CSS_UNIT:new RegExp(zt),rgb:new RegExp("rgb"+Hn),rgba:new RegExp("rgba"+Vn),hsl:new RegExp("hsl"+Hn),hsla:new RegExp("hsla"+Vn),hsv:new RegExp("hsv"+Hn),hsva:new RegExp("hsva"+Vn),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function ch(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var r=!1;if(Ua[t])t=Ua[t],r=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=Xe.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=Xe.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Xe.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=Xe.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Xe.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=Xe.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Xe.hex8.exec(t),n?{r:Me(n[1]),g:Me(n[2]),b:Me(n[3]),a:rs(n[4]),format:r?"name":"hex8"}:(n=Xe.hex6.exec(t),n?{r:Me(n[1]),g:Me(n[2]),b:Me(n[3]),format:r?"name":"hex"}:(n=Xe.hex4.exec(t),n?{r:Me(n[1]+n[1]),g:Me(n[2]+n[2]),b:Me(n[3]+n[3]),a:rs(n[4]+n[4]),format:r?"name":"hex8"}:(n=Xe.hex3.exec(t),n?{r:Me(n[1]+n[1]),g:Me(n[2]+n[2]),b:Me(n[3]+n[3]),format:r?"name":"hex"}:!1)))))))))}function yt(t){return!!Xe.CSS_UNIT.exec(String(t))}var ze=function(){function t(r,n){r===void 0&&(r=""),n===void 0&&(n={});var a;if(r instanceof t)return r;typeof r=="number"&&(r=oh(r)),this.originalInput=r;var s=wr(r);this.originalInput=r,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(a=n.format)!==null&&a!==void 0?a:s.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var r=this.toRgb();return(r.r*299+r.g*587+r.b*114)/1e3},t.prototype.getLuminance=function(){var r=this.toRgb(),n,a,s,u=r.r/255,f=r.g/255,l=r.b/255;return u<=.03928?n=u/12.92:n=Math.pow((u+.055)/1.055,2.4),f<=.03928?a=f/12.92:a=Math.pow((f+.055)/1.055,2.4),l<=.03928?s=l/12.92:s=Math.pow((l+.055)/1.055,2.4),.2126*n+.7152*a+.0722*s},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(r){return this.a=Yl(r),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var r=this.toHsl().s;return r===0},t.prototype.toHsv=function(){var r=Ca(this.r,this.g,this.b);return{h:r.h*360,s:r.s,v:r.v,a:this.a}},t.prototype.toHsvString=function(){var r=Ca(this.r,this.g,this.b),n=Math.round(r.h*360),a=Math.round(r.s*100),s=Math.round(r.v*100);return this.a===1?"hsv(".concat(n,", ").concat(a,"%, ").concat(s,"%)"):"hsva(".concat(n,", ").concat(a,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var r=ts(this.r,this.g,this.b);return{h:r.h*360,s:r.s,l:r.l,a:this.a}},t.prototype.toHslString=function(){var r=ts(this.r,this.g,this.b),n=Math.round(r.h*360),a=Math.round(r.s*100),s=Math.round(r.l*100);return this.a===1?"hsl(".concat(n,", ").concat(a,"%, ").concat(s,"%)"):"hsla(".concat(n,", ").concat(a,"%, ").concat(s,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(r){return r===void 0&&(r=!1),Ea(this.r,this.g,this.b,r)},t.prototype.toHexString=function(r){return r===void 0&&(r=!1),"#"+this.toHex(r)},t.prototype.toHex8=function(r){return r===void 0&&(r=!1),nh(this.r,this.g,this.b,this.a,r)},t.prototype.toHex8String=function(r){return r===void 0&&(r=!1),"#"+this.toHex8(r)},t.prototype.toHexShortString=function(r){return r===void 0&&(r=!1),this.a===1?this.toHexString(r):this.toHex8String(r)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var r=Math.round(this.r),n=Math.round(this.g),a=Math.round(this.b);return this.a===1?"rgb(".concat(r,", ").concat(n,", ").concat(a,")"):"rgba(".concat(r,", ").concat(n,", ").concat(a,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var r=function(n){return"".concat(Math.round(xe(n,255)*100),"%")};return{r:r(this.r),g:r(this.g),b:r(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var r=function(n){return Math.round(xe(n,255)*100)};return this.a===1?"rgb(".concat(r(this.r),"%, ").concat(r(this.g),"%, ").concat(r(this.b),"%)"):"rgba(".concat(r(this.r),"%, ").concat(r(this.g),"%, ").concat(r(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var r="#"+Ea(this.r,this.g,this.b,!1),n=0,a=Object.entries(Ua);n<a.length;n++){var s=a[n],u=s[0],f=s[1];if(r===f)return u}return!1},t.prototype.toString=function(r){var n=!!r;r=r??this.format;var a=!1,s=this.a<1&&this.a>=0,u=!n&&s&&(r.startsWith("hex")||r==="name");return u?r==="name"&&this.a===0?this.toName():this.toRgbString():(r==="rgb"&&(a=this.toRgbString()),r==="prgb"&&(a=this.toPercentageRgbString()),(r==="hex"||r==="hex6")&&(a=this.toHexString()),r==="hex3"&&(a=this.toHexString(!0)),r==="hex4"&&(a=this.toHex8String(!0)),r==="hex8"&&(a=this.toHex8String()),r==="name"&&(a=this.toName()),r==="hsl"&&(a=this.toHslString()),r==="hsv"&&(a=this.toHsvString()),a||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(r){r===void 0&&(r=10);var n=this.toHsl();return n.l+=r/100,n.l=xi(n.l),new t(n)},t.prototype.brighten=function(r){r===void 0&&(r=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(r/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(r/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(r/100)))),new t(n)},t.prototype.darken=function(r){r===void 0&&(r=10);var n=this.toHsl();return n.l-=r/100,n.l=xi(n.l),new t(n)},t.prototype.tint=function(r){return r===void 0&&(r=10),this.mix("white",r)},t.prototype.shade=function(r){return r===void 0&&(r=10),this.mix("black",r)},t.prototype.desaturate=function(r){r===void 0&&(r=10);var n=this.toHsl();return n.s-=r/100,n.s=xi(n.s),new t(n)},t.prototype.saturate=function(r){r===void 0&&(r=10);var n=this.toHsl();return n.s+=r/100,n.s=xi(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(r){var n=this.toHsl(),a=(n.h+r)%360;return n.h=a<0?360+a:a,new t(n)},t.prototype.mix=function(r,n){n===void 0&&(n=50);var a=this.toRgb(),s=new t(r).toRgb(),u=n/100,f={r:(s.r-a.r)*u+a.r,g:(s.g-a.g)*u+a.g,b:(s.b-a.b)*u+a.b,a:(s.a-a.a)*u+a.a};return new t(f)},t.prototype.analogous=function(r,n){r===void 0&&(r=6),n===void 0&&(n=30);var a=this.toHsl(),s=360/n,u=[this];for(a.h=(a.h-(s*r>>1)+720)%360;--r;)a.h=(a.h+s)%360,u.push(new t(a));return u},t.prototype.complement=function(){var r=this.toHsl();return r.h=(r.h+180)%360,new t(r)},t.prototype.monochromatic=function(r){r===void 0&&(r=6);for(var n=this.toHsv(),a=n.h,s=n.s,u=n.v,f=[],l=1/r;r--;)f.push(new t({h:a,s,v:u})),u=(u+l)%1;return f},t.prototype.splitcomplement=function(){var r=this.toHsl(),n=r.h;return[this,new t({h:(n+72)%360,s:r.s,l:r.l}),new t({h:(n+216)%360,s:r.s,l:r.l})]},t.prototype.onBackground=function(r){var n=this.toRgb(),a=new t(r).toRgb(),s=n.a+a.a*(1-n.a);return new t({r:(n.r*n.a+a.r*a.a*(1-n.a))/s,g:(n.g*n.a+a.g*a.a*(1-n.a))/s,b:(n.b*n.a+a.b*a.a*(1-n.a))/s,a:s})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(r){for(var n=this.toHsl(),a=n.h,s=[this],u=360/r,f=1;f<r;f++)s.push(new t({h:(a+f*u)%360,s:n.s,l:n.l}));return s},t.prototype.equals=function(r){return this.toRgbString()===new t(r).toRgbString()},t}(),Ei=2,is=.16,uh=.05,dh=.05,fh=.15,ql=5,Kl=4,hh=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ns(t){var r=t.r,n=t.g,a=t.b,s=Ca(r,n,a);return{h:s.h*360,s:s.s,v:s.v}}function Ui(t){var r=t.r,n=t.g,a=t.b;return"#".concat(Ea(r,n,a,!1))}function ph(t,r,n){var a=n/100,s={r:(r.r-t.r)*a+t.r,g:(r.g-t.g)*a+t.g,b:(r.b-t.b)*a+t.b};return s}function as(t,r,n){var a;return Math.round(t.h)>=60&&Math.round(t.h)<=240?a=n?Math.round(t.h)-Ei*r:Math.round(t.h)+Ei*r:a=n?Math.round(t.h)+Ei*r:Math.round(t.h)-Ei*r,a<0?a+=360:a>=360&&(a-=360),a}function os(t,r,n){if(t.h===0&&t.s===0)return t.s;var a;return n?a=t.s-is*r:r===Kl?a=t.s+is:a=t.s+uh*r,a>1&&(a=1),n&&r===ql&&a>.1&&(a=.1),a<.06&&(a=.06),Number(a.toFixed(2))}function ss(t,r,n){var a;return n?a=t.v+dh*r:a=t.v-fh*r,a>1&&(a=1),Number(a.toFixed(2))}function nr(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],a=wr(t),s=ql;s>0;s-=1){var u=ns(a),f=Ui(wr({h:as(u,s,!0),s:os(u,s,!0),v:ss(u,s,!0)}));n.push(f)}n.push(Ui(a));for(var l=1;l<=Kl;l+=1){var m=ns(a),g=Ui(wr({h:as(m,l),s:os(m,l),v:ss(m,l)}));n.push(g)}return r.theme==="dark"?hh.map(function(p){var _=p.index,e=p.opacity,o=Ui(ph(wr(r.backgroundColor||"#141414"),wr(n[_]),e*100));return o}):n}var Gn={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1677FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Ki={},Wn={};Object.keys(Gn).forEach(function(t){Ki[t]=nr(Gn[t]),Ki[t].primary=Ki[t][5],Wn[t]=nr(Gn[t],{theme:"dark",backgroundColor:"#141414"}),Wn[t].primary=Wn[t][5]});var mh=Ki.blue;const Xl={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},ci=Object.assign(Object.assign({},Xl),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorLink:"",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontFamilyCode:"'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace",fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1,motion:!0});function gh(t,r){let{generateColorPalettes:n,generateNeutralColorPalettes:a}=r;const{colorSuccess:s,colorWarning:u,colorError:f,colorInfo:l,colorPrimary:m,colorBgBase:g,colorTextBase:p}=t,_=n(m),e=n(s),o=n(u),c=n(f),d=n(l),h=a(g,p),y=t.colorLink||t.colorInfo,v=n(y);return Object.assign(Object.assign({},h),{colorPrimaryBg:_[1],colorPrimaryBgHover:_[2],colorPrimaryBorder:_[3],colorPrimaryBorderHover:_[4],colorPrimaryHover:_[5],colorPrimary:_[6],colorPrimaryActive:_[7],colorPrimaryTextHover:_[8],colorPrimaryText:_[9],colorPrimaryTextActive:_[10],colorSuccessBg:e[1],colorSuccessBgHover:e[2],colorSuccessBorder:e[3],colorSuccessBorderHover:e[4],colorSuccessHover:e[4],colorSuccess:e[6],colorSuccessActive:e[7],colorSuccessTextHover:e[8],colorSuccessText:e[9],colorSuccessTextActive:e[10],colorErrorBg:c[1],colorErrorBgHover:c[2],colorErrorBgActive:c[3],colorErrorBorder:c[3],colorErrorBorderHover:c[4],colorErrorHover:c[5],colorError:c[6],colorErrorActive:c[7],colorErrorTextHover:c[8],colorErrorText:c[9],colorErrorTextActive:c[10],colorWarningBg:o[1],colorWarningBgHover:o[2],colorWarningBorder:o[3],colorWarningBorderHover:o[4],colorWarningHover:o[4],colorWarning:o[6],colorWarningActive:o[7],colorWarningTextHover:o[8],colorWarningText:o[9],colorWarningTextActive:o[10],colorInfoBg:d[1],colorInfoBgHover:d[2],colorInfoBorder:d[3],colorInfoBorderHover:d[4],colorInfoHover:d[4],colorInfo:d[6],colorInfoActive:d[7],colorInfoTextHover:d[8],colorInfoText:d[9],colorInfoTextActive:d[10],colorLinkHover:v[4],colorLink:v[6],colorLinkActive:v[7],colorBgMask:new ze("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const vh=t=>{let r=t,n=t,a=t,s=t;return t<6&&t>=5?r=t+1:t<16&&t>=6?r=t+2:t>=16&&(r=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?a=1:t>=6&&(a=2),t>4&&t<8?s=4:t>=8&&(s=6),{borderRadius:t,borderRadiusXS:a,borderRadiusSM:n,borderRadiusLG:r,borderRadiusOuter:s}};function yh(t){const{motionUnit:r,motionBase:n,borderRadius:a,lineWidth:s}=t;return Object.assign({motionDurationFast:`${(n+r).toFixed(1)}s`,motionDurationMid:`${(n+r*2).toFixed(1)}s`,motionDurationSlow:`${(n+r*3).toFixed(1)}s`,lineWidthBold:s+1},vh(a))}const bh=t=>{const{controlHeight:r}=t;return{controlHeightSM:r*.75,controlHeightXS:r*.5,controlHeightLG:r*1.25}};function Xi(t){return(t+8)/t}function _h(t){const r=new Array(10).fill(null).map((n,a)=>{const s=a-1,u=t*Math.pow(2.71828,s/5),f=a>1?Math.floor(u):Math.ceil(u);return Math.floor(f/2)*2});return r[1]=t,r.map(n=>({size:n,lineHeight:Xi(n)}))}const Sh=t=>{const r=_h(t),n=r.map(p=>p.size),a=r.map(p=>p.lineHeight),s=n[1],u=n[0],f=n[2],l=a[1],m=a[0],g=a[2];return{fontSizeSM:u,fontSize:s,fontSizeLG:f,fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:l,lineHeightLG:g,lineHeightSM:m,fontHeight:Math.round(l*s),fontHeightLG:Math.round(g*f),fontHeightSM:Math.round(m*u),lineHeightHeading1:a[6],lineHeightHeading2:a[5],lineHeightHeading3:a[4],lineHeightHeading4:a[3],lineHeightHeading5:a[2]}};function wh(t){const{sizeUnit:r,sizeStep:n}=t;return{sizeXXL:r*(n+8),sizeXL:r*(n+4),sizeLG:r*(n+2),sizeMD:r*(n+1),sizeMS:r*n,size:r*n,sizeSM:r*(n-1),sizeXS:r*(n-2),sizeXXS:r*(n-3)}}const bt=(t,r)=>new ze(t).setAlpha(r).toRgbString(),Dr=(t,r)=>new ze(t).darken(r).toHexString(),xh=t=>{const r=nr(t);return{1:r[0],2:r[1],3:r[2],4:r[3],5:r[4],6:r[5],7:r[6],8:r[4],9:r[5],10:r[6]}},Ch=(t,r)=>{const n=t||"#fff",a=r||"#000";return{colorBgBase:n,colorTextBase:a,colorText:bt(a,.88),colorTextSecondary:bt(a,.65),colorTextTertiary:bt(a,.45),colorTextQuaternary:bt(a,.25),colorFill:bt(a,.15),colorFillSecondary:bt(a,.06),colorFillTertiary:bt(a,.04),colorFillQuaternary:bt(a,.02),colorBgLayout:Dr(n,4),colorBgContainer:Dr(n,0),colorBgElevated:Dr(n,0),colorBgSpotlight:bt(a,.85),colorBgBlur:"transparent",colorBorder:Dr(n,15),colorBorderSecondary:Dr(n,6)}};function Eh(t){const r=Object.keys(Xl).map(n=>{const a=nr(t[n]);return new Array(10).fill(1).reduce((s,u,f)=>(s[`${n}-${f+1}`]=a[f],s[`${n}${f+1}`]=a[f],s),{})}).reduce((n,a)=>(n=Object.assign(Object.assign({},n),a),n),{});return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),r),gh(t,{generateColorPalettes:xh,generateNeutralColorPalettes:Ch})),Sh(t.fontSize)),wh(t)),bh(t)),yh(t))}const Zl=ya(Eh),Ta={token:ci,override:{override:ci},hashed:!0},Ql=K.createContext(Ta),lo="anticon",Uh=(t,r)=>r||(t?`ant-${t}`:"ant"),Ce=S.createContext({getPrefixCls:Uh,iconPrefixCls:lo}),Th=`-ant-${Date.now()}-${Math.random()}`;function Ah(t,r){const n={},a=(f,l)=>{let m=f.clone();return m=(l==null?void 0:l(m))||m,m.toRgbString()},s=(f,l)=>{const m=new ze(f),g=nr(m.toRgbString());n[`${l}-color`]=a(m),n[`${l}-color-disabled`]=g[1],n[`${l}-color-hover`]=g[4],n[`${l}-color-active`]=g[6],n[`${l}-color-outline`]=m.clone().setAlpha(.2).toRgbString(),n[`${l}-color-deprecated-bg`]=g[0],n[`${l}-color-deprecated-border`]=g[2]};if(r.primaryColor){s(r.primaryColor,"primary");const f=new ze(r.primaryColor),l=nr(f.toRgbString());l.forEach((g,p)=>{n[`primary-${p+1}`]=g}),n["primary-color-deprecated-l-35"]=a(f,g=>g.lighten(35)),n["primary-color-deprecated-l-20"]=a(f,g=>g.lighten(20)),n["primary-color-deprecated-t-20"]=a(f,g=>g.tint(20)),n["primary-color-deprecated-t-50"]=a(f,g=>g.tint(50)),n["primary-color-deprecated-f-12"]=a(f,g=>g.setAlpha(g.getAlpha()*.12));const m=new ze(l[0]);n["primary-color-active-deprecated-f-30"]=a(m,g=>g.setAlpha(g.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=a(m,g=>g.darken(2))}return r.successColor&&s(r.successColor,"success"),r.warningColor&&s(r.warningColor,"warning"),r.errorColor&&s(r.errorColor,"error"),r.infoColor&&s(r.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(f=>`--${t}-${f}: ${n[f]};`).join(`
`)}
  }
  `.trim()}function Fh(t,r){const n=Ah(t,r);Ut()&&Jt(n,`${Th}-dynamic-theme`)}const ui=S.createContext(!1),Ph=t=>{let{children:r,disabled:n}=t;const a=S.useContext(ui);return S.createElement(ui.Provider,{value:n??a},r)},Ir=S.createContext(void 0),Ih=t=>{let{children:r,size:n}=t;const a=S.useContext(Ir);return S.createElement(Ir.Provider,{value:n||a},r)};function kh(){const t=S.useContext(ui),r=S.useContext(Ir);return{componentDisabled:t,componentSize:r}}const Rh="5.18.2";function Yn(t){return t>=0&&t<=255}function Ti(t,r){const{r:n,g:a,b:s,a:u}=new ze(t).toRgb();if(u<1)return t;const{r:f,g:l,b:m}=new ze(r).toRgb();for(let g=.01;g<=1;g+=.01){const p=Math.round((n-f*(1-g))/g),_=Math.round((a-l*(1-g))/g),e=Math.round((s-m*(1-g))/g);if(Yn(p)&&Yn(_)&&Yn(e))return new ze({r:p,g:_,b:e,a:Math.round(g*100)/100}).toRgbString()}return new ze({r:n,g:a,b:s,a:1}).toRgbString()}var Oh=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};function Jl(t){const{override:r}=t,n=Oh(t,["override"]),a=Object.assign({},r);Object.keys(ci).forEach(e=>{delete a[e]});const s=Object.assign(Object.assign({},n),a),u=480,f=576,l=768,m=992,g=1200,p=1600;if(s.motion===!1){const e="0s";s.motionDurationFast=e,s.motionDurationMid=e,s.motionDurationSlow=e}return Object.assign(Object.assign(Object.assign({},s),{colorFillContent:s.colorFillSecondary,colorFillContentHover:s.colorFill,colorFillAlter:s.colorFillQuaternary,colorBgContainerDisabled:s.colorFillTertiary,colorBorderBg:s.colorBgContainer,colorSplit:Ti(s.colorBorderSecondary,s.colorBgContainer),colorTextPlaceholder:s.colorTextQuaternary,colorTextDisabled:s.colorTextQuaternary,colorTextHeading:s.colorText,colorTextLabel:s.colorTextSecondary,colorTextDescription:s.colorTextTertiary,colorTextLightSolid:s.colorWhite,colorHighlight:s.colorError,colorBgTextHover:s.colorFillSecondary,colorBgTextActive:s.colorFill,colorIcon:s.colorTextTertiary,colorIconHover:s.colorText,colorErrorOutline:Ti(s.colorErrorBg,s.colorBgContainer),colorWarningOutline:Ti(s.colorWarningBg,s.colorBgContainer),fontSizeIcon:s.fontSizeSM,lineWidthFocus:s.lineWidth*4,lineWidth:s.lineWidth,controlOutlineWidth:s.lineWidth*2,controlInteractiveSize:s.controlHeight/2,controlItemBgHover:s.colorFillTertiary,controlItemBgActive:s.colorPrimaryBg,controlItemBgActiveHover:s.colorPrimaryBgHover,controlItemBgActiveDisabled:s.colorFill,controlTmpOutline:s.colorFillQuaternary,controlOutline:Ti(s.colorPrimaryBg,s.colorBgContainer),lineType:s.lineType,borderRadius:s.borderRadius,borderRadiusXS:s.borderRadiusXS,borderRadiusSM:s.borderRadiusSM,borderRadiusLG:s.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:s.sizeXXS,paddingXS:s.sizeXS,paddingSM:s.sizeSM,padding:s.size,paddingMD:s.sizeMD,paddingLG:s.sizeLG,paddingXL:s.sizeXL,paddingContentHorizontalLG:s.sizeLG,paddingContentVerticalLG:s.sizeMS,paddingContentHorizontal:s.sizeMS,paddingContentVertical:s.sizeSM,paddingContentHorizontalSM:s.size,paddingContentVerticalSM:s.sizeXS,marginXXS:s.sizeXXS,marginXS:s.sizeXS,marginSM:s.sizeSM,margin:s.size,marginMD:s.sizeMD,marginLG:s.sizeLG,marginXL:s.sizeXL,marginXXL:s.sizeXXL,boxShadow:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:u,screenXSMin:u,screenXSMax:f-1,screenSM:f,screenSMMin:f,screenSMMax:l-1,screenMD:l,screenMDMin:l,screenMDMax:m-1,screenLG:m,screenLGMin:m,screenLGMax:g-1,screenXL:g,screenXLMin:g,screenXLMax:p-1,screenXXL:p,screenXXLMin:p,boxShadowPopoverArrow:"2px 2px 5px rgba(0, 0, 0, 0.05)",boxShadowCard:`
      0 1px 2px -2px ${new ze("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new ze("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new ze("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),a)}var ls=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const ec={lineHeight:!0,lineHeightSM:!0,lineHeightLG:!0,lineHeightHeading1:!0,lineHeightHeading2:!0,lineHeightHeading3:!0,lineHeightHeading4:!0,lineHeightHeading5:!0,opacityLoading:!0,fontWeightStrong:!0,zIndexPopupBase:!0,zIndexBase:!0},tc={size:!0,sizeSM:!0,sizeLG:!0,sizeMD:!0,sizeXS:!0,sizeXXS:!0,sizeMS:!0,sizeXL:!0,sizeXXL:!0,sizeUnit:!0,sizeStep:!0,motionBase:!0,motionUnit:!0},Bh={screenXS:!0,screenXSMin:!0,screenXSMax:!0,screenSM:!0,screenSMMin:!0,screenSMMax:!0,screenMD:!0,screenMDMin:!0,screenMDMax:!0,screenLG:!0,screenLGMin:!0,screenLGMax:!0,screenXL:!0,screenXLMin:!0,screenXLMax:!0,screenXXL:!0,screenXXLMin:!0},rc=(t,r,n)=>{const a=n.getDerivativeToken(t),{override:s}=r,u=ls(r,["override"]);let f=Object.assign(Object.assign({},a),{override:s});return f=Jl(f),u&&Object.entries(u).forEach(l=>{let[m,g]=l;const{theme:p}=g,_=ls(g,["theme"]);let e=_;p&&(e=rc(Object.assign(Object.assign({},f),_),{override:_},p)),f[m]=e}),f};function Nt(){const{token:t,hashed:r,theme:n,override:a,cssVar:s}=K.useContext(Ql),u=`${Rh}-${r||""}`,f=n||Zl,[l,m,g]=hf(f,[ci,t],{salt:u,override:a,getComputedToken:rc,formatToken:Jl,cssVar:s&&{prefix:s.prefix,key:s.key,unitless:ec,ignore:tc,preserve:Bh}});return[f,g,r?m:"",l,s]}function ic(t,r,n){return r=rr(r),vl(t,Cn()?Reflect.construct(r,[],rr(t).constructor):r.apply(t,n))}let nc=Ae(function t(){Te(this,t)});const ac="CALC_UNIT",Lh=new RegExp(ac,"g");function qn(t){return typeof t=="number"?`${t}${ac}`:t}let Mh=function(t){function r(n,a){var s;Te(this,r),s=ic(this,r),s.result="";const u=typeof n;return s.unitlessCssVar=a,n instanceof r?s.result=`(${n.result})`:u==="number"?s.result=qn(n):u==="string"&&(s.result=n),s}return Or(r,t),Ae(r,[{key:"add",value:function(a){return a instanceof r?this.result=`${this.result} + ${a.getResult()}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} + ${qn(a)}`),this.lowPriority=!0,this}},{key:"sub",value:function(a){return a instanceof r?this.result=`${this.result} - ${a.getResult()}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} - ${qn(a)}`),this.lowPriority=!0,this}},{key:"mul",value:function(a){return this.lowPriority&&(this.result=`(${this.result})`),a instanceof r?this.result=`${this.result} * ${a.getResult(!0)}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} * ${a}`),this.lowPriority=!1,this}},{key:"div",value:function(a){return this.lowPriority&&(this.result=`(${this.result})`),a instanceof r?this.result=`${this.result} / ${a.getResult(!0)}`:(typeof a=="number"||typeof a=="string")&&(this.result=`${this.result} / ${a}`),this.lowPriority=!1,this}},{key:"getResult",value:function(a){return this.lowPriority||a?`(${this.result})`:this.result}},{key:"equal",value:function(a){const{unit:s}=a||{};let u=!0;return typeof s=="boolean"?u=s:Array.from(this.unitlessCssVar).some(f=>this.result.includes(f))&&(u=!1),this.result=this.result.replace(Lh,u?"px":""),typeof this.lowPriority<"u"?`calc(${this.result})`:this.result}}])}(nc),zh=function(t){function r(n){var a;return Te(this,r),a=ic(this,r),a.result=0,n instanceof r?a.result=n.result:typeof n=="number"&&(a.result=n),a}return Or(r,t),Ae(r,[{key:"add",value:function(a){return a instanceof r?this.result+=a.result:typeof a=="number"&&(this.result+=a),this}},{key:"sub",value:function(a){return a instanceof r?this.result-=a.result:typeof a=="number"&&(this.result-=a),this}},{key:"mul",value:function(a){return a instanceof r?this.result*=a.result:typeof a=="number"&&(this.result*=a),this}},{key:"div",value:function(a){return a instanceof r?this.result/=a.result:typeof a=="number"&&(this.result/=a),this}},{key:"equal",value:function(){return this.result}}])}(nc);const Nh=(t,r)=>{const n=t==="css"?Mh:zh;return a=>new n(a,r)},Dh=1e3*60*10;let $h=function(){function t(){Te(this,t),this.map=new Map,this.objectIDMap=new WeakMap,this.nextID=0,this.lastAccessBeat=new Map,this.accessBeat=0}return Ae(t,[{key:"set",value:function(n,a){this.clear();const s=this.getCompositeKey(n);this.map.set(s,a),this.lastAccessBeat.set(s,Date.now())}},{key:"get",value:function(n){const a=this.getCompositeKey(n),s=this.map.get(a);return this.lastAccessBeat.set(a,Date.now()),this.accessBeat+=1,s}},{key:"getCompositeKey",value:function(n){return n.map(s=>s&&typeof s=="object"?`obj_${this.getObjectID(s)}`:`${typeof s}_${s}`).join("|")}},{key:"getObjectID",value:function(n){if(this.objectIDMap.has(n))return this.objectIDMap.get(n);const a=this.nextID;return this.objectIDMap.set(n,a),this.nextID+=1,a}},{key:"clear",value:function(){if(this.accessBeat>1e4){const n=Date.now();this.lastAccessBeat.forEach((a,s)=>{n-a>Dh&&(this.map.delete(s),this.lastAccessBeat.delete(s))}),this.accessBeat=0}}}])}();const cs=new $h;function jh(t,r){return K.useMemo(()=>{const n=cs.get(r);if(n)return n;const a=t();return cs.set(r,a),a},r)}function kr(t){var r=S.useRef();r.current=t;var n=S.useCallback(function(){for(var a,s=arguments.length,u=new Array(s),f=0;f<s;f++)u[f]=arguments[f];return(a=r.current)===null||a===void 0?void 0:a.call.apply(a,[r].concat(u))},[]);return n}function di(t){var r=S.useRef(!1),n=S.useState(t),a=W(n,2),s=a[0],u=a[1];S.useEffect(function(){return r.current=!1,function(){r.current=!0}},[]);function f(l,m){m&&r.current||u(l)}return[s,f]}function Kn(t){return t!==void 0}function oc(t,r){var n=r||{},a=n.defaultValue,s=n.value,u=n.onChange,f=n.postState,l=di(function(){return Kn(s)?s:Kn(a)?typeof a=="function"?a():a:typeof t=="function"?t():t}),m=W(l,2),g=m[0],p=m[1],_=s!==void 0?s:g,e=f?f(_):_,o=kr(u),c=di([_]),d=W(c,2),h=d[0],y=d[1];Wo(function(){var b=h[0];g!==b&&o(g,b)},[h]),Wo(function(){Kn(s)||p(s)},[s]);var v=kr(function(b,w){p(b,w),y([_],w)});return[e,v]}const on=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:r?"inherit":t.fontFamily}},Hh=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),Vh=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),Gh=(t,r,n,a)=>{const s=`[class^="${r}"], [class*=" ${r}"]`,u=n?`.${n}`:s,f={boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}};let l={};return a!==!1&&(l={fontFamily:t.fontFamily,fontSize:t.fontSize}),{[u]:Object.assign(Object.assign(Object.assign({},l),f),{[s]:f})}},co=t=>({outline:`${Ee(t.lineWidthFocus)} solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),Wh=t=>({"&:focus-visible":Object.assign({},co(t))});function Yh(t){return t==="js"?{max:Math.max,min:Math.min}:{max:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return`max(${n.map(s=>Ee(s)).join(",")})`},min:function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return`min(${n.map(s=>Ee(s)).join(",")})`}}}const sc=typeof CSSINJS_STATISTIC<"u";let Aa=!0;function Tt(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!sc)return Object.assign.apply(Object,[{}].concat(r));Aa=!1;const a={};return r.forEach(s=>{Object.keys(s).forEach(f=>{Object.defineProperty(a,f,{configurable:!0,enumerable:!0,get:()=>s[f]})})}),Aa=!0,a}const us={};function qh(){}const Kh=t=>{let r,n=t,a=qh;return sc&&typeof Proxy<"u"&&(r=new Set,n=new Proxy(t,{get(s,u){return Aa&&r.add(u),s[u]}}),a=(s,u)=>{var f;us[s]={global:Array.from(r),component:Object.assign(Object.assign({},(f=us[s])===null||f===void 0?void 0:f.component),u)}}),{token:n,keys:r,flush:a}},lc=(t,r)=>{const[n,a]=Nt();return xa({theme:n,token:a,hashId:"",path:["ant-design-icons",t],nonce:()=>r==null?void 0:r.nonce,layer:{name:"antd"}},()=>[{[`.${t}`]:Object.assign(Object.assign({},Hh()),{[`.${t} .${t}-icon`]:{display:"block"}})}])},cc=(t,r,n)=>{var a;return typeof n=="function"?n(Tt(r,(a=r[t])!==null&&a!==void 0?a:{})):n??{}},uc=(t,r,n,a)=>{const s=Object.assign({},r[t]);if(a!=null&&a.deprecatedTokens){const{deprecatedTokens:f}=a;f.forEach(l=>{let[m,g]=l;var p;(s!=null&&s[m]||s!=null&&s[g])&&((p=s[g])!==null&&p!==void 0||(s[g]=s==null?void 0:s[m]))})}const u=Object.assign(Object.assign({},n),s);return Object.keys(u).forEach(f=>{u[f]===r[f]&&delete u[f]}),u},ds=(t,r)=>`${[r,t.replace(/([A-Z]+)([A-Z][a-z]+)/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2")].filter(Boolean).join("-")}`;function uo(t,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=Array.isArray(t)?t:[t,t],[u]=s,f=s.join("-");return function(l){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:l;const[g,p,_,e,o]=Nt(),{getPrefixCls:c,iconPrefixCls:d,csp:h}=S.useContext(Ce),y=c(),v=o?"css":"js",b=jh(()=>{const T=new Set;return o&&Object.keys(a.unitless||{}).forEach(E=>{T.add(Hi(E,o.prefix)),T.add(Hi(E,ds(u,o.prefix)))}),Nh(v,T)},[v,u,o&&o.prefix]),{max:w,min:x}=Yh(v),C={theme:g,token:e,hashId:_,nonce:()=>h==null?void 0:h.nonce,clientOnly:a.clientOnly,layer:{name:"antd"},order:a.order||-999};return xa(Object.assign(Object.assign({},C),{clientOnly:!1,path:["Shared",y]}),()=>[{"&":Vh(e)}]),lc(d,h),[xa(Object.assign(Object.assign({},C),{path:[f,l,d]}),()=>{if(a.injectStyle===!1)return[];const{token:T,flush:E}=Kh(e),R=cc(u,p,n),k=`.${l}`,z=uc(u,p,R,{deprecatedTokens:a.deprecatedTokens});o&&Object.keys(R).forEach($=>{R[$]=`var(${Hi($,ds(u,o.prefix))})`});const M=Tt(T,{componentCls:k,prefixCls:l,iconCls:`.${d}`,antCls:`.${y}`,calc:b,max:w,min:x},o?R:z),O=r(M,{hashId:_,prefixCls:l,rootPrefixCls:y,iconPrefixCls:d});return E(u,z),[a.resetStyle===!1?null:Gh(M,l,m,a.resetFont),O]}),_]}}const Xh=(t,r,n,a)=>{const s=uo(t,r,n,Object.assign({resetStyle:!1,order:-998},a));return f=>{let{prefixCls:l,rootCls:m=l}=f;return s(l,m),null}},Zh=(t,r,n)=>{const{unitless:a,injectStyle:s=!0,prefixToken:u}=n,f=m=>{let{rootCls:g,cssVar:p}=m;const[,_]=Nt();return $f({path:[t],prefix:p.prefix,key:p==null?void 0:p.key,unitless:a,ignore:tc,token:_,scope:g},()=>{const e=cc(t,_,r),o=uc(t,_,e,{deprecatedTokens:n==null?void 0:n.deprecatedTokens});return Object.keys(e).forEach(c=>{o[u(c)]=o[c],delete o[c]}),o}),null};return m=>{const[,,,,g]=Nt();return[p=>s&&g?K.createElement(K.Fragment,null,K.createElement(f,{rootCls:m,cssVar:g,component:t}),p):p,g==null?void 0:g.key]}},In=(t,r,n,a)=>{const s=Array.isArray(t)?t[0]:t;function u(_){return`${s}${_.slice(0,1).toUpperCase()}${_.slice(1)}`}const f=a&&a.unitless||{},l=Object.assign(Object.assign({},ec),{[u("zIndexPopup")]:!0});Object.keys(f).forEach(_=>{l[u(_)]=f[_]});const m=Object.assign(Object.assign({},a),{unitless:l,prefixToken:u}),g=uo(t,r,n,m),p=Zh(s,n,m);return function(_){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_;const[,o]=g(_,e),[c,d]=p(e);return[c,o,d]}},Qh=Object.assign({},Ya),{useId:fs}=Qh,Jh=()=>"",ep=typeof fs>"u"?Jh:fs;function tp(t,r,n){var a;const s=t||{},u=s.inherit===!1||!r?Object.assign(Object.assign({},Ta),{hashed:(a=r==null?void 0:r.hashed)!==null&&a!==void 0?a:Ta.hashed,cssVar:r==null?void 0:r.cssVar}):r,f=ep();return pl(()=>{var l,m;if(!t)return r;const g=Object.assign({},u.components);Object.keys(t.components||{}).forEach(e=>{g[e]=Object.assign(Object.assign({},g[e]),t.components[e])});const p=`css-var-${f.replace(/:/g,"")}`,_=((l=s.cssVar)!==null&&l!==void 0?l:u.cssVar)&&Object.assign(Object.assign(Object.assign({prefix:n==null?void 0:n.prefixCls},typeof u.cssVar=="object"?u.cssVar:{}),typeof s.cssVar=="object"?s.cssVar:{}),{key:typeof s.cssVar=="object"&&((m=s.cssVar)===null||m===void 0?void 0:m.key)||p});return Object.assign(Object.assign(Object.assign({},u),s),{token:Object.assign(Object.assign({},u.token),s.token),components:g,cssVar:_})},[s,u],(l,m)=>l.some((g,p)=>{const _=m[p];return!ga(g,_,!0)}))}var rp=["children"],dc=S.createContext({});function ip(t){var r=t.children,n=rt(t,rp);return S.createElement(dc.Provider,{value:n},r)}var np=function(t){Or(n,t);var r=En(n);function n(){return Te(this,n),r.apply(this,arguments)}return Ae(n,[{key:"render",value:function(){return this.props.children}}]),n}(S.Component);function ap(t){var r=S.useReducer(function(l){return l+1},0),n=W(r,2),a=n[1],s=S.useRef(t),u=kr(function(){return s.current}),f=kr(function(l){s.current=typeof l=="function"?l(s.current):l,a()});return[u,f]}var Ot="none",Ai="appear",Fi="enter",Pi="leave",hs="none",Qe="prepare",Ur="start",Tr="active",fo="end",fc="prepared";function ps(t,r){var n={};return n[t.toLowerCase()]=r.toLowerCase(),n["Webkit".concat(t)]="webkit".concat(r),n["Moz".concat(t)]="moz".concat(r),n["ms".concat(t)]="MS".concat(r),n["O".concat(t)]="o".concat(r.toLowerCase()),n}function op(t,r){var n={animationend:ps("Animation","AnimationEnd"),transitionend:ps("Transition","TransitionEnd")};return t&&("AnimationEvent"in r||delete n.animationend.animation,"TransitionEvent"in r||delete n.transitionend.transition),n}var sp=op(Ut(),typeof window<"u"?window:{}),hc={};if(Ut()){var lp=document.createElement("div");hc=lp.style}var Ii={};function pc(t){if(Ii[t])return Ii[t];var r=sp[t];if(r)for(var n=Object.keys(r),a=n.length,s=0;s<a;s+=1){var u=n[s];if(Object.prototype.hasOwnProperty.call(r,u)&&u in hc)return Ii[t]=r[u],Ii[t]}return""}var mc=pc("animationend"),gc=pc("transitionend"),vc=!!(mc&&gc),ms=mc||"animationend",gs=gc||"transitionend";function vs(t,r){if(!t)return null;if(J(t)==="object"){var n=r.replace(/-\w/g,function(a){return a[1].toUpperCase()});return t[n]}return"".concat(t,"-").concat(r)}const cp=function(t){var r=S.useRef();function n(s){s&&(s.removeEventListener(gs,t),s.removeEventListener(ms,t))}function a(s){r.current&&r.current!==s&&n(r.current),s&&s!==r.current&&(s.addEventListener(gs,t),s.addEventListener(ms,t),r.current=s)}return S.useEffect(function(){return function(){n(r.current)}},[]),[a,n]};var yc=Ut()?S.useLayoutEffect:S.useEffect;const up=function(){var t=S.useRef(null);function r(){ir.cancel(t.current)}function n(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;r();var u=ir(function(){s<=1?a({isCanceled:function(){return u!==t.current}}):n(a,s-1)});t.current=u}return S.useEffect(function(){return function(){r()}},[]),[n,r]};var dp=[Qe,Ur,Tr,fo],fp=[Qe,fc],bc=!1,hp=!0;function _c(t){return t===Tr||t===fo}const pp=function(t,r,n){var a=di(hs),s=W(a,2),u=s[0],f=s[1],l=up(),m=W(l,2),g=m[0],p=m[1];function _(){f(Qe,!0)}var e=r?fp:dp;return yc(function(){if(u!==hs&&u!==fo){var o=e.indexOf(u),c=e[o+1],d=n(u);d===bc?f(c,!0):c&&g(function(h){function y(){h.isCanceled()||f(c,!0)}d===!0?y():Promise.resolve(d).then(y)})}},[t,u]),S.useEffect(function(){return function(){p()}},[]),[_,u]};function mp(t,r,n,a){var s=a.motionEnter,u=s===void 0?!0:s,f=a.motionAppear,l=f===void 0?!0:f,m=a.motionLeave,g=m===void 0?!0:m,p=a.motionDeadline,_=a.motionLeaveImmediately,e=a.onAppearPrepare,o=a.onEnterPrepare,c=a.onLeavePrepare,d=a.onAppearStart,h=a.onEnterStart,y=a.onLeaveStart,v=a.onAppearActive,b=a.onEnterActive,w=a.onLeaveActive,x=a.onAppearEnd,C=a.onEnterEnd,U=a.onLeaveEnd,T=a.onVisibleChanged,E=di(),R=W(E,2),k=R[0],z=R[1],M=ap(Ot),O=W(M,2),$=O[0],F=O[1],P=di(null),L=W(P,2),D=L[0],j=L[1],B=$(),H=S.useRef(!1),Q=S.useRef(null);function Y(){return n()}var G=S.useRef(!1);function ee(){F(Ot),j(null,!0)}var ie=kr(function(ue){var le=$();if(le!==Ot){var _e=Y();if(!(ue&&!ue.deadline&&ue.target!==_e)){var je=G.current,ce;le===Ai&&je?ce=x==null?void 0:x(_e,ue):le===Fi&&je?ce=C==null?void 0:C(_e,ue):le===Pi&&je&&(ce=U==null?void 0:U(_e,ue)),je&&ce!==!1&&ee()}}}),it=cp(ie),Fe=W(it,1),Pe=Fe[0],gt=function(le){switch(le){case Ai:return I(I(I({},Qe,e),Ur,d),Tr,v);case Fi:return I(I(I({},Qe,o),Ur,h),Tr,b);case Pi:return I(I(I({},Qe,c),Ur,y),Tr,w);default:return{}}},Ie=S.useMemo(function(){return gt(B)},[B]),qe=pp(B,!t,function(ue){if(ue===Qe){var le=Ie[Qe];return le?le(Y()):bc}if(be in Ie){var _e;j(((_e=Ie[be])===null||_e===void 0?void 0:_e.call(Ie,Y(),null))||null)}return be===Tr&&B!==Ot&&(Pe(Y()),p>0&&(clearTimeout(Q.current),Q.current=setTimeout(function(){ie({deadline:!0})},p))),be===fc&&ee(),hp}),ke=W(qe,2),Ft=ke[0],be=ke[1],nt=_c(be);G.current=nt,yc(function(){z(r);var ue=H.current;H.current=!0;var le;!ue&&r&&l&&(le=Ai),ue&&r&&u&&(le=Fi),(ue&&!r&&g||!ue&&_&&!r&&g)&&(le=Pi);var _e=gt(le);le&&(t||_e[Qe])?(F(le),Ft()):F(Ot)},[r]),S.useEffect(function(){(B===Ai&&!l||B===Fi&&!u||B===Pi&&!g)&&F(Ot)},[l,u,g]),S.useEffect(function(){return function(){H.current=!1,clearTimeout(Q.current)}},[]);var $e=S.useRef(!1);S.useEffect(function(){k&&($e.current=!0),k!==void 0&&B===Ot&&(($e.current||k)&&(T==null||T(k)),$e.current=!0)},[k,B]);var at=D;return Ie[Qe]&&be===Ur&&(at=N({transition:"none"},at)),[B,be,at,k??r]}function gp(t){var r=t;J(t)==="object"&&(r=t.transitionSupport);function n(s,u){return!!(s.motionName&&r&&u!==!1)}var a=S.forwardRef(function(s,u){var f=s.visible,l=f===void 0?!0:f,m=s.removeOnLeave,g=m===void 0?!0:m,p=s.forceRender,_=s.children,e=s.motionName,o=s.leavedClassName,c=s.eventProps,d=S.useContext(dc),h=d.motion,y=n(s,h),v=S.useRef(),b=S.useRef();function w(){try{return v.current instanceof HTMLElement?v.current:Id(b.current)}catch{return null}}var x=mp(y,l,w,s),C=W(x,4),U=C[0],T=C[1],E=C[2],R=C[3],k=S.useRef(R);R&&(k.current=!0);var z=S.useCallback(function(D){v.current=D,ml(u,D)},[u]),M,O=N(N({},c),{},{visible:l});if(!_)M=null;else if(U===Ot)R?M=_(N({},O),z):!g&&k.current&&o?M=_(N(N({},O),{},{className:o}),z):p||!g&&!o?M=_(N(N({},O),{},{style:{display:"none"}}),z):M=null;else{var $;T===Qe?$="prepare":_c(T)?$="active":T===Ur&&($="start");var F=vs(e,"".concat(U,"-").concat($));M=_(N(N({},O),{},{className:se(vs(e,U),I(I({},F,F&&$),e,typeof e=="string")),style:E}),z)}if(S.isValidElement(M)&&gl(M)){var P=M,L=P.ref;L||(M=S.cloneElement(M,{ref:z}))}return S.createElement(np,{ref:b},M)});return a.displayName="CSSMotion",a}const ho=gp(vc);var Fa="add",Pa="keep",Ia="remove",Xn="removed";function vp(t){var r;return t&&J(t)==="object"&&"key"in t?r=t:r={key:t},N(N({},r),{},{key:String(r.key)})}function ka(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return t.map(vp)}function yp(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=[],a=0,s=r.length,u=ka(t),f=ka(r);u.forEach(function(g){for(var p=!1,_=a;_<s;_+=1){var e=f[_];if(e.key===g.key){a<_&&(n=n.concat(f.slice(a,_).map(function(o){return N(N({},o),{},{status:Fa})})),a=_),n.push(N(N({},e),{},{status:Pa})),a+=1,p=!0;break}}p||n.push(N(N({},g),{},{status:Ia}))}),a<s&&(n=n.concat(f.slice(a).map(function(g){return N(N({},g),{},{status:Fa})})));var l={};n.forEach(function(g){var p=g.key;l[p]=(l[p]||0)+1});var m=Object.keys(l).filter(function(g){return l[g]>1});return m.forEach(function(g){n=n.filter(function(p){var _=p.key,e=p.status;return _!==g||e!==Ia}),n.forEach(function(p){p.key===g&&(p.status=Pa)})}),n}var bp=["component","children","onVisibleChanged","onAllRemoved"],_p=["status"],Sp=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function wp(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ho,n=function(a){Or(u,a);var s=En(u);function u(){var f;Te(this,u);for(var l=arguments.length,m=new Array(l),g=0;g<l;g++)m[g]=arguments[g];return f=s.call.apply(s,[this].concat(m)),I(re(f),"state",{keyEntities:[]}),I(re(f),"removeKey",function(p){var _=f.state.keyEntities,e=_.map(function(o){return o.key!==p?o:N(N({},o),{},{status:Xn})});return f.setState({keyEntities:e}),e.filter(function(o){var c=o.status;return c!==Xn}).length}),f}return Ae(u,[{key:"render",value:function(){var l=this,m=this.state.keyEntities,g=this.props,p=g.component,_=g.children,e=g.onVisibleChanged,o=g.onAllRemoved,c=rt(g,bp),d=p||S.Fragment,h={};return Sp.forEach(function(y){h[y]=c[y],delete c[y]}),delete c.keys,S.createElement(d,c,m.map(function(y,v){var b=y.status,w=rt(y,_p),x=b===Fa||b===Pa;return S.createElement(r,ye({},h,{key:w.key,visible:x,eventProps:w,onVisibleChanged:function(U){if(e==null||e(U,{key:w.key}),!U){var T=l.removeKey(w.key);T===0&&o&&o()}}}),function(C,U){return _(N(N({},C),{},{index:v}),U)})}))}}],[{key:"getDerivedStateFromProps",value:function(l,m){var g=l.keys,p=m.keyEntities,_=ka(g),e=yp(p,_);return{keyEntities:e.filter(function(o){var c=p.find(function(d){var h=d.key;return o.key===h});return!(c&&c.status===Xn&&o.status===Ia)})}}}]),u}(S.Component);return I(n,"defaultProps",{component:"div"}),n}const xp=wp(vc);function Cp(t){const{children:r}=t,[,n]=Nt(),{motion:a}=n,s=S.useRef(!1);return s.current=s.current||a===!1,s.current?S.createElement(ip,{motion:a},r):r}const Ep=()=>null;var Up=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const Tp=["getTargetContainer","getPopupContainer","renderEmpty","input","pagination","form","select","button"],Sc="ant";let sn,wc,xc,Cc;function Zi(){return sn||Sc}function Ap(){return wc||lo}function Fp(t){return Object.keys(t).some(r=>r.endsWith("Color"))}const Pp=t=>{const{prefixCls:r,iconPrefixCls:n,theme:a,holderRender:s}=t;r!==void 0&&(sn=r),n!==void 0&&(wc=n),"holderRender"in t&&(Cc=s),a&&(Fp(a)?Fh(Zi(),a):xc=a)},Ip=()=>({getPrefixCls:(t,r)=>r||(t?`${Zi()}-${t}`:Zi()),getIconPrefixCls:Ap,getRootPrefixCls:()=>sn||Zi(),getTheme:()=>xc,holderRender:Cc}),kp=t=>{const{children:r,csp:n,autoInsertSpaceInButton:a,alert:s,anchor:u,form:f,locale:l,componentSize:m,direction:g,space:p,virtual:_,dropdownMatchSelectWidth:e,popupMatchSelectWidth:o,popupOverflow:c,legacyLocale:d,parentContext:h,iconPrefixCls:y,theme:v,componentDisabled:b,segmented:w,statistic:x,spin:C,calendar:U,carousel:T,cascader:E,collapse:R,typography:k,checkbox:z,descriptions:M,divider:O,drawer:$,skeleton:F,steps:P,image:L,layout:D,list:j,mentions:B,modal:H,progress:Q,result:Y,slider:G,breadcrumb:ee,menu:ie,pagination:it,input:Fe,textArea:Pe,empty:gt,badge:Ie,radio:qe,rate:ke,switch:Ft,transfer:be,avatar:nt,message:$e,tag:at,table:ue,card:le,tabs:_e,timeline:je,timePicker:ce,upload:pe,notification:Dt,tree:au,colorPicker:ou,datePicker:su,rangePicker:lu,flex:cu,wave:uu,dropdown:du,warning:fu,tour:hu,floatButtonGroup:pu}=t,wo=S.useCallback((me,we)=>{const{prefixCls:ot}=t;if(we)return we;const st=ot||h.getPrefixCls("");return me?`${st}-${me}`:st},[h.getPrefixCls,t.prefixCls]),zr=y||h.iconPrefixCls||lo,Nr=n||h.csp;lc(zr,Nr);const Bn=tp(v,h.theme,{prefixCls:wo("")}),Ln={csp:Nr,autoInsertSpaceInButton:a,alert:s,anchor:u,locale:l||d,direction:g,space:p,virtual:_,popupMatchSelectWidth:o??e,popupOverflow:c,getPrefixCls:wo,iconPrefixCls:zr,theme:Bn,segmented:w,statistic:x,spin:C,calendar:U,carousel:T,cascader:E,collapse:R,typography:k,checkbox:z,descriptions:M,divider:O,drawer:$,skeleton:F,steps:P,image:L,input:Fe,textArea:Pe,layout:D,list:j,mentions:B,modal:H,progress:Q,result:Y,slider:G,breadcrumb:ee,menu:ie,pagination:it,empty:gt,badge:Ie,radio:qe,rate:ke,switch:Ft,transfer:be,avatar:nt,message:$e,tag:at,table:ue,card:le,tabs:_e,timeline:je,timePicker:ce,upload:pe,notification:Dt,tree:au,colorPicker:ou,datePicker:su,rangePicker:lu,flex:cu,wave:uu,dropdown:du,warning:fu,tour:hu,floatButtonGroup:pu},or=Object.assign({},h);Object.keys(Ln).forEach(me=>{Ln[me]!==void 0&&(or[me]=Ln[me])}),Tp.forEach(me=>{const we=t[me];we&&(or[me]=we)}),typeof a<"u"&&(or.button=Object.assign({autoInsertSpace:a},or.button));const sr=pl(()=>or,or,(me,we)=>{const ot=Object.keys(me),st=Object.keys(we);return ot.length!==st.length||ot.some(bi=>me[bi]!==we[bi])}),mu=S.useMemo(()=>({prefixCls:zr,csp:Nr}),[zr,Nr]);let Se=S.createElement(S.Fragment,null,S.createElement(Ep,{dropdownMatchSelectWidth:e}),r);const xo=S.useMemo(()=>{var me,we,ot,st;return Er(((me=Pn.Form)===null||me===void 0?void 0:me.defaultValidateMessages)||{},((ot=(we=sr.locale)===null||we===void 0?void 0:we.Form)===null||ot===void 0?void 0:ot.defaultValidateMessages)||{},((st=sr.form)===null||st===void 0?void 0:st.validateMessages)||{},(f==null?void 0:f.validateMessages)||{})},[sr,f==null?void 0:f.validateMessages]);Object.keys(xo).length>0&&(Se=S.createElement(Yf.Provider,{value:xo},Se)),l&&(Se=S.createElement(Qf,{locale:l,_ANT_MARK__:Zf},Se)),(zr||Nr)&&(Se=S.createElement(so.Provider,{value:mu},Se)),m&&(Se=S.createElement(Ih,{size:m},Se)),Se=S.createElement(Cp,null,Se);const gu=S.useMemo(()=>{const me=Bn||{},{algorithm:we,token:ot,components:st,cssVar:bi}=me,vu=Up(me,["algorithm","token","components","cssVar"]),Co=we&&(!Array.isArray(we)||we.length>0)?ya(we):Zl,Mn={};Object.entries(st||{}).forEach(yu=>{let[bu,_u]=yu;const vt=Object.assign({},_u);"algorithm"in vt&&(vt.algorithm===!0?vt.theme=Co:(Array.isArray(vt.algorithm)||typeof vt.algorithm=="function")&&(vt.theme=ya(vt.algorithm)),delete vt.algorithm),Mn[bu]=vt});const Eo=Object.assign(Object.assign({},ci),ot);return Object.assign(Object.assign({},vu),{theme:Co,token:Eo,components:Mn,override:Object.assign({override:Eo},Mn),cssVar:bi})},[Bn]);return v&&(Se=S.createElement(Ql.Provider,{value:gu},Se)),sr.warning&&(Se=S.createElement(Wf.Provider,{value:sr.warning},Se)),b!==void 0&&(Se=S.createElement(Ph,{disabled:b},Se)),S.createElement(Ce.Provider,{value:sr},Se)},Lr=t=>{const r=S.useContext(Ce),n=S.useContext(Wl);return S.createElement(kp,Object.assign({parentContext:r,legacyLocale:n},t))};Lr.ConfigContext=Ce;Lr.SizeContext=Ir;Lr.config=Pp;Lr.useConfig=kh;Object.defineProperty(Lr,"SizeContext",{get:()=>Ir});var Rp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};function Ec(t){var r;return t==null||(r=t.getRootNode)===null||r===void 0?void 0:r.call(t)}function Op(t){return Ec(t)instanceof ShadowRoot}function Bp(t){return Op(t)?Ec(t):null}function Lp(t){return t.replace(/-(.)/g,function(r,n){return n.toUpperCase()})}function Mp(t,r){De(t,"[@ant-design/icons] ".concat(r))}function ys(t){return J(t)==="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(J(t.icon)==="object"||typeof t.icon=="function")}function bs(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Object.keys(t).reduce(function(r,n){var a=t[n];switch(n){case"class":r.className=a,delete r.class;break;default:delete r[n],r[Lp(n)]=a}return r},{})}function Ra(t,r,n){return n?K.createElement(t.tag,N(N({key:r},bs(t.attrs)),n),(t.children||[]).map(function(a,s){return Ra(a,"".concat(r,"-").concat(t.tag,"-").concat(s))})):K.createElement(t.tag,N({key:r},bs(t.attrs)),(t.children||[]).map(function(a,s){return Ra(a,"".concat(r,"-").concat(t.tag,"-").concat(s))}))}function Uc(t){return nr(t)[0]}function Tc(t){return t?Array.isArray(t)?t:[t]:[]}var zp=`
.anticon {
  display: inline-flex;
  align-items: center;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,Np=function(r){var n=S.useContext(so),a=n.csp,s=n.prefixCls,u=zp;s&&(u=u.replace(/anticon/g,s)),S.useEffect(function(){var f=r.current,l=Bp(f);Jt(u,"@ant-design-icons",{prepend:!0,csp:a,attachTo:l})},[])},Dp=["icon","className","onClick","style","primaryColor","secondaryColor"],ti={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function $p(t){var r=t.primaryColor,n=t.secondaryColor;ti.primaryColor=r,ti.secondaryColor=n||Uc(r),ti.calculated=!!n}function jp(){return N({},ti)}var Mr=function(r){var n=r.icon,a=r.className,s=r.onClick,u=r.style,f=r.primaryColor,l=r.secondaryColor,m=rt(r,Dp),g=S.useRef(),p=ti;if(f&&(p={primaryColor:f,secondaryColor:l||Uc(f)}),Np(g),Mp(ys(n),"icon should be icon definiton, but got ".concat(n)),!ys(n))return null;var _=n;return _&&typeof _.icon=="function"&&(_=N(N({},_),{},{icon:_.icon(p.primaryColor,p.secondaryColor)})),Ra(_.icon,"svg-".concat(_.name),N(N({className:a,onClick:s,style:u,"data-icon":_.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},m),{},{ref:g}))};Mr.displayName="IconReact";Mr.getTwoToneColors=jp;Mr.setTwoToneColors=$p;function Ac(t){var r=Tc(t),n=W(r,2),a=n[0],s=n[1];return Mr.setTwoToneColors({primaryColor:a,secondaryColor:s})}function Hp(){var t=Mr.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var Vp=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];Ac(mh.primary);var At=S.forwardRef(function(t,r){var n=t.className,a=t.icon,s=t.spin,u=t.rotate,f=t.tabIndex,l=t.onClick,m=t.twoToneColor,g=rt(t,Vp),p=S.useContext(so),_=p.prefixCls,e=_===void 0?"anticon":_,o=p.rootClassName,c=se(o,e,I(I({},"".concat(e,"-").concat(a.name),!!a.name),"".concat(e,"-spin"),!!s||a.name==="loading"),n),d=f;d===void 0&&l&&(d=-1);var h=u?{msTransform:"rotate(".concat(u,"deg)"),transform:"rotate(".concat(u,"deg)")}:void 0,y=Tc(m),v=W(y,2),b=v[0],w=v[1];return S.createElement("span",ye({role:"img","aria-label":a.name},g,{ref:r,tabIndex:d,onClick:l,className:c}),S.createElement(Mr,{icon:a,primaryColor:b,secondaryColor:w,style:h}))});At.displayName="AntdIcon";At.getTwoToneColor=Hp;At.setTwoToneColor=Ac;var Gp=function(r,n){return S.createElement(At,ye({},r,{ref:n,icon:Rp}))},Wp=S.forwardRef(Gp),Yp={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"},qp=function(r,n){return S.createElement(At,ye({},r,{ref:n,icon:Yp}))},Kp=S.forwardRef(qp),Xp={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"},Zp=function(r,n){return S.createElement(At,ye({},r,{ref:n,icon:Xp}))},Qp=S.forwardRef(Zp),Jp={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},em=function(r,n){return S.createElement(At,ye({},r,{ref:n,icon:Jp}))},tm=S.forwardRef(em),rm={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"},im=function(r,n){return S.createElement(At,ye({},r,{ref:n,icon:rm}))},nm=S.forwardRef(im),am=`accept acceptCharset accessKey action allowFullScreen allowTransparency
    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge
    charSet checked classID className colSpan cols content contentEditable contextMenu
    controls coords crossOrigin data dateTime default defer dir disabled download draggable
    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder
    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity
    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media
    mediaGroup method min minLength multiple muted name noValidate nonce open
    optimum pattern placeholder poster preload radioGroup readOnly rel required
    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected
    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style
    summary tabIndex target title type useMap value width wmode wrap`,om=`onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown
    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick
    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown
    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel
    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough
    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata
    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError`,sm="".concat(am," ").concat(om).split(/[\s\n]+/),lm="aria-",cm="data-";function _s(t,r){return t.indexOf(r)===0}function Fc(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;r===!1?n={aria:!0,data:!0,attr:!0}:r===!0?n={aria:!0}:n=N({},r);var a={};return Object.keys(t).forEach(function(s){(n.aria&&(s==="role"||_s(s,lm))||n.data&&_s(s,cm)||n.attr&&sm.includes(s))&&(a[s]=t[s])}),a}function um(t){return t&&K.isValidElement(t)&&t.type===K.Fragment}const dm=(t,r,n)=>K.isValidElement(t)?K.cloneElement(t,typeof n=="function"?n(t.props||{}):n):r;function Pc(t,r){return dm(t,t,r)}const kn=t=>{const[,,,,r]=Nt();return r?`${t}-css-var`:""};var Z={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(r){var n=r.keyCode;if(r.altKey&&!r.ctrlKey||r.metaKey||n>=Z.F1&&n<=Z.F12)return!1;switch(n){case Z.ALT:case Z.CAPS_LOCK:case Z.CONTEXT_MENU:case Z.CTRL:case Z.DOWN:case Z.END:case Z.ESC:case Z.HOME:case Z.INSERT:case Z.LEFT:case Z.MAC_FF_META:case Z.META:case Z.NUMLOCK:case Z.NUM_CENTER:case Z.PAGE_DOWN:case Z.PAGE_UP:case Z.PAUSE:case Z.PRINT_SCREEN:case Z.RIGHT:case Z.SHIFT:case Z.UP:case Z.WIN_KEY:case Z.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(r){if(r>=Z.ZERO&&r<=Z.NINE||r>=Z.NUM_ZERO&&r<=Z.NUM_MULTIPLY||r>=Z.A&&r<=Z.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&r===0)return!0;switch(r){case Z.SPACE:case Z.QUESTION_MARK:case Z.NUM_PLUS:case Z.NUM_MINUS:case Z.NUM_PERIOD:case Z.NUM_DIVISION:case Z.SEMICOLON:case Z.DASH:case Z.EQUALS:case Z.COMMA:case Z.PERIOD:case Z.SLASH:case Z.APOSTROPHE:case Z.SINGLE_QUOTE:case Z.OPEN_SQUARE_BRACKET:case Z.BACKSLASH:case Z.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ic=S.forwardRef(function(t,r){var n=t.prefixCls,a=t.style,s=t.className,u=t.duration,f=u===void 0?4.5:u,l=t.showProgress,m=t.pauseOnHover,g=m===void 0?!0:m,p=t.eventKey,_=t.content,e=t.closable,o=t.closeIcon,c=o===void 0?"x":o,d=t.props,h=t.onClick,y=t.onNoticeClose,v=t.times,b=t.hovering,w=S.useState(!1),x=W(w,2),C=x[0],U=x[1],T=S.useState(0),E=W(T,2),R=E[0],k=E[1],z=S.useState(0),M=W(z,2),O=M[0],$=M[1],F=b||C,P=f>0&&l,L=function(){y(p)},D=function(G){(G.key==="Enter"||G.code==="Enter"||G.keyCode===Z.ENTER)&&L()};S.useEffect(function(){if(!F&&f>0){var Y=Date.now()-O,G=setTimeout(function(){L()},f*1e3-O);return function(){g&&clearTimeout(G),$(Date.now()-Y)}}},[f,F,v]),S.useEffect(function(){if(!F&&P&&(g||O===0)){var Y=performance.now(),G,ee=function ie(){cancelAnimationFrame(G),G=requestAnimationFrame(function(it){var Fe=it+O-Y,Pe=Math.min(Fe/(f*1e3),1);k(Pe*100),Pe<1&&ie()})};return ee(),function(){g&&cancelAnimationFrame(G)}}},[f,O,F,P,v]);var j=S.useMemo(function(){return J(e)==="object"&&e!==null?e:e?{closeIcon:c}:{}},[e,c]),B=Fc(j,!0),H=100-(!R||R<0?0:R>100?100:R),Q="".concat(n,"-notice");return S.createElement("div",ye({},d,{ref:r,className:se(Q,s,I({},"".concat(Q,"-closable"),e)),style:a,onMouseEnter:function(G){var ee;U(!0),d==null||(ee=d.onMouseEnter)===null||ee===void 0||ee.call(d,G)},onMouseLeave:function(G){var ee;U(!1),d==null||(ee=d.onMouseLeave)===null||ee===void 0||ee.call(d,G)},onClick:h}),S.createElement("div",{className:"".concat(Q,"-content")},_),e&&S.createElement("a",ye({tabIndex:0,className:"".concat(Q,"-close"),onKeyDown:D,"aria-label":"Close"},B,{onClick:function(G){G.preventDefault(),G.stopPropagation(),L()}}),j.closeIcon),P&&S.createElement("progress",{className:"".concat(Q,"-progress"),max:"100",value:H},H+"%"))}),kc=K.createContext({}),fm=function(r){var n=r.children,a=r.classNames;return K.createElement(kc.Provider,{value:{classNames:a}},n)},Ss=8,ws=3,xs=16,hm=function(r){var n={offset:Ss,threshold:ws,gap:xs};if(r&&J(r)==="object"){var a,s,u;n.offset=(a=r.offset)!==null&&a!==void 0?a:Ss,n.threshold=(s=r.threshold)!==null&&s!==void 0?s:ws,n.gap=(u=r.gap)!==null&&u!==void 0?u:xs}return[!!r,n]},pm=["className","style","classNames","styles"],mm=function(r){var n=r.configList,a=r.placement,s=r.prefixCls,u=r.className,f=r.style,l=r.motion,m=r.onAllNoticeRemoved,g=r.onNoticeClose,p=r.stack,_=S.useContext(kc),e=_.classNames,o=S.useRef({}),c=S.useState(null),d=W(c,2),h=d[0],y=d[1],v=S.useState([]),b=W(v,2),w=b[0],x=b[1],C=n.map(function(F){return{config:F,key:String(F.key)}}),U=hm(p),T=W(U,2),E=T[0],R=T[1],k=R.offset,z=R.threshold,M=R.gap,O=E&&(w.length>0||C.length<=z),$=typeof l=="function"?l(a):l;return S.useEffect(function(){E&&w.length>1&&x(function(F){return F.filter(function(P){return C.some(function(L){var D=L.key;return P===D})})})},[w,C,E]),S.useEffect(function(){var F;if(E&&o.current[(F=C[C.length-1])===null||F===void 0?void 0:F.key]){var P;y(o.current[(P=C[C.length-1])===null||P===void 0?void 0:P.key])}},[C,E]),K.createElement(xp,ye({key:a,className:se(s,"".concat(s,"-").concat(a),e==null?void 0:e.list,u,I(I({},"".concat(s,"-stack"),!!E),"".concat(s,"-stack-expanded"),O)),style:f,keys:C,motionAppear:!0},$,{onAllRemoved:function(){m(a)}}),function(F,P){var L=F.config,D=F.className,j=F.style,B=F.index,H=L,Q=H.key,Y=H.times,G=String(Q),ee=L,ie=ee.className,it=ee.style,Fe=ee.classNames,Pe=ee.styles,gt=rt(ee,pm),Ie=C.findIndex(function(ce){return ce.key===G}),qe={};if(E){var ke=C.length-1-(Ie>-1?Ie:B-1),Ft=a==="top"||a==="bottom"?"-50%":"0";if(ke>0){var be,nt,$e;qe.height=O?(be=o.current[G])===null||be===void 0?void 0:be.offsetHeight:h==null?void 0:h.offsetHeight;for(var at=0,ue=0;ue<ke;ue++){var le;at+=((le=o.current[C[C.length-1-ue].key])===null||le===void 0?void 0:le.offsetHeight)+M}var _e=(O?at:ke*k)*(a.startsWith("top")?1:-1),je=!O&&h!==null&&h!==void 0&&h.offsetWidth&&(nt=o.current[G])!==null&&nt!==void 0&&nt.offsetWidth?((h==null?void 0:h.offsetWidth)-k*2*(ke<3?ke:3))/(($e=o.current[G])===null||$e===void 0?void 0:$e.offsetWidth):1;qe.transform="translate3d(".concat(Ft,", ").concat(_e,"px, 0) scaleX(").concat(je,")")}else qe.transform="translate3d(".concat(Ft,", 0, 0)")}return K.createElement("div",{ref:P,className:se("".concat(s,"-notice-wrapper"),D,Fe==null?void 0:Fe.wrapper),style:N(N(N({},j),qe),Pe==null?void 0:Pe.wrapper),onMouseEnter:function(){return x(function(pe){return pe.includes(G)?pe:[].concat(q(pe),[G])})},onMouseLeave:function(){return x(function(pe){return pe.filter(function(Dt){return Dt!==G})})}},K.createElement(Ic,ye({},gt,{ref:function(pe){Ie>-1?o.current[G]=pe:delete o.current[G]},prefixCls:s,classNames:Fe,styles:Pe,className:se(ie,e==null?void 0:e.notice),style:it,times:Y,key:Q,eventKey:Q,onNoticeClose:g,hovering:E&&w.length>0})))})},gm=S.forwardRef(function(t,r){var n=t.prefixCls,a=n===void 0?"rc-notification":n,s=t.container,u=t.motion,f=t.maxCount,l=t.className,m=t.style,g=t.onAllRemoved,p=t.stack,_=t.renderNotifications,e=S.useState([]),o=W(e,2),c=o[0],d=o[1],h=function(E){var R,k=c.find(function(z){return z.key===E});k==null||(R=k.onClose)===null||R===void 0||R.call(k),d(function(z){return z.filter(function(M){return M.key!==E})})};S.useImperativeHandle(r,function(){return{open:function(E){d(function(R){var k=q(R),z=k.findIndex(function($){return $.key===E.key}),M=N({},E);if(z>=0){var O;M.times=(((O=R[z])===null||O===void 0?void 0:O.times)||0)+1,k[z]=M}else M.times=0,k.push(M);return f>0&&k.length>f&&(k=k.slice(-f)),k})},close:function(E){h(E)},destroy:function(){d([])}}});var y=S.useState({}),v=W(y,2),b=v[0],w=v[1];S.useEffect(function(){var T={};c.forEach(function(E){var R=E.placement,k=R===void 0?"topRight":R;k&&(T[k]=T[k]||[],T[k].push(E))}),Object.keys(b).forEach(function(E){T[E]=T[E]||[]}),w(T)},[c]);var x=function(E){w(function(R){var k=N({},R),z=k[E]||[];return z.length||delete k[E],k})},C=S.useRef(!1);if(S.useEffect(function(){Object.keys(b).length>0?C.current=!0:C.current&&(g==null||g(),C.current=!1)},[b]),!s)return null;var U=Object.keys(b);return wu.createPortal(S.createElement(S.Fragment,null,U.map(function(T){var E=b[T],R=S.createElement(mm,{key:T,configList:E,placement:T,prefixCls:a,className:l==null?void 0:l(T),style:m==null?void 0:m(T),motion:u,onNoticeClose:h,onAllNoticeRemoved:x,stack:p});return _?_(R,{prefixCls:a,key:T}):R})),s)}),vm=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],ym=function(){return document.body},Cs=0;function bm(){for(var t={},r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return n.forEach(function(s){s&&Object.keys(s).forEach(function(u){var f=s[u];f!==void 0&&(t[u]=f)})}),t}function _m(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.getContainer,n=r===void 0?ym:r,a=t.motion,s=t.prefixCls,u=t.maxCount,f=t.className,l=t.style,m=t.onAllRemoved,g=t.stack,p=t.renderNotifications,_=rt(t,vm),e=S.useState(),o=W(e,2),c=o[0],d=o[1],h=S.useRef(),y=S.createElement(gm,{container:c,ref:h,prefixCls:s,motion:a,maxCount:u,className:f,style:l,onAllRemoved:m,stack:g,renderNotifications:p}),v=S.useState([]),b=W(v,2),w=b[0],x=b[1],C=S.useMemo(function(){return{open:function(T){var E=bm(_,T);(E.key===null||E.key===void 0)&&(E.key="rc-notification-".concat(Cs),Cs+=1),x(function(R){return[].concat(q(R),[{type:"open",config:E}])})},close:function(T){x(function(E){return[].concat(q(E),[{type:"close",key:T}])})},destroy:function(){x(function(T){return[].concat(q(T),[{type:"destroy"}])})}}},[]);return S.useEffect(function(){d(n())}),S.useEffect(function(){h.current&&w.length&&(w.forEach(function(U){switch(U.type){case"open":h.current.open(U.config);break;case"close":h.current.close(U.key);break;case"destroy":h.current.destroy();break}}),x(function(U){return U.filter(function(T){return!w.includes(T)})}))},[w]),[C,y]}var Sm={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},wm=function(r,n){return S.createElement(At,ye({},r,{ref:n,icon:Sm}))},Rc=S.forwardRef(wm);const xm=100,Cm=10,Em=xm*Cm,Um=t=>{const{componentCls:r,iconCls:n,boxShadow:a,colorText:s,colorSuccess:u,colorError:f,colorWarning:l,colorInfo:m,fontSizeLG:g,motionEaseInOutCirc:p,motionDurationSlow:_,marginXS:e,paddingXS:o,borderRadiusLG:c,zIndexPopup:d,contentPadding:h,contentBg:y}=t,v=`${r}-notice`,b=new Zo("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:o,transform:"translateY(0)",opacity:1}}),w=new Zo("MessageMoveOut",{"0%":{maxHeight:t.height,padding:o,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),x={padding:o,textAlign:"center",[`${r}-custom-content`]:{display:"flex",alignItems:"center"},[`${r}-custom-content > ${n}`]:{marginInlineEnd:e,fontSize:g},[`${v}-content`]:{display:"inline-block",padding:h,background:y,borderRadius:c,boxShadow:a,pointerEvents:"all"},[`${r}-success > ${n}`]:{color:u},[`${r}-error > ${n}`]:{color:f},[`${r}-warning > ${n}`]:{color:l},[`${r}-info > ${n},
      ${r}-loading > ${n}`]:{color:m}};return[{[r]:Object.assign(Object.assign({},on(t)),{color:s,position:"fixed",top:e,width:"100%",pointerEvents:"none",zIndex:d,[`${r}-move-up`]:{animationFillMode:"forwards"},[`
        ${r}-move-up-appear,
        ${r}-move-up-enter
      `]:{animationName:b,animationDuration:_,animationPlayState:"paused",animationTimingFunction:p},[`
        ${r}-move-up-appear${r}-move-up-appear-active,
        ${r}-move-up-enter${r}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${r}-move-up-leave`]:{animationName:w,animationDuration:_,animationPlayState:"paused",animationTimingFunction:p},[`${r}-move-up-leave${r}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[r]:{[`${v}-wrapper`]:Object.assign({},x)}},{[`${r}-notice-pure-panel`]:Object.assign(Object.assign({},x),{padding:0,textAlign:"start"})}]},Tm=t=>({zIndexPopup:t.zIndexPopupBase+Em+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),Oc=In("Message",t=>{const r=Tt(t,{height:150});return[Um(r)]},Tm);var Am=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const Fm={info:S.createElement(nm,null),success:S.createElement(Wp,null),error:S.createElement(Kp,null),warning:S.createElement(tm,null),loading:S.createElement(Rc,null)},Bc=t=>{let{prefixCls:r,type:n,icon:a,children:s}=t;return S.createElement("div",{className:se(`${r}-custom-content`,`${r}-${n}`)},a||Fm[n],S.createElement("span",null,s))},Pm=t=>{const{prefixCls:r,className:n,type:a,icon:s,content:u}=t,f=Am(t,["prefixCls","className","type","icon","content"]),{getPrefixCls:l}=S.useContext(Ce),m=r||l("message"),g=kn(m),[p,_,e]=Oc(m,g);return p(S.createElement(Ic,Object.assign({},f,{prefixCls:m,className:se(n,_,`${m}-notice-pure-panel`,e,g),eventKey:"pure",duration:null,content:S.createElement(Bc,{prefixCls:m,type:a,icon:s},u)})))};function Im(t,r){return{motionName:r??`${t}-move-up`}}function po(t){let r;const n=new Promise(s=>{r=t(()=>{s(!0)})}),a=()=>{r==null||r()};return a.then=(s,u)=>n.then(s,u),a.promise=n,a}var km=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const Rm=8,Om=3,Bm=t=>{let{children:r,prefixCls:n}=t;const a=kn(n),[s,u,f]=Oc(n,a);return s(S.createElement(fm,{classNames:{list:se(u,f,a)}},r))},Lm=(t,r)=>{let{prefixCls:n,key:a}=r;return S.createElement(Bm,{prefixCls:n,key:a},t)},Mm=S.forwardRef((t,r)=>{const{top:n,prefixCls:a,getContainer:s,maxCount:u,duration:f=Om,rtl:l,transitionName:m,onAllRemoved:g}=t,{getPrefixCls:p,getPopupContainer:_,message:e,direction:o}=S.useContext(Ce),c=a||p("message"),d=()=>({left:"50%",transform:"translateX(-50%)",top:n??Rm}),h=()=>se({[`${c}-rtl`]:l??o==="rtl"}),y=()=>Im(c,m),v=S.createElement("span",{className:`${c}-close-x`},S.createElement(Qp,{className:`${c}-close-icon`})),[b,w]=_m({prefixCls:c,style:d,className:h,motion:y,closable:!1,closeIcon:v,duration:f,getContainer:()=>(s==null?void 0:s())||(_==null?void 0:_())||document.body,maxCount:u,onAllRemoved:g,renderNotifications:Lm});return S.useImperativeHandle(r,()=>Object.assign(Object.assign({},b),{prefixCls:c,message:e})),w});let Es=0;function Lc(t){const r=S.useRef(null);return[S.useMemo(()=>{const a=m=>{var g;(g=r.current)===null||g===void 0||g.close(m)},s=m=>{if(!r.current){const C=()=>{};return C.then=()=>{},C}const{open:g,prefixCls:p,message:_}=r.current,e=`${p}-notice`,{content:o,icon:c,type:d,key:h,className:y,style:v,onClose:b}=m,w=km(m,["content","icon","type","key","className","style","onClose"]);let x=h;return x==null&&(Es+=1,x=`antd-message-${Es}`),po(C=>(g(Object.assign(Object.assign({},w),{key:x,content:S.createElement(Bc,{prefixCls:p,type:d,icon:c},o),placement:"top",className:se(d&&`${e}-${d}`,y,_==null?void 0:_.className),style:Object.assign(Object.assign({},_==null?void 0:_.style),v),onClose:()=>{b==null||b(),C()}})),()=>{a(x)}))},f={open:s,destroy:m=>{var g;m!==void 0?a(m):(g=r.current)===null||g===void 0||g.destroy()}};return["info","success","warning","error","loading"].forEach(m=>{const g=(p,_,e)=>{let o;p&&typeof p=="object"&&"content"in p?o=p:o={content:p};let c,d;typeof _=="function"?d=_:(c=_,d=e);const h=Object.assign(Object.assign({onClose:d,duration:c},o),{type:m});return s(h)};f[m]=g}),f},[]),S.createElement(Mm,Object.assign({key:"message-holder"},t,{ref:r}))]}function zm(t){return Lc(t)}function Ue(){Ue=function(){return r};var t,r={},n=Object.prototype,a=n.hasOwnProperty,s=Object.defineProperty||function(F,P,L){F[P]=L.value},u=typeof Symbol=="function"?Symbol:{},f=u.iterator||"@@iterator",l=u.asyncIterator||"@@asyncIterator",m=u.toStringTag||"@@toStringTag";function g(F,P,L){return Object.defineProperty(F,P,{value:L,enumerable:!0,configurable:!0,writable:!0}),F[P]}try{g({},"")}catch{g=function(L,D,j){return L[D]=j}}function p(F,P,L,D){var j=P&&P.prototype instanceof y?P:y,B=Object.create(j.prototype),H=new O(D||[]);return s(B,"_invoke",{value:R(F,L,H)}),B}function _(F,P,L){try{return{type:"normal",arg:F.call(P,L)}}catch(D){return{type:"throw",arg:D}}}r.wrap=p;var e="suspendedStart",o="suspendedYield",c="executing",d="completed",h={};function y(){}function v(){}function b(){}var w={};g(w,f,function(){return this});var x=Object.getPrototypeOf,C=x&&x(x($([])));C&&C!==n&&a.call(C,f)&&(w=C);var U=b.prototype=y.prototype=Object.create(w);function T(F){["next","throw","return"].forEach(function(P){g(F,P,function(L){return this._invoke(P,L)})})}function E(F,P){function L(j,B,H,Q){var Y=_(F[j],F,B);if(Y.type!=="throw"){var G=Y.arg,ee=G.value;return ee&&J(ee)=="object"&&a.call(ee,"__await")?P.resolve(ee.__await).then(function(ie){L("next",ie,H,Q)},function(ie){L("throw",ie,H,Q)}):P.resolve(ee).then(function(ie){G.value=ie,H(G)},function(ie){return L("throw",ie,H,Q)})}Q(Y.arg)}var D;s(this,"_invoke",{value:function(B,H){function Q(){return new P(function(Y,G){L(B,H,Y,G)})}return D=D?D.then(Q,Q):Q()}})}function R(F,P,L){var D=e;return function(j,B){if(D===c)throw Error("Generator is already running");if(D===d){if(j==="throw")throw B;return{value:t,done:!0}}for(L.method=j,L.arg=B;;){var H=L.delegate;if(H){var Q=k(H,L);if(Q){if(Q===h)continue;return Q}}if(L.method==="next")L.sent=L._sent=L.arg;else if(L.method==="throw"){if(D===e)throw D=d,L.arg;L.dispatchException(L.arg)}else L.method==="return"&&L.abrupt("return",L.arg);D=c;var Y=_(F,P,L);if(Y.type==="normal"){if(D=L.done?d:o,Y.arg===h)continue;return{value:Y.arg,done:L.done}}Y.type==="throw"&&(D=d,L.method="throw",L.arg=Y.arg)}}}function k(F,P){var L=P.method,D=F.iterator[L];if(D===t)return P.delegate=null,L==="throw"&&F.iterator.return&&(P.method="return",P.arg=t,k(F,P),P.method==="throw")||L!=="return"&&(P.method="throw",P.arg=new TypeError("The iterator does not provide a '"+L+"' method")),h;var j=_(D,F.iterator,P.arg);if(j.type==="throw")return P.method="throw",P.arg=j.arg,P.delegate=null,h;var B=j.arg;return B?B.done?(P[F.resultName]=B.value,P.next=F.nextLoc,P.method!=="return"&&(P.method="next",P.arg=t),P.delegate=null,h):B:(P.method="throw",P.arg=new TypeError("iterator result is not an object"),P.delegate=null,h)}function z(F){var P={tryLoc:F[0]};1 in F&&(P.catchLoc=F[1]),2 in F&&(P.finallyLoc=F[2],P.afterLoc=F[3]),this.tryEntries.push(P)}function M(F){var P=F.completion||{};P.type="normal",delete P.arg,F.completion=P}function O(F){this.tryEntries=[{tryLoc:"root"}],F.forEach(z,this),this.reset(!0)}function $(F){if(F||F===""){var P=F[f];if(P)return P.call(F);if(typeof F.next=="function")return F;if(!isNaN(F.length)){var L=-1,D=function j(){for(;++L<F.length;)if(a.call(F,L))return j.value=F[L],j.done=!1,j;return j.value=t,j.done=!0,j};return D.next=D}}throw new TypeError(J(F)+" is not iterable")}return v.prototype=b,s(U,"constructor",{value:b,configurable:!0}),s(b,"constructor",{value:v,configurable:!0}),v.displayName=g(b,m,"GeneratorFunction"),r.isGeneratorFunction=function(F){var P=typeof F=="function"&&F.constructor;return!!P&&(P===v||(P.displayName||P.name)==="GeneratorFunction")},r.mark=function(F){return Object.setPrototypeOf?Object.setPrototypeOf(F,b):(F.__proto__=b,g(F,m,"GeneratorFunction")),F.prototype=Object.create(U),F},r.awrap=function(F){return{__await:F}},T(E.prototype),g(E.prototype,l,function(){return this}),r.AsyncIterator=E,r.async=function(F,P,L,D,j){j===void 0&&(j=Promise);var B=new E(p(F,P,L,D),j);return r.isGeneratorFunction(P)?B:B.next().then(function(H){return H.done?H.value:B.next()})},T(U),g(U,m,"Generator"),g(U,f,function(){return this}),g(U,"toString",function(){return"[object Generator]"}),r.keys=function(F){var P=Object(F),L=[];for(var D in P)L.push(D);return L.reverse(),function j(){for(;L.length;){var B=L.pop();if(B in P)return j.value=B,j.done=!1,j}return j.done=!0,j}},r.values=$,O.prototype={constructor:O,reset:function(P){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!P)for(var L in this)L.charAt(0)==="t"&&a.call(this,L)&&!isNaN(+L.slice(1))&&(this[L]=t)},stop:function(){this.done=!0;var P=this.tryEntries[0].completion;if(P.type==="throw")throw P.arg;return this.rval},dispatchException:function(P){if(this.done)throw P;var L=this;function D(G,ee){return H.type="throw",H.arg=P,L.next=G,ee&&(L.method="next",L.arg=t),!!ee}for(var j=this.tryEntries.length-1;j>=0;--j){var B=this.tryEntries[j],H=B.completion;if(B.tryLoc==="root")return D("end");if(B.tryLoc<=this.prev){var Q=a.call(B,"catchLoc"),Y=a.call(B,"finallyLoc");if(Q&&Y){if(this.prev<B.catchLoc)return D(B.catchLoc,!0);if(this.prev<B.finallyLoc)return D(B.finallyLoc)}else if(Q){if(this.prev<B.catchLoc)return D(B.catchLoc,!0)}else{if(!Y)throw Error("try statement without catch or finally");if(this.prev<B.finallyLoc)return D(B.finallyLoc)}}}},abrupt:function(P,L){for(var D=this.tryEntries.length-1;D>=0;--D){var j=this.tryEntries[D];if(j.tryLoc<=this.prev&&a.call(j,"finallyLoc")&&this.prev<j.finallyLoc){var B=j;break}}B&&(P==="break"||P==="continue")&&B.tryLoc<=L&&L<=B.finallyLoc&&(B=null);var H=B?B.completion:{};return H.type=P,H.arg=L,B?(this.method="next",this.next=B.finallyLoc,h):this.complete(H)},complete:function(P,L){if(P.type==="throw")throw P.arg;return P.type==="break"||P.type==="continue"?this.next=P.arg:P.type==="return"?(this.rval=this.arg=P.arg,this.method="return",this.next="end"):P.type==="normal"&&L&&(this.next=L),h},finish:function(P){for(var L=this.tryEntries.length-1;L>=0;--L){var D=this.tryEntries[L];if(D.finallyLoc===P)return this.complete(D.completion,D.afterLoc),M(D),h}},catch:function(P){for(var L=this.tryEntries.length-1;L>=0;--L){var D=this.tryEntries[L];if(D.tryLoc===P){var j=D.completion;if(j.type==="throw"){var B=j.arg;M(D)}return B}}throw Error("illegal catch attempt")},delegateYield:function(P,L,D){return this.delegate={iterator:$(P),resultName:L,nextLoc:D},this.method==="next"&&(this.arg=t),h}},r}function Us(t,r,n,a,s,u,f){try{var l=t[u](f),m=l.value}catch(g){return void n(g)}l.done?r(m):Promise.resolve(m).then(a,s)}function ar(t){return function(){var r=this,n=arguments;return new Promise(function(a,s){var u=t.apply(r,n);function f(m){Us(u,a,s,f,l,"next",m)}function l(m){Us(u,a,s,f,l,"throw",m)}f(void 0)})}}var gi=N({},xu),Nm=gi.version,Dm=gi.render,$m=gi.unmountComponentAtNode,Rn;try{var jm=Number((Nm||"").split(".")[0]);jm>=18&&(Rn=gi.createRoot)}catch{}function Ts(t){var r=gi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;r&&J(r)==="object"&&(r.usingClientEntryPoint=t)}var ln="__rc_react_root__";function Hm(t,r){Ts(!0);var n=r[ln]||Rn(r);Ts(!1),n.render(t),r[ln]=n}function Vm(t,r){Dm(t,r)}function Mc(t,r){if(Rn){Hm(t,r);return}Vm(t,r)}function Gm(t){return Oa.apply(this,arguments)}function Oa(){return Oa=ar(Ue().mark(function t(r){return Ue().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.resolve().then(function(){var s;(s=r[ln])===null||s===void 0||s.unmount(),delete r[ln]}));case 1:case"end":return a.stop()}},t)})),Oa.apply(this,arguments)}function Wm(t){$m(t)}function Ym(t){return Ba.apply(this,arguments)}function Ba(){return Ba=ar(Ue().mark(function t(r){return Ue().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(Rn===void 0){a.next=2;break}return a.abrupt("return",Gm(r));case 2:Wm(r);case 3:case"end":return a.stop()}},t)})),Ba.apply(this,arguments)}const qm=function(t){if(!t)return!1;if(t instanceof Element){if(t.offsetParent)return!0;if(t.getBBox){var r=t.getBBox(),n=r.width,a=r.height;if(n||a)return!0}if(t.getBoundingClientRect){var s=t.getBoundingClientRect(),u=s.width,f=s.height;if(u||f)return!0}}return!1},Km=t=>{const{componentCls:r,colorPrimary:n}=t;return{[r]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0},"&.wave-quick":{transition:[`box-shadow ${t.motionDurationSlow} ${t.motionEaseInOut}`,`opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`].join(",")}}}}},Xm=uo("Wave",t=>[Km(t)]),mo=`${Sc}-wave-target`;function Zm(t){const r=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return r&&r[1]&&r[2]&&r[3]?!(r[1]===r[2]&&r[2]===r[3]):!0}function Zn(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&Zm(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function Qm(t){const{borderTopColor:r,borderColor:n,backgroundColor:a}=getComputedStyle(t);return Zn(r)?r:Zn(n)?n:Zn(a)?a:null}function Qn(t){return Number.isNaN(t)?0:t}const Jm=t=>{const{className:r,target:n,component:a}=t,s=S.useRef(null),[u,f]=S.useState(null),[l,m]=S.useState([]),[g,p]=S.useState(0),[_,e]=S.useState(0),[o,c]=S.useState(0),[d,h]=S.useState(0),[y,v]=S.useState(!1),b={left:g,top:_,width:o,height:d,borderRadius:l.map(C=>`${C}px`).join(" ")};u&&(b["--wave-color"]=u);function w(){const C=getComputedStyle(n);f(Qm(n));const U=C.position==="static",{borderLeftWidth:T,borderTopWidth:E}=C;p(U?n.offsetLeft:Qn(-parseFloat(T))),e(U?n.offsetTop:Qn(-parseFloat(E))),c(n.offsetWidth),h(n.offsetHeight);const{borderTopLeftRadius:R,borderTopRightRadius:k,borderBottomLeftRadius:z,borderBottomRightRadius:M}=C;m([R,k,M,z].map(O=>Qn(parseFloat(O))))}if(S.useEffect(()=>{if(n){const C=ir(()=>{w(),v(!0)});let U;return typeof ResizeObserver<"u"&&(U=new ResizeObserver(w),U.observe(n)),()=>{ir.cancel(C),U==null||U.disconnect()}}},[]),!y)return null;const x=(a==="Checkbox"||a==="Radio")&&(n==null?void 0:n.classList.contains(mo));return S.createElement(ho,{visible:!0,motionAppear:!0,motionName:"wave-motion",motionDeadline:5e3,onAppearEnd:(C,U)=>{var T;if(U.deadline||U.propertyName==="opacity"){const E=(T=s.current)===null||T===void 0?void 0:T.parentElement;Ym(E).then(()=>{E==null||E.remove()})}return!1}},(C,U)=>{let{className:T}=C;return S.createElement("div",{ref:xn(s,U),className:se(r,T,{"wave-quick":x}),style:b})})},eg=(t,r)=>{var n;const{component:a}=r;if(a==="Checkbox"&&!(!((n=t.querySelector("input"))===null||n===void 0)&&n.checked))return;const s=document.createElement("div");s.style.position="absolute",s.style.left="0px",s.style.top="0px",t==null||t.insertBefore(s,t==null?void 0:t.firstChild),Mc(S.createElement(Jm,Object.assign({},r,{target:t})),s)},tg=(t,r,n)=>{const{wave:a}=S.useContext(Ce),[,s,u]=Nt(),f=kr(g=>{const p=t.current;if(a!=null&&a.disabled||!p)return;const _=p.querySelector(`.${mo}`)||p,{showEffect:e}=a||{};(e||eg)(_,{className:r,token:s,component:n,event:g,hashId:u})}),l=S.useRef();return g=>{ir.cancel(l.current),l.current=ir(()=>{f(g)})}},zc=t=>{const{children:r,disabled:n,component:a}=t,{getPrefixCls:s}=S.useContext(Ce),u=S.useRef(null),f=s("wave"),[,l]=Xm(f),m=tg(u,se(f,l),a);if(K.useEffect(()=>{const p=u.current;if(!p||p.nodeType!==1||n)return;const _=e=>{!qm(e.target)||!p.getAttribute||p.getAttribute("disabled")||p.disabled||p.className.includes("disabled")||p.className.includes("-leave")||m(e)};return p.addEventListener("click",_,!0),()=>{p.removeEventListener("click",_,!0)}},[n]),!K.isValidElement(r))return r??null;const g=gl(r)?xn(r.ref,u):u;return Pc(r,{ref:g})},go=t=>{const r=K.useContext(Ir);return K.useMemo(()=>t?typeof t=="string"?t??r:t instanceof Function?t(r):r:r,[t,r])},rg=t=>{const{componentCls:r}=t;return{[r]:{"&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},ig=t=>{const{componentCls:r,antCls:n}=t;return{[r]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${r}-item:empty`]:{display:"none"},[`${r}-item > ${n}-badge-not-a-wrapper:only-child`]:{display:"block"}}}},ng=t=>{const{componentCls:r}=t;return{[r]:{"&-gap-row-small":{rowGap:t.spaceGapSmallSize},"&-gap-row-middle":{rowGap:t.spaceGapMiddleSize},"&-gap-row-large":{rowGap:t.spaceGapLargeSize},"&-gap-col-small":{columnGap:t.spaceGapSmallSize},"&-gap-col-middle":{columnGap:t.spaceGapMiddleSize},"&-gap-col-large":{columnGap:t.spaceGapLargeSize}}}},Nc=In("Space",t=>{const r=Tt(t,{spaceGapSmallSize:t.paddingXS,spaceGapMiddleSize:t.padding,spaceGapLargeSize:t.paddingLG});return[ig(r),ng(r),rg(r)]},()=>({}),{resetStyle:!1});var Dc=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const vo=S.createContext(null),ag=(t,r)=>{const n=S.useContext(vo),a=S.useMemo(()=>{if(!n)return"";const{compactDirection:s,isFirstItem:u,isLastItem:f}=n,l=s==="vertical"?"-vertical-":"-";return se(`${t}-compact${l}item`,{[`${t}-compact${l}first-item`]:u,[`${t}-compact${l}last-item`]:f,[`${t}-compact${l}item-rtl`]:r==="rtl"})},[t,r,n]);return{compactSize:n==null?void 0:n.compactSize,compactDirection:n==null?void 0:n.compactDirection,compactItemClassnames:a}},og=t=>{var{children:r}=t,n=Dc(t,["children"]);return S.createElement(vo.Provider,{value:n},r)},sg=t=>{const{getPrefixCls:r,direction:n}=S.useContext(Ce),{size:a,direction:s,block:u,prefixCls:f,className:l,rootClassName:m,children:g}=t,p=Dc(t,["size","direction","block","prefixCls","className","rootClassName","children"]),_=go(b=>a??b),e=r("space-compact",f),[o,c]=Nc(e),d=se(e,c,{[`${e}-rtl`]:n==="rtl",[`${e}-block`]:u,[`${e}-vertical`]:s==="vertical"},l,m),h=S.useContext(vo),y=ni(g),v=S.useMemo(()=>y.map((b,w)=>{const x=b&&b.key||`${e}-item-${w}`;return S.createElement(og,{key:x,compactSize:_,compactDirection:s,isFirstItem:w===0&&(!h||(h==null?void 0:h.isFirstItem)),isLastItem:w===y.length-1&&(!h||(h==null?void 0:h.isLastItem))},b)}),[a,y,h]);return y.length===0?null:o(S.createElement("div",Object.assign({className:d},p),v))};var lg=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const $c=S.createContext(void 0),cg=t=>{const{getPrefixCls:r,direction:n}=S.useContext(Ce),{prefixCls:a,size:s,className:u}=t,f=lg(t,["prefixCls","size","className"]),l=r("btn-group",a),[,,m]=Nt();let g="";switch(s){case"large":g="lg";break;case"small":g="sm";break}const p=se(l,{[`${l}-${g}`]:g,[`${l}-rtl`]:n==="rtl"},u,m);return S.createElement($c.Provider,{value:s},S.createElement("div",Object.assign({},f,{className:p})))},As=/^[\u4e00-\u9fa5]{2}$/,La=As.test.bind(As);function Fs(t){return typeof t=="string"}function Jn(t){return t==="text"||t==="link"}function ug(t,r){if(t==null)return;const n=r?" ":"";return typeof t!="string"&&typeof t!="number"&&Fs(t.type)&&La(t.props.children)?Pc(t,{children:t.props.children.split("").join(n)}):Fs(t)?La(t)?K.createElement("span",null,t.split("").join(n)):K.createElement("span",null,t):um(t)?K.createElement("span",null,t):t}function dg(t,r){let n=!1;const a=[];return K.Children.forEach(t,s=>{const u=typeof s,f=u==="string"||u==="number";if(n&&f){const l=a.length-1,m=a[l];a[l]=`${m}${s}`}else a.push(s);n=f}),K.Children.map(a,s=>ug(s,r))}const jc=S.forwardRef((t,r)=>{const{className:n,style:a,children:s,prefixCls:u}=t,f=se(`${u}-icon`,n);return K.createElement("span",{ref:r,className:f,style:a},s)}),Ps=S.forwardRef((t,r)=>{const{prefixCls:n,className:a,style:s,iconClassName:u}=t,f=se(`${n}-loading-icon`,a);return K.createElement(jc,{prefixCls:n,className:f,style:s,ref:r},K.createElement(Rc,{className:u}))}),ea=()=>({width:0,opacity:0,transform:"scale(0)"}),ta=t=>({width:t.scrollWidth,opacity:1,transform:"scale(1)"}),fg=t=>{const{prefixCls:r,loading:n,existIcon:a,className:s,style:u}=t,f=!!n;return a?K.createElement(Ps,{prefixCls:r,className:s,style:u}):K.createElement(ho,{visible:f,motionName:`${r}-loading-icon-motion`,motionLeave:f,removeOnLeave:!0,onAppearStart:ea,onAppearActive:ta,onEnterStart:ea,onEnterActive:ta,onLeaveStart:ta,onLeaveActive:ea},(l,m)=>{let{className:g,style:p}=l;return K.createElement(Ps,{prefixCls:r,className:s,style:Object.assign(Object.assign({},u),p),ref:m,iconClassName:g})})},Is=(t,r)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:r}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:r}}}}}),hg=t=>{const{componentCls:r,fontSize:n,lineWidth:a,groupBorderColor:s,colorErrorHover:u}=t;return{[`${r}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${r}`]:{"&:not(:last-child)":{[`&, & > ${r}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:t.calc(a).mul(-1).equal(),[`&, & > ${r}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[r]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${r}-icon-only`]:{fontSize:n}},Is(`${r}-primary`,s),Is(`${r}-danger`,u)]}},Hc=t=>{const{paddingInline:r,onlyIconSize:n,paddingBlock:a}=t;return Tt(t,{buttonPaddingHorizontal:r,buttonPaddingVertical:a,buttonIconOnlyFontSize:n})},Vc=t=>{var r,n,a,s,u,f;const l=(r=t.contentFontSize)!==null&&r!==void 0?r:t.fontSize,m=(n=t.contentFontSizeSM)!==null&&n!==void 0?n:t.fontSize,g=(a=t.contentFontSizeLG)!==null&&a!==void 0?a:t.fontSizeLG,p=(s=t.contentLineHeight)!==null&&s!==void 0?s:Xi(l),_=(u=t.contentLineHeightSM)!==null&&u!==void 0?u:Xi(m),e=(f=t.contentLineHeightLG)!==null&&f!==void 0?f:Xi(g);return{fontWeight:400,defaultShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`,primaryShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`,dangerShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`,primaryColor:t.colorTextLightSolid,dangerColor:t.colorTextLightSolid,borderColorDisabled:t.colorBorder,defaultGhostColor:t.colorBgContainer,ghostBg:"transparent",defaultGhostBorderColor:t.colorBgContainer,paddingInline:t.paddingContentHorizontal-t.lineWidth,paddingInlineLG:t.paddingContentHorizontal-t.lineWidth,paddingInlineSM:8-t.lineWidth,onlyIconSize:t.fontSizeLG,onlyIconSizeSM:t.fontSizeLG-2,onlyIconSizeLG:t.fontSizeLG+2,groupBorderColor:t.colorPrimaryHover,linkHoverBg:"transparent",textHoverBg:t.colorBgTextHover,defaultColor:t.colorText,defaultBg:t.colorBgContainer,defaultBorderColor:t.colorBorder,defaultBorderColorDisabled:t.colorBorder,defaultHoverBg:t.colorBgContainer,defaultHoverColor:t.colorPrimaryHover,defaultHoverBorderColor:t.colorPrimaryHover,defaultActiveBg:t.colorBgContainer,defaultActiveColor:t.colorPrimaryActive,defaultActiveBorderColor:t.colorPrimaryActive,contentFontSize:l,contentFontSizeSM:m,contentFontSizeLG:g,contentLineHeight:p,contentLineHeightSM:_,contentLineHeightLG:e,paddingBlock:Math.max((t.controlHeight-l*p)/2-t.lineWidth,0),paddingBlockSM:Math.max((t.controlHeightSM-m*_)/2-t.lineWidth,0),paddingBlockLG:Math.max((t.controlHeightLG-g*e)/2-t.lineWidth,0)}},pg=t=>{const{componentCls:r,iconCls:n,fontWeight:a}=t;return{[r]:{outline:"none",position:"relative",display:"inline-flex",gap:t.marginXS,alignItems:"center",justifyContent:"center",fontWeight:a,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",background:"transparent",border:`${Ee(t.lineWidth)} ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",color:t.colorText,"&:disabled > *":{pointerEvents:"none"},"> span":{display:"inline-block"},[`${r}-icon`]:{lineHeight:1},"> a":{color:"currentColor"},"&:not(:disabled)":Object.assign({},Wh(t)),[`&${r}-two-chinese-chars::first-letter`]:{letterSpacing:"0.34em"},[`&${r}-two-chinese-chars > *:not(${n})`]:{marginInlineEnd:"-0.34em",letterSpacing:"0.34em"},"&-icon-end":{flexDirection:"row-reverse"}}}},Et=(t,r,n)=>({[`&:not(:disabled):not(${t}-disabled)`]:{"&:hover":r,"&:active":n}}),mg=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),gg=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.calc(t.controlHeight).div(2).equal(),paddingInlineEnd:t.calc(t.controlHeight).div(2).equal()}),vg=t=>({cursor:"not-allowed",borderColor:t.borderColorDisabled,color:t.colorTextDisabled,background:t.colorBgContainerDisabled,boxShadow:"none"}),fi=(t,r,n,a,s,u,f,l)=>({[`&${t}-background-ghost`]:Object.assign(Object.assign({color:n||void 0,background:r,borderColor:a||void 0,boxShadow:"none"},Et(t,Object.assign({background:r},f),Object.assign({background:r},l))),{"&:disabled":{cursor:"not-allowed",color:s||void 0,borderColor:u||void 0}})}),yo=t=>({[`&:disabled, &${t.componentCls}-disabled`]:Object.assign({},vg(t))}),Gc=t=>Object.assign({},yo(t)),cn=t=>({[`&:disabled, &${t.componentCls}-disabled`]:{cursor:"not-allowed",color:t.colorTextDisabled}}),Wc=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gc(t)),{background:t.defaultBg,borderColor:t.defaultBorderColor,color:t.defaultColor,boxShadow:t.defaultShadow}),Et(t.componentCls,{color:t.defaultHoverColor,borderColor:t.defaultHoverBorderColor,background:t.defaultHoverBg},{color:t.defaultActiveColor,borderColor:t.defaultActiveBorderColor,background:t.defaultActiveBg})),fi(t.componentCls,t.ghostBg,t.defaultGhostColor,t.defaultGhostBorderColor,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({color:t.colorError,borderColor:t.colorError},Et(t.componentCls,{color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),fi(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),yo(t))}),yg=t=>Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Gc(t)),{color:t.primaryColor,background:t.colorPrimary,boxShadow:t.primaryShadow}),Et(t.componentCls,{color:t.colorTextLightSolid,background:t.colorPrimaryHover},{color:t.colorTextLightSolid,background:t.colorPrimaryActive})),fi(t.componentCls,t.ghostBg,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign(Object.assign({background:t.colorError,boxShadow:t.dangerShadow,color:t.dangerColor},Et(t.componentCls,{background:t.colorErrorHover},{background:t.colorErrorActive})),fi(t.componentCls,t.ghostBg,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),yo(t))}),bg=t=>Object.assign(Object.assign({},Wc(t)),{borderStyle:"dashed"}),_g=t=>Object.assign(Object.assign(Object.assign({color:t.colorLink},Et(t.componentCls,{color:t.colorLinkHover,background:t.linkHoverBg},{color:t.colorLinkActive})),cn(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},Et(t.componentCls,{color:t.colorErrorHover},{color:t.colorErrorActive})),cn(t))}),Sg=t=>Object.assign(Object.assign(Object.assign({},Et(t.componentCls,{color:t.colorText,background:t.textHoverBg},{color:t.colorText,background:t.colorBgTextActive})),cn(t)),{[`&${t.componentCls}-dangerous`]:Object.assign(Object.assign({color:t.colorError},cn(t)),Et(t.componentCls,{color:t.colorErrorHover,background:t.colorErrorBg},{color:t.colorErrorHover,background:t.colorErrorBgActive}))}),wg=t=>{const{componentCls:r}=t;return{[`${r}-default`]:Wc(t),[`${r}-primary`]:yg(t),[`${r}-dashed`]:bg(t),[`${r}-link`]:_g(t),[`${r}-text`]:Sg(t),[`${r}-ghost`]:fi(t.componentCls,t.ghostBg,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)}},bo=function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,controlHeight:a,fontSize:s,lineHeight:u,borderRadius:f,buttonPaddingHorizontal:l,iconCls:m,buttonPaddingVertical:g}=t,p=`${n}-icon-only`;return[{[`${r}`]:{fontSize:s,lineHeight:u,height:a,padding:`${Ee(g)} ${Ee(l)}`,borderRadius:f,[`&${p}`]:{width:a,paddingInline:0,[`&${n}-compact-item`]:{flex:"none"},[`&${n}-round`]:{width:"auto"},[m]:{fontSize:t.buttonIconOnlyFontSize}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`}}},{[`${n}${n}-circle${r}`]:mg(t)},{[`${n}${n}-round${r}`]:gg(t)}]},xg=t=>{const r=Tt(t,{fontSize:t.contentFontSize,lineHeight:t.contentLineHeight});return bo(r,t.componentCls)},Cg=t=>{const r=Tt(t,{controlHeight:t.controlHeightSM,fontSize:t.contentFontSizeSM,lineHeight:t.contentLineHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:t.paddingInlineSM,buttonPaddingVertical:t.paddingBlockSM,borderRadius:t.borderRadiusSM,buttonIconOnlyFontSize:t.onlyIconSizeSM});return bo(r,`${t.componentCls}-sm`)},Eg=t=>{const r=Tt(t,{controlHeight:t.controlHeightLG,fontSize:t.contentFontSizeLG,lineHeight:t.contentLineHeightLG,buttonPaddingHorizontal:t.paddingInlineLG,buttonPaddingVertical:t.paddingBlockLG,borderRadius:t.borderRadiusLG,buttonIconOnlyFontSize:t.onlyIconSizeLG});return bo(r,`${t.componentCls}-lg`)},Ug=t=>{const{componentCls:r}=t;return{[r]:{[`&${r}-block`]:{width:"100%"}}}},Tg=In("Button",t=>{const r=Hc(t);return[pg(r),xg(r),Cg(r),Eg(r),Ug(r),wg(r),hg(r)]},Vc,{unitless:{fontWeight:!0,contentLineHeight:!0,contentLineHeightSM:!0,contentLineHeightLG:!0}});function Ag(t,r,n){const{focusElCls:a,focus:s,borderElCls:u}=n,f=u?"> *":"",l=["hover",s?"focus":null,"active"].filter(Boolean).map(m=>`&:${m} ${f}`).join(",");return{[`&-item:not(${r}-last-item)`]:{marginInlineEnd:t.calc(t.lineWidth).mul(-1).equal()},"&-item":Object.assign(Object.assign({[l]:{zIndex:2}},a?{[`&${a}`]:{zIndex:2}}:{}),{[`&[disabled] ${f}`]:{zIndex:0}})}}function Fg(t,r,n){const{borderElCls:a}=n,s=a?`> ${a}`:"";return{[`&-item:not(${r}-first-item):not(${r}-last-item) ${s}`]:{borderRadius:0},[`&-item:not(${r}-last-item)${r}-first-item`]:{[`& ${s}, &${t}-sm ${s}, &${t}-lg ${s}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${r}-first-item)${r}-last-item`]:{[`& ${s}, &${t}-sm ${s}, &${t}-lg ${s}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function Pg(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,a=`${n}-compact`;return{[a]:Object.assign(Object.assign({},Ag(t,a,r)),Fg(n,a,r))}}function Ig(t,r){return{[`&-item:not(${r}-last-item)`]:{marginBottom:t.calc(t.lineWidth).mul(-1).equal()},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function kg(t,r){return{[`&-item:not(${r}-first-item):not(${r}-last-item)`]:{borderRadius:0},[`&-item${r}-first-item:not(${r}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${r}-last-item:not(${r}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function Rg(t){const r=`${t.componentCls}-compact-vertical`;return{[r]:Object.assign(Object.assign({},Ig(t,r)),kg(t.componentCls,r))}}const Og=t=>{const{componentCls:r,calc:n}=t;return{[r]:{[`&-compact-item${r}-primary`]:{[`&:not([disabled]) + ${r}-compact-item${r}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:t.lineWidth,height:`calc(100% + ${Ee(t.lineWidth)} * 2)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${r}-primary`]:{[`&:not([disabled]) + ${r}-compact-vertical-item${r}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:n(t.lineWidth).mul(-1).equal(),insetInlineStart:n(t.lineWidth).mul(-1).equal(),display:"inline-block",width:`calc(100% + ${Ee(t.lineWidth)} * 2)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},Bg=Xh(["Button","compact"],t=>{const r=Hc(t);return[Pg(r),Rg(r),Og(r)]},Vc);var Lg=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};function Mg(t){if(typeof t=="object"&&t){let r=t==null?void 0:t.delay;return r=!Number.isNaN(r)&&typeof r=="number"?r:0,{loading:r<=0,delay:r}}return{loading:!!t,delay:0}}const zg=K.forwardRef((t,r)=>{var n,a,s;const{loading:u=!1,prefixCls:f,type:l,danger:m=!1,shape:g="default",size:p,styles:_,disabled:e,className:o,rootClassName:c,children:d,icon:h,iconPosition:y="start",ghost:v=!1,block:b=!1,htmlType:w="button",classNames:x,style:C={},autoInsertSpace:U}=t,T=Lg(t,["loading","prefixCls","type","danger","shape","size","styles","disabled","className","rootClassName","children","icon","iconPosition","ghost","block","htmlType","classNames","style","autoInsertSpace"]),E=l||"default",{getPrefixCls:R,direction:k,button:z}=S.useContext(Ce),M=(n=U??(z==null?void 0:z.autoInsertSpace))!==null&&n!==void 0?n:!0,O=R("btn",f),[$,F,P]=Tg(O),L=S.useContext(ui),D=e??L,j=S.useContext($c),B=S.useMemo(()=>Mg(u),[u]),[H,Q]=S.useState(B.loading),[Y,G]=S.useState(!1),ie=xn(r,S.createRef()),it=S.Children.count(d)===1&&!h&&!Jn(E);S.useEffect(()=>{let ce=null;B.delay>0?ce=setTimeout(()=>{ce=null,Q(!0)},B.delay):Q(B.loading);function pe(){ce&&(clearTimeout(ce),ce=null)}return pe},[B]),S.useEffect(()=>{if(!ie||!ie.current||!M)return;const ce=ie.current.textContent;it&&La(ce)?Y||G(!0):Y&&G(!1)},[ie]);const Fe=ce=>{const{onClick:pe}=t;if(H||D){ce.preventDefault();return}pe==null||pe(ce)},{compactSize:Pe,compactItemClassnames:gt}=ag(O,k),Ie={large:"lg",small:"sm",middle:void 0},qe=go(ce=>{var pe,Dt;return(Dt=(pe=p??Pe)!==null&&pe!==void 0?pe:j)!==null&&Dt!==void 0?Dt:ce}),ke=qe&&Ie[qe]||"",Ft=H?"loading":h,be=kd(T,["navigate"]),nt=se(O,F,P,{[`${O}-${g}`]:g!=="default"&&g,[`${O}-${E}`]:E,[`${O}-${ke}`]:ke,[`${O}-icon-only`]:!d&&d!==0&&!!Ft,[`${O}-background-ghost`]:v&&!Jn(E),[`${O}-loading`]:H,[`${O}-two-chinese-chars`]:Y&&M&&!H,[`${O}-block`]:b,[`${O}-dangerous`]:m,[`${O}-rtl`]:k==="rtl",[`${O}-icon-end`]:y==="end"},gt,o,c,z==null?void 0:z.className),$e=Object.assign(Object.assign({},z==null?void 0:z.style),C),at=se(x==null?void 0:x.icon,(a=z==null?void 0:z.classNames)===null||a===void 0?void 0:a.icon),ue=Object.assign(Object.assign({},(_==null?void 0:_.icon)||{}),((s=z==null?void 0:z.styles)===null||s===void 0?void 0:s.icon)||{}),le=h&&!H?K.createElement(jc,{prefixCls:O,className:at,style:ue},h):K.createElement(fg,{existIcon:!!h,prefixCls:O,loading:H}),_e=d||d===0?dg(d,it&&M):null;if(be.href!==void 0)return $(K.createElement("a",Object.assign({},be,{className:se(nt,{[`${O}-disabled`]:D}),href:D?void 0:be.href,style:$e,onClick:Fe,ref:ie,tabIndex:D?-1:0}),le,_e));let je=K.createElement("button",Object.assign({},T,{type:w,className:nt,style:$e,onClick:Fe,disabled:D,ref:ie}),le,_e,!!gt&&K.createElement(Bg,{key:"compact",prefixCls:O}));return Jn(E)||(je=K.createElement(zc,{component:"Button",disabled:H},je)),$(je)}),_o=zg;_o.Group=cg;_o.__ANT_BUTTON=!0;var Kt="RC_FORM_INTERNAL_HOOKS",ae=function(){De(!1,"Can not find FormContext. Please make sure you wrap Field under Form.")},Rr=S.createContext({getFieldValue:ae,getFieldsValue:ae,getFieldError:ae,getFieldWarning:ae,getFieldsError:ae,isFieldsTouched:ae,isFieldTouched:ae,isFieldValidating:ae,isFieldsValidating:ae,resetFields:ae,setFields:ae,setFieldValue:ae,setFieldsValue:ae,validateFields:ae,submit:ae,getInternalHooks:function(){return ae(),{dispatch:ae,initEntityValue:ae,registerField:ae,useSubscribe:ae,setInitialValues:ae,destroyForm:ae,setCallbacks:ae,registerWatch:ae,getFields:ae,setValidateMessages:ae,setPreserve:ae,getInitialValue:ae}}}),un=S.createContext(null);function Ma(t){return t==null?[]:Array.isArray(t)?t:[t]}function Ng(t){return t&&!!t._init}function za(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var r=JSON.parse(JSON.stringify(this));return r.clone=this.clone,r}}}var Na=za();function Dg(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function $g(t,r,n){if(Cn())return Reflect.construct.apply(null,arguments);var a=[null];a.push.apply(a,r);var s=new(t.bind.apply(t,a));return n&&ai(s,n.prototype),s}function Da(t){var r=typeof Map=="function"?new Map:void 0;return Da=function(a){if(a===null||!Dg(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(r!==void 0){if(r.has(a))return r.get(a);r.set(a,s)}function s(){return $g(a,arguments,rr(this).constructor)}return s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),ai(s,a)},Da(t)}var jg=/%[sdj%]/g,Hg=function(){};function $a(t){if(!t||!t.length)return null;var r={};return t.forEach(function(n){var a=n.field;r[a]=r[a]||[],r[a].push(n)}),r}function Ne(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=0,u=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var f=t.replace(jg,function(l){if(l==="%%")return"%";if(s>=u)return l;switch(l){case"%s":return String(n[s++]);case"%d":return Number(n[s++]);case"%j":try{return JSON.stringify(n[s++])}catch{return"[Circular]"}break;default:return l}});return f}return t}function Vg(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function ge(t,r){return!!(t==null||r==="array"&&Array.isArray(t)&&!t.length||Vg(r)&&typeof t=="string"&&!t)}function Gg(t,r,n){var a=[],s=0,u=t.length;function f(l){a.push.apply(a,q(l||[])),s++,s===u&&n(a)}t.forEach(function(l){r(l,f)})}function ks(t,r,n){var a=0,s=t.length;function u(f){if(f&&f.length){n(f);return}var l=a;a=a+1,l<s?r(t[l],u):n([])}u([])}function Wg(t){var r=[];return Object.keys(t).forEach(function(n){r.push.apply(r,q(t[n]||[]))}),r}var Rs=function(t){Or(n,t);var r=En(n);function n(a,s){var u;return Te(this,n),u=r.call(this,"Async Validation Error"),I(re(u),"errors",void 0),I(re(u),"fields",void 0),u.errors=a,u.fields=s,u}return Ae(n)}(Da(Error));function Yg(t,r,n,a,s){if(r.first){var u=new Promise(function(e,o){var c=function(y){return a(y),y.length?o(new Rs(y,$a(y))):e(s)},d=Wg(t);ks(d,n,c)});return u.catch(function(e){return e}),u}var f=r.firstFields===!0?Object.keys(t):r.firstFields||[],l=Object.keys(t),m=l.length,g=0,p=[],_=new Promise(function(e,o){var c=function(h){if(p.push.apply(p,h),g++,g===m)return a(p),p.length?o(new Rs(p,$a(p))):e(s)};l.length||(a(p),e(s)),l.forEach(function(d){var h=t[d];f.indexOf(d)!==-1?ks(h,n,c):Gg(h,n,c)})});return _.catch(function(e){return e}),_}function qg(t){return!!(t&&t.message!==void 0)}function Kg(t,r){for(var n=t,a=0;a<r.length;a++){if(n==null)return n;n=n[r[a]]}return n}function Os(t,r){return function(n){var a;return t.fullFields?a=Kg(r,t.fullFields):a=r[n.field||t.fullField],qg(n)?(n.field=n.field||t.fullField,n.fieldValue=a,n):{message:typeof n=="function"?n():n,fieldValue:a,field:n.field||t.fullField}}}function Bs(t,r){if(r){for(var n in r)if(r.hasOwnProperty(n)){var a=r[n];J(a)==="object"&&J(t[n])==="object"?t[n]=N(N({},t[n]),a):t[n]=a}}return t}var cr="enum",Xg=function(r,n,a,s,u){r[cr]=Array.isArray(r[cr])?r[cr]:[],r[cr].indexOf(n)===-1&&s.push(Ne(u.messages[cr],r.fullField,r[cr].join(", ")))},Zg=function(r,n,a,s,u){if(r.pattern){if(r.pattern instanceof RegExp)r.pattern.lastIndex=0,r.pattern.test(n)||s.push(Ne(u.messages.pattern.mismatch,r.fullField,n,r.pattern));else if(typeof r.pattern=="string"){var f=new RegExp(r.pattern);f.test(n)||s.push(Ne(u.messages.pattern.mismatch,r.fullField,n,r.pattern))}}},Qg=function(r,n,a,s,u){var f=typeof r.len=="number",l=typeof r.min=="number",m=typeof r.max=="number",g=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,p=n,_=null,e=typeof n=="number",o=typeof n=="string",c=Array.isArray(n);if(e?_="number":o?_="string":c&&(_="array"),!_)return!1;c&&(p=n.length),o&&(p=n.replace(g,"_").length),f?p!==r.len&&s.push(Ne(u.messages[_].len,r.fullField,r.len)):l&&!m&&p<r.min?s.push(Ne(u.messages[_].min,r.fullField,r.min)):m&&!l&&p>r.max?s.push(Ne(u.messages[_].max,r.fullField,r.max)):l&&m&&(p<r.min||p>r.max)&&s.push(Ne(u.messages[_].range,r.fullField,r.min,r.max))},Yc=function(r,n,a,s,u,f){r.required&&(!a.hasOwnProperty(r.field)||ge(n,f||r.type))&&s.push(Ne(u.messages.required,r.fullField))},ki;const Jg=function(){if(ki)return ki;var t="[a-fA-F\\d:]",r=function(C){return C&&C.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",a="[a-fA-F\\d]{1,4}",s=["(?:".concat(a,":){7}(?:").concat(a,"|:)"),"(?:".concat(a,":){6}(?:").concat(n,"|:").concat(a,"|:)"),"(?:".concat(a,":){5}(?::").concat(n,"|(?::").concat(a,"){1,2}|:)"),"(?:".concat(a,":){4}(?:(?::").concat(a,"){0,1}:").concat(n,"|(?::").concat(a,"){1,3}|:)"),"(?:".concat(a,":){3}(?:(?::").concat(a,"){0,2}:").concat(n,"|(?::").concat(a,"){1,4}|:)"),"(?:".concat(a,":){2}(?:(?::").concat(a,"){0,3}:").concat(n,"|(?::").concat(a,"){1,5}|:)"),"(?:".concat(a,":){1}(?:(?::").concat(a,"){0,4}:").concat(n,"|(?::").concat(a,"){1,6}|:)"),"(?::(?:(?::".concat(a,"){0,5}:").concat(n,"|(?::").concat(a,"){1,7}|:))")],u="(?:%[0-9a-zA-Z]{1,})?",f="(?:".concat(s.join("|"),")").concat(u),l=new RegExp("(?:^".concat(n,"$)|(?:^").concat(f,"$)")),m=new RegExp("^".concat(n,"$")),g=new RegExp("^".concat(f,"$")),p=function(C){return C&&C.exact?l:new RegExp("(?:".concat(r(C)).concat(n).concat(r(C),")|(?:").concat(r(C)).concat(f).concat(r(C),")"),"g")};p.v4=function(x){return x&&x.exact?m:new RegExp("".concat(r(x)).concat(n).concat(r(x)),"g")},p.v6=function(x){return x&&x.exact?g:new RegExp("".concat(r(x)).concat(f).concat(r(x)),"g")};var _="(?:(?:[a-z]+:)?//)",e="(?:\\S+(?::\\S*)?@)?",o=p.v4().source,c=p.v6().source,d="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",h="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",y="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",v="(?::\\d{2,5})?",b='(?:[/?#][^\\s"]*)?',w="(?:".concat(_,"|www\\.)").concat(e,"(?:localhost|").concat(o,"|").concat(c,"|").concat(d).concat(h).concat(y,")").concat(v).concat(b);return ki=new RegExp("(?:^".concat(w,"$)"),"i"),ki};var Ls={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Qr={integer:function(r){return Qr.number(r)&&parseInt(r,10)===r},float:function(r){return Qr.number(r)&&!Qr.integer(r)},array:function(r){return Array.isArray(r)},regexp:function(r){if(r instanceof RegExp)return!0;try{return!!new RegExp(r)}catch{return!1}},date:function(r){return typeof r.getTime=="function"&&typeof r.getMonth=="function"&&typeof r.getYear=="function"&&!isNaN(r.getTime())},number:function(r){return isNaN(r)?!1:typeof r=="number"},object:function(r){return J(r)==="object"&&!Qr.array(r)},method:function(r){return typeof r=="function"},email:function(r){return typeof r=="string"&&r.length<=320&&!!r.match(Ls.email)},url:function(r){return typeof r=="string"&&r.length<=2048&&!!r.match(Jg())},hex:function(r){return typeof r=="string"&&!!r.match(Ls.hex)}},ev=function(r,n,a,s,u){if(r.required&&n===void 0){Yc(r,n,a,s,u);return}var f=["integer","float","array","regexp","object","method","email","number","date","url","hex"],l=r.type;f.indexOf(l)>-1?Qr[l](n)||s.push(Ne(u.messages.types[l],r.fullField,r.type)):l&&J(n)!==r.type&&s.push(Ne(u.messages.types[l],r.fullField,r.type))},tv=function(r,n,a,s,u){(/^\s+$/.test(n)||n==="")&&s.push(Ne(u.messages.whitespace,r.fullField))};const te={required:Yc,whitespace:tv,type:ev,range:Qg,enum:Xg,pattern:Zg};var rv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u)}a(f)},iv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(n==null&&!r.required)return a();te.required(r,n,s,f,u,"array"),n!=null&&(te.type(r,n,s,f,u),te.range(r,n,s,f,u))}a(f)},nv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u),n!==void 0&&te.type(r,n,s,f,u)}a(f)},av=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n,"date")&&!r.required)return a();if(te.required(r,n,s,f,u),!ge(n,"date")){var m;n instanceof Date?m=n:m=new Date(n),te.type(r,m,s,f,u),m&&te.range(r,m.getTime(),s,f,u)}}a(f)},ov="enum",sv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u),n!==void 0&&te[ov](r,n,s,f,u)}a(f)},lv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u),n!==void 0&&(te.type(r,n,s,f,u),te.range(r,n,s,f,u))}a(f)},cv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u),n!==void 0&&(te.type(r,n,s,f,u),te.range(r,n,s,f,u))}a(f)},uv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u),n!==void 0&&te.type(r,n,s,f,u)}a(f)},dv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(n===""&&(n=void 0),ge(n)&&!r.required)return a();te.required(r,n,s,f,u),n!==void 0&&(te.type(r,n,s,f,u),te.range(r,n,s,f,u))}a(f)},fv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u),n!==void 0&&te.type(r,n,s,f,u)}a(f)},hv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n,"string")&&!r.required)return a();te.required(r,n,s,f,u),ge(n,"string")||te.pattern(r,n,s,f,u)}a(f)},pv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n)&&!r.required)return a();te.required(r,n,s,f,u),ge(n)||te.type(r,n,s,f,u)}a(f)},mv=function(r,n,a,s,u){var f=[],l=Array.isArray(n)?"array":J(n);te.required(r,n,s,f,u,l),a(f)},gv=function(r,n,a,s,u){var f=[],l=r.required||!r.required&&s.hasOwnProperty(r.field);if(l){if(ge(n,"string")&&!r.required)return a();te.required(r,n,s,f,u,"string"),ge(n,"string")||(te.type(r,n,s,f,u),te.range(r,n,s,f,u),te.pattern(r,n,s,f,u),r.whitespace===!0&&te.whitespace(r,n,s,f,u))}a(f)},ra=function(r,n,a,s,u){var f=r.type,l=[],m=r.required||!r.required&&s.hasOwnProperty(r.field);if(m){if(ge(n,f)&&!r.required)return a();te.required(r,n,s,l,u,f),ge(n,f)||te.type(r,n,s,l,u)}a(l)};const ri={string:gv,method:uv,number:dv,boolean:nv,regexp:pv,integer:cv,float:lv,array:iv,object:fv,enum:sv,pattern:hv,date:av,url:ra,hex:ra,email:ra,required:mv,any:rv};var vi=function(){function t(r){Te(this,t),I(this,"rules",null),I(this,"_messages",Na),this.define(r)}return Ae(t,[{key:"define",value:function(n){var a=this;if(!n)throw new Error("Cannot configure a schema with no rules");if(J(n)!=="object"||Array.isArray(n))throw new Error("Rules must be an object");this.rules={},Object.keys(n).forEach(function(s){var u=n[s];a.rules[s]=Array.isArray(u)?u:[u]})}},{key:"messages",value:function(n){return n&&(this._messages=Bs(za(),n)),this._messages}},{key:"validate",value:function(n){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},f=n,l=s,m=u;if(typeof l=="function"&&(m=l,l={}),!this.rules||Object.keys(this.rules).length===0)return m&&m(null,f),Promise.resolve(f);function g(c){var d=[],h={};function y(b){if(Array.isArray(b)){var w;d=(w=d).concat.apply(w,q(b))}else d.push(b)}for(var v=0;v<c.length;v++)y(c[v]);d.length?(h=$a(d),m(d,h)):m(null,f)}if(l.messages){var p=this.messages();p===Na&&(p=za()),Bs(p,l.messages),l.messages=p}else l.messages=this.messages();var _={},e=l.keys||Object.keys(this.rules);e.forEach(function(c){var d=a.rules[c],h=f[c];d.forEach(function(y){var v=y;typeof v.transform=="function"&&(f===n&&(f=N({},f)),h=f[c]=v.transform(h),h!=null&&(v.type=v.type||(Array.isArray(h)?"array":J(h)))),typeof v=="function"?v={validator:v}:v=N({},v),v.validator=a.getValidationMethod(v),v.validator&&(v.field=c,v.fullField=v.fullField||c,v.type=a.getType(v),_[c]=_[c]||[],_[c].push({rule:v,value:h,source:f,field:c}))})});var o={};return Yg(_,l,function(c,d){var h=c.rule,y=(h.type==="object"||h.type==="array")&&(J(h.fields)==="object"||J(h.defaultField)==="object");y=y&&(h.required||!h.required&&c.value),h.field=c.field;function v(U,T){return N(N({},T),{},{fullField:"".concat(h.fullField,".").concat(U),fullFields:h.fullFields?[].concat(q(h.fullFields),[U]):[U]})}function b(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],T=Array.isArray(U)?U:[U];!l.suppressWarning&&T.length&&t.warning("async-validator:",T),T.length&&h.message!==void 0&&(T=[].concat(h.message));var E=T.map(Os(h,f));if(l.first&&E.length)return o[h.field]=1,d(E);if(!y)d(E);else{if(h.required&&!c.value)return h.message!==void 0?E=[].concat(h.message).map(Os(h,f)):l.error&&(E=[l.error(h,Ne(l.messages.required,h.field))]),d(E);var R={};h.defaultField&&Object.keys(c.value).map(function(M){R[M]=h.defaultField}),R=N(N({},R),c.rule.fields);var k={};Object.keys(R).forEach(function(M){var O=R[M],$=Array.isArray(O)?O:[O];k[M]=$.map(v.bind(null,M))});var z=new t(k);z.messages(l.messages),c.rule.options&&(c.rule.options.messages=l.messages,c.rule.options.error=l.error),z.validate(c.value,c.rule.options||l,function(M){var O=[];E&&E.length&&O.push.apply(O,q(E)),M&&M.length&&O.push.apply(O,q(M)),d(O.length?O:null)})}}var w;if(h.asyncValidator)w=h.asyncValidator(h,c.value,b,c.source,l);else if(h.validator){try{w=h.validator(h,c.value,b,c.source,l)}catch(U){var x,C;(x=(C=console).error)===null||x===void 0||x.call(C,U),l.suppressValidatorError||setTimeout(function(){throw U},0),b(U.message)}w===!0?b():w===!1?b(typeof h.message=="function"?h.message(h.fullField||h.field):h.message||"".concat(h.fullField||h.field," fails")):w instanceof Array?b(w):w instanceof Error&&b(w.message)}w&&w.then&&w.then(function(){return b()},function(U){return b(U)})},function(c){g(c)},f)}},{key:"getType",value:function(n){if(n.type===void 0&&n.pattern instanceof RegExp&&(n.type="pattern"),typeof n.validator!="function"&&n.type&&!ri.hasOwnProperty(n.type))throw new Error(Ne("Unknown rule type %s",n.type));return n.type||"string"}},{key:"getValidationMethod",value:function(n){if(typeof n.validator=="function")return n.validator;var a=Object.keys(n),s=a.indexOf("message");return s!==-1&&a.splice(s,1),a.length===1&&a[0]==="required"?ri.required:ri[this.getType(n)]||void 0}}]),t}();I(vi,"register",function(r,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");ri[r]=n});I(vi,"warning",Hg);I(vi,"messages",Na);I(vi,"validators",ri);var Oe="'${name}' is not a valid ${type}",qc={default:"Validation error on field '${name}'",required:"'${name}' is required",enum:"'${name}' must be one of [${enum}]",whitespace:"'${name}' cannot be empty",date:{format:"'${name}' is invalid for format date",parse:"'${name}' could not be parsed as date",invalid:"'${name}' is invalid date"},types:{string:Oe,method:Oe,array:Oe,object:Oe,number:Oe,date:Oe,boolean:Oe,integer:Oe,float:Oe,regexp:Oe,email:Oe,url:Oe,hex:Oe},string:{len:"'${name}' must be exactly ${len} characters",min:"'${name}' must be at least ${min} characters",max:"'${name}' cannot be longer than ${max} characters",range:"'${name}' must be between ${min} and ${max} characters"},number:{len:"'${name}' must equal ${len}",min:"'${name}' cannot be less than ${min}",max:"'${name}' cannot be greater than ${max}",range:"'${name}' must be between ${min} and ${max}"},array:{len:"'${name}' must be exactly ${len} in length",min:"'${name}' cannot be less than ${min} in length",max:"'${name}' cannot be greater than ${max} in length",range:"'${name}' must be between ${min} and ${max} in length"},pattern:{mismatch:"'${name}' does not match pattern ${pattern}"}},Ms=vi;function vv(t,r){return t.replace(/\$\{\w+\}/g,function(n){var a=n.slice(2,-1);return r[a]})}var zs="CODE_LOGIC_ERROR";function ja(t,r,n,a,s){return Ha.apply(this,arguments)}function Ha(){return Ha=ar(Ue().mark(function t(r,n,a,s,u){var f,l,m,g,p,_,e,o,c;return Ue().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return f=N({},a),delete f.ruleIndex,Ms.warning=function(){},f.validator&&(l=f.validator,f.validator=function(){try{return l.apply(void 0,arguments)}catch(y){return console.error(y),Promise.reject(zs)}}),m=null,f&&f.type==="array"&&f.defaultField&&(m=f.defaultField,delete f.defaultField),g=new Ms(I({},r,[f])),p=Er(qc,s.validateMessages),g.messages(p),_=[],h.prev=10,h.next=13,Promise.resolve(g.validate(I({},r,n),N({},s)));case 13:h.next=18;break;case 15:h.prev=15,h.t0=h.catch(10),h.t0.errors&&(_=h.t0.errors.map(function(y,v){var b=y.message,w=b===zs?p.default:b;return S.isValidElement(w)?S.cloneElement(w,{key:"error_".concat(v)}):w}));case 18:if(!(!_.length&&m)){h.next=23;break}return h.next=21,Promise.all(n.map(function(y,v){return ja("".concat(r,".").concat(v),y,m,s,u)}));case 21:return e=h.sent,h.abrupt("return",e.reduce(function(y,v){return[].concat(q(y),q(v))},[]));case 23:return o=N(N({},a),{},{name:r,enum:(a.enum||[]).join(", ")},u),c=_.map(function(y){return typeof y=="string"?vv(y,o):y}),h.abrupt("return",c);case 26:case"end":return h.stop()}},t,null,[[10,15]])})),Ha.apply(this,arguments)}function yv(t,r,n,a,s,u){var f=t.join("."),l=n.map(function(p,_){var e=p.validator,o=N(N({},p),{},{ruleIndex:_});return e&&(o.validator=function(c,d,h){var y=!1,v=function(){for(var x=arguments.length,C=new Array(x),U=0;U<x;U++)C[U]=arguments[U];Promise.resolve().then(function(){De(!y,"Your validator function has already return a promise. `callback` will be ignored."),y||h.apply(void 0,C)})},b=e(c,d,v);y=b&&typeof b.then=="function"&&typeof b.catch=="function",De(y,"`callback` is deprecated. Please return a promise instead."),y&&b.then(function(){h()}).catch(function(w){h(w||" ")})}),o}).sort(function(p,_){var e=p.warningOnly,o=p.ruleIndex,c=_.warningOnly,d=_.ruleIndex;return!!e==!!c?o-d:e?1:-1}),m;if(s===!0)m=new Promise(function(){var p=ar(Ue().mark(function _(e,o){var c,d,h;return Ue().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:c=0;case 1:if(!(c<l.length)){v.next=12;break}return d=l[c],v.next=5,ja(f,r,d,a,u);case 5:if(h=v.sent,!h.length){v.next=9;break}return o([{errors:h,rule:d}]),v.abrupt("return");case 9:c+=1,v.next=1;break;case 12:e([]);case 13:case"end":return v.stop()}},_)}));return function(_,e){return p.apply(this,arguments)}}());else{var g=l.map(function(p){return ja(f,r,p,a,u).then(function(_){return{errors:_,rule:p}})});m=(s?_v(g):bv(g)).then(function(p){return Promise.reject(p)})}return m.catch(function(p){return p}),m}function bv(t){return Va.apply(this,arguments)}function Va(){return Va=ar(Ue().mark(function t(r){return Ue().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Promise.all(r).then(function(s){var u,f=(u=[]).concat.apply(u,q(s));return f}));case 1:case"end":return a.stop()}},t)})),Va.apply(this,arguments)}function _v(t){return Ga.apply(this,arguments)}function Ga(){return Ga=ar(Ue().mark(function t(r){var n;return Ue().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return n=0,s.abrupt("return",new Promise(function(u){r.forEach(function(f){f.then(function(l){l.errors.length&&u([l]),n+=1,n===r.length&&u([])})})}));case 2:case"end":return s.stop()}},t)})),Ga.apply(this,arguments)}function de(t){return Ma(t)}function Ns(t,r){var n={};return r.forEach(function(a){var s=mt(t,a);n=Ze(n,a,s)}),n}function Ar(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t&&t.some(function(a){return Kc(r,a,n)})}function Kc(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return!t||!r||!n&&t.length!==r.length?!1:r.every(function(a,s){return t[s]===a})}function Sv(t,r){if(t===r)return!0;if(!t&&r||t&&!r||!t||!r||J(t)!=="object"||J(r)!=="object")return!1;var n=Object.keys(t),a=Object.keys(r),s=new Set([].concat(n,a));return q(s).every(function(u){var f=t[u],l=r[u];return typeof f=="function"&&typeof l=="function"?!0:f===l})}function wv(t){var r=arguments.length<=1?void 0:arguments[1];return r&&r.target&&J(r.target)==="object"&&t in r.target?r.target[t]:r}function Ds(t,r,n){var a=t.length;if(r<0||r>=a||n<0||n>=a)return t;var s=t[r],u=r-n;return u>0?[].concat(q(t.slice(0,n)),[s],q(t.slice(n,r)),q(t.slice(r+1,a))):u<0?[].concat(q(t.slice(0,r)),q(t.slice(r+1,n+1)),[s],q(t.slice(n+1,a))):t}var xv=["name"],He=[];function $s(t,r,n,a,s,u){return typeof t=="function"?t(r,n,"source"in u?{source:u.source}:{}):a!==s}var So=function(t){Or(n,t);var r=En(n);function n(a){var s;if(Te(this,n),s=r.call(this,a),I(re(s),"state",{resetCount:0}),I(re(s),"cancelRegisterFunc",null),I(re(s),"mounted",!1),I(re(s),"touched",!1),I(re(s),"dirty",!1),I(re(s),"validatePromise",void 0),I(re(s),"prevValidating",void 0),I(re(s),"errors",He),I(re(s),"warnings",He),I(re(s),"cancelRegister",function(){var m=s.props,g=m.preserve,p=m.isListField,_=m.name;s.cancelRegisterFunc&&s.cancelRegisterFunc(p,g,de(_)),s.cancelRegisterFunc=null}),I(re(s),"getNamePath",function(){var m=s.props,g=m.name,p=m.fieldContext,_=p.prefixName,e=_===void 0?[]:_;return g!==void 0?[].concat(q(e),q(g)):[]}),I(re(s),"getRules",function(){var m=s.props,g=m.rules,p=g===void 0?[]:g,_=m.fieldContext;return p.map(function(e){return typeof e=="function"?e(_):e})}),I(re(s),"refresh",function(){s.mounted&&s.setState(function(m){var g=m.resetCount;return{resetCount:g+1}})}),I(re(s),"metaCache",null),I(re(s),"triggerMetaEvent",function(m){var g=s.props.onMetaChange;if(g){var p=N(N({},s.getMeta()),{},{destroy:m});ga(s.metaCache,p)||g(p),s.metaCache=p}else s.metaCache=null}),I(re(s),"onStoreChange",function(m,g,p){var _=s.props,e=_.shouldUpdate,o=_.dependencies,c=o===void 0?[]:o,d=_.onReset,h=p.store,y=s.getNamePath(),v=s.getValue(m),b=s.getValue(h),w=g&&Ar(g,y);switch(p.type==="valueUpdate"&&p.source==="external"&&!ga(v,b)&&(s.touched=!0,s.dirty=!0,s.validatePromise=null,s.errors=He,s.warnings=He,s.triggerMetaEvent()),p.type){case"reset":if(!g||w){s.touched=!1,s.dirty=!1,s.validatePromise=void 0,s.errors=He,s.warnings=He,s.triggerMetaEvent(),d==null||d(),s.refresh();return}break;case"remove":{if(e){s.reRender();return}break}case"setField":{var x=p.data;if(w){"touched"in x&&(s.touched=x.touched),"validating"in x&&!("originRCField"in x)&&(s.validatePromise=x.validating?Promise.resolve([]):null),"errors"in x&&(s.errors=x.errors||He),"warnings"in x&&(s.warnings=x.warnings||He),s.dirty=!0,s.triggerMetaEvent(),s.reRender();return}else if("value"in x&&Ar(g,y,!0)){s.reRender();return}if(e&&!y.length&&$s(e,m,h,v,b,p)){s.reRender();return}break}case"dependenciesUpdate":{var C=c.map(de);if(C.some(function(U){return Ar(p.relatedFields,U)})){s.reRender();return}break}default:if(w||(!c.length||y.length||e)&&$s(e,m,h,v,b,p)){s.reRender();return}break}e===!0&&s.reRender()}),I(re(s),"validateRules",function(m){var g=s.getNamePath(),p=s.getValue(),_=m||{},e=_.triggerName,o=_.validateOnly,c=o===void 0?!1:o,d=Promise.resolve().then(ar(Ue().mark(function h(){var y,v,b,w,x,C,U;return Ue().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if(s.mounted){E.next=2;break}return E.abrupt("return",[]);case 2:if(y=s.props,v=y.validateFirst,b=v===void 0?!1:v,w=y.messageVariables,x=y.validateDebounce,C=s.getRules(),e&&(C=C.filter(function(R){return R}).filter(function(R){var k=R.validateTrigger;if(!k)return!0;var z=Ma(k);return z.includes(e)})),!(x&&e)){E.next=10;break}return E.next=8,new Promise(function(R){setTimeout(R,x)});case 8:if(s.validatePromise===d){E.next=10;break}return E.abrupt("return",[]);case 10:return U=yv(g,p,C,m,b,w),U.catch(function(R){return R}).then(function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:He;if(s.validatePromise===d){var k;s.validatePromise=null;var z=[],M=[];(k=R.forEach)===null||k===void 0||k.call(R,function(O){var $=O.rule.warningOnly,F=O.errors,P=F===void 0?He:F;$?M.push.apply(M,q(P)):z.push.apply(z,q(P))}),s.errors=z,s.warnings=M,s.triggerMetaEvent(),s.reRender()}}),E.abrupt("return",U);case 13:case"end":return E.stop()}},h)})));return c||(s.validatePromise=d,s.dirty=!0,s.errors=He,s.warnings=He,s.triggerMetaEvent(),s.reRender()),d}),I(re(s),"isFieldValidating",function(){return!!s.validatePromise}),I(re(s),"isFieldTouched",function(){return s.touched}),I(re(s),"isFieldDirty",function(){if(s.dirty||s.props.initialValue!==void 0)return!0;var m=s.props.fieldContext,g=m.getInternalHooks(Kt),p=g.getInitialValue;return p(s.getNamePath())!==void 0}),I(re(s),"getErrors",function(){return s.errors}),I(re(s),"getWarnings",function(){return s.warnings}),I(re(s),"isListField",function(){return s.props.isListField}),I(re(s),"isList",function(){return s.props.isList}),I(re(s),"isPreserve",function(){return s.props.preserve}),I(re(s),"getMeta",function(){s.prevValidating=s.isFieldValidating();var m={touched:s.isFieldTouched(),validating:s.prevValidating,errors:s.errors,warnings:s.warnings,name:s.getNamePath(),validated:s.validatePromise===null};return m}),I(re(s),"getOnlyChild",function(m){if(typeof m=="function"){var g=s.getMeta();return N(N({},s.getOnlyChild(m(s.getControlled(),g,s.props.fieldContext))),{},{isFunction:!0})}var p=ni(m);return p.length!==1||!S.isValidElement(p[0])?{child:p,isFunction:!1}:{child:p[0],isFunction:!1}}),I(re(s),"getValue",function(m){var g=s.props.fieldContext.getFieldsValue,p=s.getNamePath();return mt(m||g(!0),p)}),I(re(s),"getControlled",function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=s.props,p=g.name,_=g.trigger,e=g.validateTrigger,o=g.getValueFromEvent,c=g.normalize,d=g.valuePropName,h=g.getValueProps,y=g.fieldContext,v=e!==void 0?e:y.validateTrigger,b=s.getNamePath(),w=y.getInternalHooks,x=y.getFieldsValue,C=w(Kt),U=C.dispatch,T=s.getValue(),E=h||function(O){return I({},d,O)},R=m[_],k=p!==void 0?E(T):{},z=N(N({},m),k);z[_]=function(){s.touched=!0,s.dirty=!0,s.triggerMetaEvent();for(var O,$=arguments.length,F=new Array($),P=0;P<$;P++)F[P]=arguments[P];o?O=o.apply(void 0,F):O=wv.apply(void 0,[d].concat(F)),c&&(O=c(O,T,x(!0))),U({type:"updateValue",namePath:b,value:O}),R&&R.apply(void 0,F)};var M=Ma(v||[]);return M.forEach(function(O){var $=z[O];z[O]=function(){$&&$.apply(void 0,arguments);var F=s.props.rules;F&&F.length&&U({type:"validateField",namePath:b,triggerName:O})}}),z}),a.fieldContext){var u=a.fieldContext.getInternalHooks,f=u(Kt),l=f.initEntityValue;l(re(s))}return s}return Ae(n,[{key:"componentDidMount",value:function(){var s=this.props,u=s.shouldUpdate,f=s.fieldContext;if(this.mounted=!0,f){var l=f.getInternalHooks,m=l(Kt),g=m.registerField;this.cancelRegisterFunc=g(this)}u===!0&&this.reRender()}},{key:"componentWillUnmount",value:function(){this.cancelRegister(),this.triggerMetaEvent(!0),this.mounted=!1}},{key:"reRender",value:function(){this.mounted&&this.forceUpdate()}},{key:"render",value:function(){var s=this.state.resetCount,u=this.props.children,f=this.getOnlyChild(u),l=f.child,m=f.isFunction,g;return m?g=l:S.isValidElement(l)?g=S.cloneElement(l,this.getControlled(l.props)):(De(!l,"`children` of Field is not validate ReactElement."),g=l),S.createElement(S.Fragment,{key:s},g)}}]),n}(S.Component);I(So,"contextType",Rr);I(So,"defaultProps",{trigger:"onChange",valuePropName:"value"});function Xc(t){var r=t.name,n=rt(t,xv),a=S.useContext(Rr),s=S.useContext(un),u=r!==void 0?de(r):void 0,f="keep";return n.isListField||(f="_".concat((u||[]).join("_"))),S.createElement(So,ye({key:f,name:u,isListField:!!s},n,{fieldContext:a}))}function Cv(t){var r=t.name,n=t.initialValue,a=t.children,s=t.rules,u=t.validateTrigger,f=t.isListField,l=S.useContext(Rr),m=S.useContext(un),g=S.useRef({keys:[],id:0}),p=g.current,_=S.useMemo(function(){var d=de(l.prefixName)||[];return[].concat(q(d),q(de(r)))},[l.prefixName,r]),e=S.useMemo(function(){return N(N({},l),{},{prefixName:_})},[l,_]),o=S.useMemo(function(){return{getKey:function(h){var y=_.length,v=h[y];return[p.keys[v],h.slice(y+1)]}}},[_]);if(typeof a!="function")return De(!1,"Form.List only accepts function as children."),null;var c=function(h,y,v){var b=v.source;return b==="internal"?!1:h!==y};return S.createElement(un.Provider,{value:o},S.createElement(Rr.Provider,{value:e},S.createElement(Xc,{name:[],shouldUpdate:c,rules:s,validateTrigger:u,initialValue:n,isList:!0,isListField:f??!!m},function(d,h){var y=d.value,v=y===void 0?[]:y,b=d.onChange,w=l.getFieldValue,x=function(){var E=w(_||[]);return E||[]},C={add:function(E,R){var k=x();R>=0&&R<=k.length?(p.keys=[].concat(q(p.keys.slice(0,R)),[p.id],q(p.keys.slice(R))),b([].concat(q(k.slice(0,R)),[E],q(k.slice(R))))):(p.keys=[].concat(q(p.keys),[p.id]),b([].concat(q(k),[E]))),p.id+=1},remove:function(E){var R=x(),k=new Set(Array.isArray(E)?E:[E]);k.size<=0||(p.keys=p.keys.filter(function(z,M){return!k.has(M)}),b(R.filter(function(z,M){return!k.has(M)})))},move:function(E,R){if(E!==R){var k=x();E<0||E>=k.length||R<0||R>=k.length||(p.keys=Ds(p.keys,E,R),b(Ds(k,E,R)))}}},U=v||[];return Array.isArray(U)||(U=[]),a(U.map(function(T,E){var R=p.keys[E];return R===void 0&&(p.keys[E]=p.id,R=p.keys[E],p.id+=1),{name:E,key:R,isListField:!0}}),C,h)})))}function Ev(t){var r=!1,n=t.length,a=[];return t.length?new Promise(function(s,u){t.forEach(function(f,l){f.catch(function(m){return r=!0,m}).then(function(m){n-=1,a[l]=m,!(n>0)&&(r&&u(a),s(a))})})}):Promise.resolve([])}var Zc="__@field_split__";function ia(t){return t.map(function(r){return"".concat(J(r),":").concat(r)}).join(Zc)}var ur=function(){function t(){Te(this,t),I(this,"kvs",new Map)}return Ae(t,[{key:"set",value:function(n,a){this.kvs.set(ia(n),a)}},{key:"get",value:function(n){return this.kvs.get(ia(n))}},{key:"update",value:function(n,a){var s=this.get(n),u=a(s);u?this.set(n,u):this.delete(n)}},{key:"delete",value:function(n){this.kvs.delete(ia(n))}},{key:"map",value:function(n){return q(this.kvs.entries()).map(function(a){var s=W(a,2),u=s[0],f=s[1],l=u.split(Zc);return n({key:l.map(function(m){var g=m.match(/^([^:]*):(.*)$/),p=W(g,3),_=p[1],e=p[2];return _==="number"?Number(e):e}),value:f})})}},{key:"toJSON",value:function(){var n={};return this.map(function(a){var s=a.key,u=a.value;return n[s.join(".")]=u,null}),n}}]),t}(),Uv=["name"],Tv=Ae(function t(r){var n=this;Te(this,t),I(this,"formHooked",!1),I(this,"forceRootUpdate",void 0),I(this,"subscribable",!0),I(this,"store",{}),I(this,"fieldEntities",[]),I(this,"initialValues",{}),I(this,"callbacks",{}),I(this,"validateMessages",null),I(this,"preserve",null),I(this,"lastValidatePromise",null),I(this,"getForm",function(){return{getFieldValue:n.getFieldValue,getFieldsValue:n.getFieldsValue,getFieldError:n.getFieldError,getFieldWarning:n.getFieldWarning,getFieldsError:n.getFieldsError,isFieldsTouched:n.isFieldsTouched,isFieldTouched:n.isFieldTouched,isFieldValidating:n.isFieldValidating,isFieldsValidating:n.isFieldsValidating,resetFields:n.resetFields,setFields:n.setFields,setFieldValue:n.setFieldValue,setFieldsValue:n.setFieldsValue,validateFields:n.validateFields,submit:n.submit,_init:!0,getInternalHooks:n.getInternalHooks}}),I(this,"getInternalHooks",function(a){return a===Kt?(n.formHooked=!0,{dispatch:n.dispatch,initEntityValue:n.initEntityValue,registerField:n.registerField,useSubscribe:n.useSubscribe,setInitialValues:n.setInitialValues,destroyForm:n.destroyForm,setCallbacks:n.setCallbacks,setValidateMessages:n.setValidateMessages,getFields:n.getFields,setPreserve:n.setPreserve,getInitialValue:n.getInitialValue,registerWatch:n.registerWatch}):(De(!1,"`getInternalHooks` is internal usage. Should not call directly."),null)}),I(this,"useSubscribe",function(a){n.subscribable=a}),I(this,"prevWithoutPreserves",null),I(this,"setInitialValues",function(a,s){if(n.initialValues=a||{},s){var u,f=Er(a,n.store);(u=n.prevWithoutPreserves)===null||u===void 0||u.map(function(l){var m=l.key;f=Ze(f,m,mt(a,m))}),n.prevWithoutPreserves=null,n.updateStore(f)}}),I(this,"destroyForm",function(a){if(a)n.updateStore({});else{var s=new ur;n.getFieldEntities(!0).forEach(function(u){n.isMergedPreserve(u.isPreserve())||s.set(u.getNamePath(),!0)}),n.prevWithoutPreserves=s}}),I(this,"getInitialValue",function(a){var s=mt(n.initialValues,a);return a.length?Er(s):s}),I(this,"setCallbacks",function(a){n.callbacks=a}),I(this,"setValidateMessages",function(a){n.validateMessages=a}),I(this,"setPreserve",function(a){n.preserve=a}),I(this,"watchList",[]),I(this,"registerWatch",function(a){return n.watchList.push(a),function(){n.watchList=n.watchList.filter(function(s){return s!==a})}}),I(this,"notifyWatch",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(n.watchList.length){var s=n.getFieldsValue(),u=n.getFieldsValue(!0);n.watchList.forEach(function(f){f(s,u,a)})}}),I(this,"timeoutId",null),I(this,"warningUnhooked",function(){}),I(this,"updateStore",function(a){n.store=a}),I(this,"getFieldEntities",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return a?n.fieldEntities.filter(function(s){return s.getNamePath().length}):n.fieldEntities}),I(this,"getFieldsMap",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,s=new ur;return n.getFieldEntities(a).forEach(function(u){var f=u.getNamePath();s.set(f,u)}),s}),I(this,"getFieldEntitiesForNamePathList",function(a){if(!a)return n.getFieldEntities(!0);var s=n.getFieldsMap(!0);return a.map(function(u){var f=de(u);return s.get(f)||{INVALIDATE_NAME_PATH:de(u)}})}),I(this,"getFieldsValue",function(a,s){n.warningUnhooked();var u,f,l;if(a===!0||Array.isArray(a)?(u=a,f=s):a&&J(a)==="object"&&(l=a.strict,f=a.filter),u===!0&&!f)return n.store;var m=n.getFieldEntitiesForNamePathList(Array.isArray(u)?u:null),g=[];return m.forEach(function(p){var _,e,o="INVALIDATE_NAME_PATH"in p?p.INVALIDATE_NAME_PATH:p.getNamePath();if(l){var c,d;if((c=(d=p).isList)!==null&&c!==void 0&&c.call(d))return}else if(!u&&(_=(e=p).isListField)!==null&&_!==void 0&&_.call(e))return;if(!f)g.push(o);else{var h="getMeta"in p?p.getMeta():null;f(h)&&g.push(o)}}),Ns(n.store,g.map(de))}),I(this,"getFieldValue",function(a){n.warningUnhooked();var s=de(a);return mt(n.store,s)}),I(this,"getFieldsError",function(a){n.warningUnhooked();var s=n.getFieldEntitiesForNamePathList(a);return s.map(function(u,f){return u&&!("INVALIDATE_NAME_PATH"in u)?{name:u.getNamePath(),errors:u.getErrors(),warnings:u.getWarnings()}:{name:de(a[f]),errors:[],warnings:[]}})}),I(this,"getFieldError",function(a){n.warningUnhooked();var s=de(a),u=n.getFieldsError([s])[0];return u.errors}),I(this,"getFieldWarning",function(a){n.warningUnhooked();var s=de(a),u=n.getFieldsError([s])[0];return u.warnings}),I(this,"isFieldsTouched",function(){n.warningUnhooked();for(var a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var f=s[0],l=s[1],m,g=!1;s.length===0?m=null:s.length===1?Array.isArray(f)?(m=f.map(de),g=!1):(m=null,g=f):(m=f.map(de),g=l);var p=n.getFieldEntities(!0),_=function(h){return h.isFieldTouched()};if(!m)return g?p.every(function(d){return _(d)||d.isList()}):p.some(_);var e=new ur;m.forEach(function(d){e.set(d,[])}),p.forEach(function(d){var h=d.getNamePath();m.forEach(function(y){y.every(function(v,b){return h[b]===v})&&e.update(y,function(v){return[].concat(q(v),[d])})})});var o=function(h){return h.some(_)},c=e.map(function(d){var h=d.value;return h});return g?c.every(o):c.some(o)}),I(this,"isFieldTouched",function(a){return n.warningUnhooked(),n.isFieldsTouched([a])}),I(this,"isFieldsValidating",function(a){n.warningUnhooked();var s=n.getFieldEntities();if(!a)return s.some(function(f){return f.isFieldValidating()});var u=a.map(de);return s.some(function(f){var l=f.getNamePath();return Ar(u,l)&&f.isFieldValidating()})}),I(this,"isFieldValidating",function(a){return n.warningUnhooked(),n.isFieldsValidating([a])}),I(this,"resetWithFieldInitialValue",function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=new ur,u=n.getFieldEntities(!0);u.forEach(function(m){var g=m.props.initialValue,p=m.getNamePath();if(g!==void 0){var _=s.get(p)||new Set;_.add({entity:m,value:g}),s.set(p,_)}});var f=function(g){g.forEach(function(p){var _=p.props.initialValue;if(_!==void 0){var e=p.getNamePath(),o=n.getInitialValue(e);if(o!==void 0)De(!1,"Form already set 'initialValues' with path '".concat(e.join("."),"'. Field can not overwrite it."));else{var c=s.get(e);if(c&&c.size>1)De(!1,"Multiple Field with path '".concat(e.join("."),"' set 'initialValue'. Can not decide which one to pick."));else if(c){var d=n.getFieldValue(e),h=p.isListField();!h&&(!a.skipExist||d===void 0)&&n.updateStore(Ze(n.store,e,q(c)[0].value))}}}})},l;a.entities?l=a.entities:a.namePathList?(l=[],a.namePathList.forEach(function(m){var g=s.get(m);if(g){var p;(p=l).push.apply(p,q(q(g).map(function(_){return _.entity})))}})):l=u,f(l)}),I(this,"resetFields",function(a){n.warningUnhooked();var s=n.store;if(!a){n.updateStore(Er(n.initialValues)),n.resetWithFieldInitialValue(),n.notifyObservers(s,null,{type:"reset"}),n.notifyWatch();return}var u=a.map(de);u.forEach(function(f){var l=n.getInitialValue(f);n.updateStore(Ze(n.store,f,l))}),n.resetWithFieldInitialValue({namePathList:u}),n.notifyObservers(s,u,{type:"reset"}),n.notifyWatch(u)}),I(this,"setFields",function(a){n.warningUnhooked();var s=n.store,u=[];a.forEach(function(f){var l=f.name,m=rt(f,Uv),g=de(l);u.push(g),"value"in m&&n.updateStore(Ze(n.store,g,m.value)),n.notifyObservers(s,[g],{type:"setField",data:f})}),n.notifyWatch(u)}),I(this,"getFields",function(){var a=n.getFieldEntities(!0),s=a.map(function(u){var f=u.getNamePath(),l=u.getMeta(),m=N(N({},l),{},{name:f,value:n.getFieldValue(f)});return Object.defineProperty(m,"originRCField",{value:!0}),m});return s}),I(this,"initEntityValue",function(a){var s=a.props.initialValue;if(s!==void 0){var u=a.getNamePath(),f=mt(n.store,u);f===void 0&&n.updateStore(Ze(n.store,u,s))}}),I(this,"isMergedPreserve",function(a){var s=a!==void 0?a:n.preserve;return s??!0}),I(this,"registerField",function(a){n.fieldEntities.push(a);var s=a.getNamePath();if(n.notifyWatch([s]),a.props.initialValue!==void 0){var u=n.store;n.resetWithFieldInitialValue({entities:[a],skipExist:!0}),n.notifyObservers(u,[a.getNamePath()],{type:"valueUpdate",source:"internal"})}return function(f,l){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(n.fieldEntities=n.fieldEntities.filter(function(_){return _!==a}),!n.isMergedPreserve(l)&&(!f||m.length>1)){var g=f?void 0:n.getInitialValue(s);if(s.length&&n.getFieldValue(s)!==g&&n.fieldEntities.every(function(_){return!Kc(_.getNamePath(),s)})){var p=n.store;n.updateStore(Ze(p,s,g,!0)),n.notifyObservers(p,[s],{type:"remove"}),n.triggerDependenciesUpdate(p,s)}}n.notifyWatch([s])}}),I(this,"dispatch",function(a){switch(a.type){case"updateValue":{var s=a.namePath,u=a.value;n.updateValue(s,u);break}case"validateField":{var f=a.namePath,l=a.triggerName;n.validateFields([f],{triggerName:l});break}}}),I(this,"notifyObservers",function(a,s,u){if(n.subscribable){var f=N(N({},u),{},{store:n.getFieldsValue(!0)});n.getFieldEntities().forEach(function(l){var m=l.onStoreChange;m(a,s,f)})}else n.forceRootUpdate()}),I(this,"triggerDependenciesUpdate",function(a,s){var u=n.getDependencyChildrenFields(s);return u.length&&n.validateFields(u),n.notifyObservers(a,u,{type:"dependenciesUpdate",relatedFields:[s].concat(q(u))}),u}),I(this,"updateValue",function(a,s){var u=de(a),f=n.store;n.updateStore(Ze(n.store,u,s)),n.notifyObservers(f,[u],{type:"valueUpdate",source:"internal"}),n.notifyWatch([u]);var l=n.triggerDependenciesUpdate(f,u),m=n.callbacks.onValuesChange;if(m){var g=Ns(n.store,[u]);m(g,n.getFieldsValue())}n.triggerOnFieldsChange([u].concat(q(l)))}),I(this,"setFieldsValue",function(a){n.warningUnhooked();var s=n.store;if(a){var u=Er(n.store,a);n.updateStore(u)}n.notifyObservers(s,null,{type:"valueUpdate",source:"external"}),n.notifyWatch()}),I(this,"setFieldValue",function(a,s){n.setFields([{name:a,value:s}])}),I(this,"getDependencyChildrenFields",function(a){var s=new Set,u=[],f=new ur;n.getFieldEntities().forEach(function(m){var g=m.props.dependencies;(g||[]).forEach(function(p){var _=de(p);f.update(_,function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Set;return e.add(m),e})})});var l=function m(g){var p=f.get(g)||new Set;p.forEach(function(_){if(!s.has(_)){s.add(_);var e=_.getNamePath();_.isFieldDirty()&&e.length&&(u.push(e),m(e))}})};return l(a),u}),I(this,"triggerOnFieldsChange",function(a,s){var u=n.callbacks.onFieldsChange;if(u){var f=n.getFields();if(s){var l=new ur;s.forEach(function(g){var p=g.name,_=g.errors;l.set(p,_)}),f.forEach(function(g){g.errors=l.get(g.name)||g.errors})}var m=f.filter(function(g){var p=g.name;return Ar(a,p)});m.length&&u(m,f)}}),I(this,"validateFields",function(a,s){n.warningUnhooked();var u,f;Array.isArray(a)||typeof a=="string"||typeof s=="string"?(u=a,f=s):f=a;var l=!!u,m=l?u.map(de):[],g=[],p=String(Date.now()),_=new Set,e=f||{},o=e.recursive,c=e.dirty;n.getFieldEntities(!0).forEach(function(v){if(l||m.push(v.getNamePath()),!(!v.props.rules||!v.props.rules.length)&&!(c&&!v.isFieldDirty())){var b=v.getNamePath();if(_.add(b.join(p)),!l||Ar(m,b,o)){var w=v.validateRules(N({validateMessages:N(N({},qc),n.validateMessages)},f));g.push(w.then(function(){return{name:b,errors:[],warnings:[]}}).catch(function(x){var C,U=[],T=[];return(C=x.forEach)===null||C===void 0||C.call(x,function(E){var R=E.rule.warningOnly,k=E.errors;R?T.push.apply(T,q(k)):U.push.apply(U,q(k))}),U.length?Promise.reject({name:b,errors:U,warnings:T}):{name:b,errors:U,warnings:T}}))}}});var d=Ev(g);n.lastValidatePromise=d,d.catch(function(v){return v}).then(function(v){var b=v.map(function(w){var x=w.name;return x});n.notifyObservers(n.store,b,{type:"validateFinish"}),n.triggerOnFieldsChange(b,v)});var h=d.then(function(){return n.lastValidatePromise===d?Promise.resolve(n.getFieldsValue(m)):Promise.reject([])}).catch(function(v){var b=v.filter(function(w){return w&&w.errors.length});return Promise.reject({values:n.getFieldsValue(m),errorFields:b,outOfDate:n.lastValidatePromise!==d})});h.catch(function(v){return v});var y=m.filter(function(v){return _.has(v.join(p))});return n.triggerOnFieldsChange(y),h}),I(this,"submit",function(){n.warningUnhooked(),n.validateFields().then(function(a){var s=n.callbacks.onFinish;if(s)try{s(a)}catch(u){console.error(u)}}).catch(function(a){var s=n.callbacks.onFinishFailed;s&&s(a)})}),this.forceRootUpdate=r});function Qc(t){var r=S.useRef(),n=S.useState({}),a=W(n,2),s=a[1];if(!r.current)if(t)r.current=t;else{var u=function(){s({})},f=new Tv(u);r.current=f.getForm()}return[r.current]}var Wa=S.createContext({triggerFormChange:function(){},triggerFormFinish:function(){},registerForm:function(){},unregisterForm:function(){}}),Av=function(r){var n=r.validateMessages,a=r.onFormChange,s=r.onFormFinish,u=r.children,f=S.useContext(Wa),l=S.useRef({});return S.createElement(Wa.Provider,{value:N(N({},f),{},{validateMessages:N(N({},f.validateMessages),n),triggerFormChange:function(g,p){a&&a(g,{changedFields:p,forms:l.current}),f.triggerFormChange(g,p)},triggerFormFinish:function(g,p){s&&s(g,{values:p,forms:l.current}),f.triggerFormFinish(g,p)},registerForm:function(g,p){g&&(l.current=N(N({},l.current),{},I({},g,p))),f.registerForm(g,p)},unregisterForm:function(g){var p=N({},l.current);delete p[g],l.current=p,f.unregisterForm(g)}})},u)},Fv=["name","initialValues","fields","form","preserve","children","component","validateMessages","validateTrigger","onValuesChange","onFieldsChange","onFinish","onFinishFailed","clearOnDestroy"],Pv=function(r,n){var a=r.name,s=r.initialValues,u=r.fields,f=r.form,l=r.preserve,m=r.children,g=r.component,p=g===void 0?"form":g,_=r.validateMessages,e=r.validateTrigger,o=e===void 0?"onChange":e,c=r.onValuesChange,d=r.onFieldsChange,h=r.onFinish,y=r.onFinishFailed,v=r.clearOnDestroy,b=rt(r,Fv),w=S.useRef(null),x=S.useContext(Wa),C=Qc(f),U=W(C,1),T=U[0],E=T.getInternalHooks(Kt),R=E.useSubscribe,k=E.setInitialValues,z=E.setCallbacks,M=E.setValidateMessages,O=E.setPreserve,$=E.destroyForm;S.useImperativeHandle(n,function(){return N(N({},T),{},{nativeElement:w.current})}),S.useEffect(function(){return x.registerForm(a,T),function(){x.unregisterForm(a)}},[x,T,a]),M(N(N({},x.validateMessages),_)),z({onValuesChange:c,onFieldsChange:function(Y){if(x.triggerFormChange(a,Y),d){for(var G=arguments.length,ee=new Array(G>1?G-1:0),ie=1;ie<G;ie++)ee[ie-1]=arguments[ie];d.apply(void 0,[Y].concat(ee))}},onFinish:function(Y){x.triggerFormFinish(a,Y),h&&h(Y)},onFinishFailed:y}),O(l);var F=S.useRef(null);k(s,!F.current),F.current||(F.current=!0),S.useEffect(function(){return function(){return $(v)}},[]);var P,L=typeof m=="function";if(L){var D=T.getFieldsValue(!0);P=m(D,T)}else P=m;R(!L);var j=S.useRef();S.useEffect(function(){Sv(j.current||[],u||[])||T.setFields(u||[]),j.current=u},[u,T]);var B=S.useMemo(function(){return N(N({},T),{},{validateTrigger:o})},[T,o]),H=S.createElement(un.Provider,{value:null},S.createElement(Rr.Provider,{value:B},P));return p===!1?H:S.createElement(p,ye({},b,{ref:w,onSubmit:function(Y){Y.preventDefault(),Y.stopPropagation(),T.submit()},onReset:function(Y){var G;Y.preventDefault(),T.resetFields(),(G=b.onReset)===null||G===void 0||G.call(b,Y)}}),H)};function js(t){try{return JSON.stringify(t)}catch{return Math.random()}}function Iv(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r[0],s=r[1],u=s===void 0?{}:s,f=Ng(u)?{form:u}:u,l=f.form,m=S.useState(),g=W(m,2),p=g[0],_=g[1],e=S.useMemo(function(){return js(p)},[p]),o=S.useRef(e);o.current=e;var c=S.useContext(Rr),d=l||c,h=d&&d._init,y=de(a),v=S.useRef(y);return v.current=y,S.useEffect(function(){if(h){var b=d.getFieldsValue,w=d.getInternalHooks,x=w(Kt),C=x.registerWatch,U=function(k,z){var M=f.preserve?z:k;return typeof a=="function"?a(M):mt(M,v.current)},T=C(function(R,k){var z=U(R,k),M=js(z);o.current!==M&&(o.current=M,_(z))}),E=U(b(),b(!0));return p!==E&&_(E),T}},[h]),p}var kv=S.forwardRef(Pv),yi=kv;yi.FormProvider=Av;yi.Field=Xc;yi.List=Cv;yi.useForm=Qc;yi.useWatch=Iv;const Rv=S.createContext({}),Ov=K.createContext({}),Jc=S.createContext(null),Bv=Jc.Provider,eu=S.createContext(null),Lv=eu.Provider;var Mv=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],zv=S.forwardRef(function(t,r){var n=t.prefixCls,a=n===void 0?"rc-checkbox":n,s=t.className,u=t.style,f=t.checked,l=t.disabled,m=t.defaultChecked,g=m===void 0?!1:m,p=t.type,_=p===void 0?"checkbox":p,e=t.title,o=t.onChange,c=rt(t,Mv),d=S.useRef(null),h=S.useRef(null),y=oc(g,{value:f}),v=W(y,2),b=v[0],w=v[1];S.useImperativeHandle(r,function(){return{focus:function(T){var E;(E=d.current)===null||E===void 0||E.focus(T)},blur:function(){var T;(T=d.current)===null||T===void 0||T.blur()},input:d.current,nativeElement:h.current}});var x=se(a,s,I(I({},"".concat(a,"-checked"),b),"".concat(a,"-disabled"),l)),C=function(T){l||("checked"in t||w(T.target.checked),o==null||o({target:N(N({},t),{},{type:_,checked:T.target.checked}),stopPropagation:function(){T.stopPropagation()},preventDefault:function(){T.preventDefault()},nativeEvent:T.nativeEvent}))};return S.createElement("span",{className:x,title:e,style:u,ref:h},S.createElement("input",ye({},c,{className:"".concat(a,"-input"),ref:d,onChange:C,disabled:l,checked:!!b,type:_})),S.createElement("span",{className:"".concat(a,"-inner")}))});const Nv=t=>{const{componentCls:r,antCls:n}=t,a=`${r}-group`;return{[a]:Object.assign(Object.assign({},on(t)),{display:"inline-block",fontSize:0,[`&${a}-rtl`]:{direction:"rtl"},[`${n}-badge ${n}-badge-count`]:{zIndex:1},[`> ${n}-badge:not(:first-child) > ${n}-button-wrapper`]:{borderInlineStart:"none"}})}},Dv=t=>{const{componentCls:r,wrapperMarginInlineEnd:n,colorPrimary:a,radioSize:s,motionDurationSlow:u,motionDurationMid:f,motionEaseInOutCirc:l,colorBgContainer:m,colorBorder:g,lineWidth:p,colorBgContainerDisabled:_,colorTextDisabled:e,paddingXS:o,dotColorDisabled:c,lineType:d,radioColor:h,radioBgColor:y,calc:v}=t,b=`${r}-inner`,x=v(s).sub(v(4).mul(2)),C=v(1).mul(s).equal({unit:!0});return{[`${r}-wrapper`]:Object.assign(Object.assign({},on(t)),{display:"inline-flex",alignItems:"baseline",marginInlineStart:0,marginInlineEnd:n,cursor:"pointer",[`&${r}-wrapper-rtl`]:{direction:"rtl"},"&-disabled":{cursor:"not-allowed",color:t.colorTextDisabled},"&::after":{display:"inline-block",width:0,overflow:"hidden",content:'"\\a0"'},[`${r}-checked::after`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:"100%",height:"100%",border:`${Ee(p)} ${d} ${a}`,borderRadius:"50%",visibility:"hidden",opacity:0,content:'""'},[r]:Object.assign(Object.assign({},on(t)),{position:"relative",display:"inline-block",outline:"none",cursor:"pointer",alignSelf:"center",borderRadius:"50%"}),[`${r}-wrapper:hover &,
        &:hover ${b}`]:{borderColor:a},[`${r}-input:focus-visible + ${b}`]:Object.assign({},co(t)),[`${r}:hover::after, ${r}-wrapper:hover &::after`]:{visibility:"visible"},[`${r}-inner`]:{"&::after":{boxSizing:"border-box",position:"absolute",insetBlockStart:"50%",insetInlineStart:"50%",display:"block",width:C,height:C,marginBlockStart:v(1).mul(s).div(-2).equal({unit:!0}),marginInlineStart:v(1).mul(s).div(-2).equal({unit:!0}),backgroundColor:h,borderBlockStart:0,borderInlineStart:0,borderRadius:C,transform:"scale(0)",opacity:0,transition:`all ${u} ${l}`,content:'""'},boxSizing:"border-box",position:"relative",insetBlockStart:0,insetInlineStart:0,display:"block",width:C,height:C,backgroundColor:m,borderColor:g,borderStyle:"solid",borderWidth:p,borderRadius:"50%",transition:`all ${f}`},[`${r}-input`]:{position:"absolute",inset:0,zIndex:1,cursor:"pointer",opacity:0},[`${r}-checked`]:{[b]:{borderColor:a,backgroundColor:y,"&::after":{transform:`scale(${t.calc(t.dotSize).div(s).equal()})`,opacity:1,transition:`all ${u} ${l}`}}},[`${r}-disabled`]:{cursor:"not-allowed",[b]:{backgroundColor:_,borderColor:g,cursor:"not-allowed","&::after":{backgroundColor:c}},[`${r}-input`]:{cursor:"not-allowed"},[`${r}-disabled + span`]:{color:e,cursor:"not-allowed"},[`&${r}-checked`]:{[b]:{"&::after":{transform:`scale(${v(x).div(s).equal()})`}}}},[`span${r} + *`]:{paddingInlineStart:o,paddingInlineEnd:o}})}},$v=t=>{const{buttonColor:r,controlHeight:n,componentCls:a,lineWidth:s,lineType:u,colorBorder:f,motionDurationSlow:l,motionDurationMid:m,buttonPaddingInline:g,fontSize:p,buttonBg:_,fontSizeLG:e,controlHeightLG:o,controlHeightSM:c,paddingXS:d,borderRadius:h,borderRadiusSM:y,borderRadiusLG:v,buttonCheckedBg:b,buttonSolidCheckedColor:w,colorTextDisabled:x,colorBgContainerDisabled:C,buttonCheckedBgDisabled:U,buttonCheckedColorDisabled:T,colorPrimary:E,colorPrimaryHover:R,colorPrimaryActive:k,buttonSolidCheckedBg:z,buttonSolidCheckedHoverBg:M,buttonSolidCheckedActiveBg:O,calc:$}=t;return{[`${a}-button-wrapper`]:{position:"relative",display:"inline-block",height:n,margin:0,paddingInline:g,paddingBlock:0,color:r,fontSize:p,lineHeight:Ee($(n).sub($(s).mul(2)).equal()),background:_,border:`${Ee(s)} ${u} ${f}`,borderBlockStartWidth:$(s).add(.02).equal(),borderInlineStartWidth:0,borderInlineEndWidth:s,cursor:"pointer",transition:[`color ${m}`,`background ${m}`,`box-shadow ${m}`].join(","),a:{color:r},[`> ${a}-button`]:{position:"absolute",insetBlockStart:0,insetInlineStart:0,zIndex:-1,width:"100%",height:"100%"},"&:not(:first-child)":{"&::before":{position:"absolute",insetBlockStart:$(s).mul(-1).equal(),insetInlineStart:$(s).mul(-1).equal(),display:"block",boxSizing:"content-box",width:1,height:"100%",paddingBlock:s,paddingInline:0,backgroundColor:f,transition:`background-color ${l}`,content:'""'}},"&:first-child":{borderInlineStart:`${Ee(s)} ${u} ${f}`,borderStartStartRadius:h,borderEndStartRadius:h},"&:last-child":{borderStartEndRadius:h,borderEndEndRadius:h},"&:first-child:last-child":{borderRadius:h},[`${a}-group-large &`]:{height:o,fontSize:e,lineHeight:Ee($(o).sub($(s).mul(2)).equal()),"&:first-child":{borderStartStartRadius:v,borderEndStartRadius:v},"&:last-child":{borderStartEndRadius:v,borderEndEndRadius:v}},[`${a}-group-small &`]:{height:c,paddingInline:$(d).sub(s).equal(),paddingBlock:0,lineHeight:Ee($(c).sub($(s).mul(2)).equal()),"&:first-child":{borderStartStartRadius:y,borderEndStartRadius:y},"&:last-child":{borderStartEndRadius:y,borderEndEndRadius:y}},"&:hover":{position:"relative",color:E},"&:has(:focus-visible)":Object.assign({},co(t)),[`${a}-inner, input[type='checkbox'], input[type='radio']`]:{width:0,height:0,opacity:0,pointerEvents:"none"},[`&-checked:not(${a}-button-wrapper-disabled)`]:{zIndex:1,color:E,background:b,borderColor:E,"&::before":{backgroundColor:E},"&:first-child":{borderColor:E},"&:hover":{color:R,borderColor:R,"&::before":{backgroundColor:R}},"&:active":{color:k,borderColor:k,"&::before":{backgroundColor:k}}},[`${a}-group-solid &-checked:not(${a}-button-wrapper-disabled)`]:{color:w,background:z,borderColor:z,"&:hover":{color:w,background:M,borderColor:M},"&:active":{color:w,background:O,borderColor:O}},"&-disabled":{color:x,backgroundColor:C,borderColor:f,cursor:"not-allowed","&:first-child, &:hover":{color:x,backgroundColor:C,borderColor:f}},[`&-disabled${a}-button-wrapper-checked`]:{color:T,backgroundColor:U,borderColor:f,boxShadow:"none"}}}},jv=t=>{const{wireframe:r,padding:n,marginXS:a,lineWidth:s,fontSizeLG:u,colorText:f,colorBgContainer:l,colorTextDisabled:m,controlItemBgActiveDisabled:g,colorTextLightSolid:p,colorPrimary:_,colorPrimaryHover:e,colorPrimaryActive:o,colorWhite:c}=t,d=4,h=u,y=r?h-d*2:h-(d+s)*2;return{radioSize:h,dotSize:y,dotColorDisabled:m,buttonSolidCheckedColor:p,buttonSolidCheckedBg:_,buttonSolidCheckedHoverBg:e,buttonSolidCheckedActiveBg:o,buttonBg:l,buttonCheckedBg:l,buttonColor:f,buttonCheckedBgDisabled:g,buttonCheckedColorDisabled:m,buttonPaddingInline:n-s,wrapperMarginInlineEnd:a,radioColor:r?_:c,radioBgColor:r?l:_}},tu=In("Radio",t=>{const{controlOutline:r,controlOutlineWidth:n}=t,a=`0 0 0 ${Ee(n)} ${r}`,u=Tt(t,{radioFocusShadow:a,radioButtonFocusShadow:a});return[Nv(u),Dv(u),$v(u)]},jv,{unitless:{radioSize:!0,dotSize:!0}});var Hv=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const Vv=(t,r)=>{var n,a;const s=S.useContext(Jc),u=S.useContext(eu),{getPrefixCls:f,direction:l,radio:m}=S.useContext(Ce),g=S.useRef(null),p=xn(r,g),{isFormItemInput:_}=S.useContext(Rv),e=O=>{var $,F;($=t.onChange)===null||$===void 0||$.call(t,O),(F=s==null?void 0:s.onChange)===null||F===void 0||F.call(s,O)},{prefixCls:o,className:c,rootClassName:d,children:h,style:y,title:v}=t,b=Hv(t,["prefixCls","className","rootClassName","children","style","title"]),w=f("radio",o),x=((s==null?void 0:s.optionType)||u)==="button",C=x?`${w}-button`:w,U=kn(w),[T,E,R]=tu(w,U),k=Object.assign({},b),z=S.useContext(ui);s&&(k.name=s.name,k.onChange=e,k.checked=t.value===s.value,k.disabled=(n=k.disabled)!==null&&n!==void 0?n:s.disabled),k.disabled=(a=k.disabled)!==null&&a!==void 0?a:z;const M=se(`${C}-wrapper`,{[`${C}-wrapper-checked`]:k.checked,[`${C}-wrapper-disabled`]:k.disabled,[`${C}-wrapper-rtl`]:l==="rtl",[`${C}-wrapper-in-form-item`]:_},m==null?void 0:m.className,c,d,E,R,U);return T(S.createElement(zc,{component:"Radio",disabled:k.disabled},S.createElement("label",{className:M,style:Object.assign(Object.assign({},m==null?void 0:m.style),y),onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,title:v},S.createElement(zv,Object.assign({},k,{className:se(k.className,{[mo]:!x}),type:"radio",prefixCls:C,ref:p})),h!==void 0?S.createElement("span",null,h):null)))},dn=S.forwardRef(Vv),Gv=S.forwardRef((t,r)=>{const{getPrefixCls:n,direction:a}=S.useContext(Ce),[s,u]=oc(t.defaultValue,{value:t.value}),f=O=>{const $=s,F=O.target.value;"value"in t||u(F);const{onChange:P}=t;P&&F!==$&&P(O)},{prefixCls:l,className:m,rootClassName:g,options:p,buttonStyle:_="outline",disabled:e,children:o,size:c,style:d,id:h,onMouseEnter:y,onMouseLeave:v,onFocus:b,onBlur:w}=t,x=n("radio",l),C=`${x}-group`,U=kn(x),[T,E,R]=tu(x,U);let k=o;p&&p.length>0&&(k=p.map(O=>typeof O=="string"||typeof O=="number"?S.createElement(dn,{key:O.toString(),prefixCls:x,disabled:e,value:O,checked:s===O},O):S.createElement(dn,{key:`radio-group-value-options-${O.value}`,prefixCls:x,disabled:O.disabled||e,value:O.value,checked:s===O.value,title:O.title,style:O.style,id:O.id,required:O.required},O.label)));const z=go(c),M=se(C,`${C}-${_}`,{[`${C}-${z}`]:z,[`${C}-rtl`]:a==="rtl"},m,g,E,R,U);return T(S.createElement("div",Object.assign({},Fc(t,{aria:!0,data:!0}),{className:M,style:d,onMouseEnter:y,onMouseLeave:v,onFocus:b,onBlur:w,id:h,ref:r}),S.createElement(Bv,{value:{onChange:f,value:s,disabled:t.disabled,name:t.name,optionType:t.optionType}},k)))}),Wv=S.memo(Gv);var Yv=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const qv=(t,r)=>{const{getPrefixCls:n}=S.useContext(Ce),{prefixCls:a}=t,s=Yv(t,["prefixCls"]),u=n("radio",a);return S.createElement(Lv,{value:"button"},S.createElement(dn,Object.assign({prefixCls:u},s,{type:"radio",ref:r})))},Kv=S.forwardRef(qv),Xt=dn;Xt.Button=Kv;Xt.Group=Wv;Xt.__ANT_RADIO=!0;function Hs(t){return["small","middle","large"].includes(t)}function Vs(t){return t?typeof t=="number"&&!Number.isNaN(t):!1}const ru=K.createContext({latestIndex:0}),Xv=ru.Provider,Zv=t=>{let{className:r,index:n,children:a,split:s,style:u}=t;const{latestIndex:f}=S.useContext(ru);return a==null?null:S.createElement(S.Fragment,null,S.createElement("div",{className:r,style:u},a),n<f&&s&&S.createElement("span",{className:`${r}-split`},s))};var Qv=function(t,r){var n={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(n[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(t);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(t,a[s])&&(n[a[s]]=t[a[s]]);return n};const Jv=S.forwardRef((t,r)=>{var n,a,s;const{getPrefixCls:u,space:f,direction:l}=S.useContext(Ce),{size:m=(n=f==null?void 0:f.size)!==null&&n!==void 0?n:"small",align:g,className:p,rootClassName:_,children:e,direction:o="horizontal",prefixCls:c,split:d,style:h,wrap:y=!1,classNames:v,styles:b}=t,w=Qv(t,["size","align","className","rootClassName","children","direction","prefixCls","split","style","wrap","classNames","styles"]),[x,C]=Array.isArray(m)?m:[m,m],U=Hs(C),T=Hs(x),E=Vs(C),R=Vs(x),k=ni(e,{keepEmpty:!0}),z=g===void 0&&o==="horizontal"?"center":g,M=u("space",c),[O,$,F]=Nc(M),P=se(M,f==null?void 0:f.className,$,`${M}-${o}`,{[`${M}-rtl`]:l==="rtl",[`${M}-align-${z}`]:z,[`${M}-gap-row-${C}`]:U,[`${M}-gap-col-${x}`]:T},p,_,F),L=se(`${M}-item`,(a=v==null?void 0:v.item)!==null&&a!==void 0?a:(s=f==null?void 0:f.classNames)===null||s===void 0?void 0:s.item);let D=0;const j=k.map((Q,Y)=>{var G,ee;Q!=null&&(D=Y);const ie=Q&&Q.key||`${L}-${Y}`;return S.createElement(Zv,{className:L,key:ie,index:Y,split:d,style:(G=b==null?void 0:b.item)!==null&&G!==void 0?G:(ee=f==null?void 0:f.styles)===null||ee===void 0?void 0:ee.item},Q)}),B=S.useMemo(()=>({latestIndex:D}),[D]);if(k.length===0)return null;const H={};return y&&(H.flexWrap="wrap"),!T&&R&&(H.columnGap=x),!U&&E&&(H.rowGap=C),O(S.createElement("div",Object.assign({ref:r,className:P,style:Object.assign(Object.assign(Object.assign({},H),f==null?void 0:f.style),h)},w),S.createElement(Xv,{value:B},j)))}),iu=Jv;iu.Compact=sg;let Ge=null,Zt=t=>t(),hi=[],pi={};function Gs(){const{getContainer:t,duration:r,rtl:n,maxCount:a,top:s}=pi,u=(t==null?void 0:t())||document.body;return{getContainer:()=>u,duration:r,rtl:n,maxCount:a,top:s}}const ey=K.forwardRef((t,r)=>{const{messageConfig:n,sync:a}=t,{getPrefixCls:s}=S.useContext(Ce),u=pi.prefixCls||s("message"),f=S.useContext(Ov),[l,m]=Lc(Object.assign(Object.assign(Object.assign({},n),{prefixCls:u}),f.message));return K.useImperativeHandle(r,()=>{const g=Object.assign({},l);return Object.keys(g).forEach(p=>{g[p]=function(){return a(),l[p].apply(l,arguments)}}),{instance:g,sync:a}}),m}),ty=K.forwardRef((t,r)=>{const[n,a]=K.useState(Gs),s=()=>{a(Gs)};K.useEffect(s,[]);const u=Ip(),f=u.getRootPrefixCls(),l=u.getIconPrefixCls(),m=u.getTheme(),g=K.createElement(ey,{ref:r,sync:s,messageConfig:n});return K.createElement(Lr,{prefixCls:f,iconPrefixCls:l,theme:m},u.holderRender?u.holderRender(g):g)});function On(){if(!Ge){const t=document.createDocumentFragment(),r={fragment:t};Ge=r,Zt(()=>{Mc(K.createElement(ty,{ref:n=>{const{instance:a,sync:s}=n||{};Promise.resolve().then(()=>{!r.instance&&a&&(r.instance=a,r.sync=s,On())})}}),t)});return}Ge.instance&&(hi.forEach(t=>{const{type:r,skipped:n}=t;if(!n)switch(r){case"open":{Zt(()=>{const a=Ge.instance.open(Object.assign(Object.assign({},pi),t.config));a==null||a.then(t.resolve),t.setCloseFn(a)});break}case"destroy":Zt(()=>{Ge==null||Ge.instance.destroy(t.key)});break;default:Zt(()=>{var a;const s=(a=Ge.instance)[r].apply(a,q(t.args));s==null||s.then(t.resolve),t.setCloseFn(s)})}}),hi=[])}function ry(t){pi=Object.assign(Object.assign({},pi),t),Zt(()=>{var r;(r=Ge==null?void 0:Ge.sync)===null||r===void 0||r.call(Ge)})}function iy(t){const r=po(n=>{let a;const s={type:"open",config:t,resolve:n,setCloseFn:u=>{a=u}};return hi.push(s),()=>{a?Zt(()=>{a()}):s.skipped=!0}});return On(),r}function ny(t,r){const n=po(a=>{let s;const u={type:t,args:r,resolve:a,setCloseFn:f=>{s=f}};return hi.push(u),()=>{s?Zt(()=>{s()}):u.skipped=!0}});return On(),n}const ay=t=>{hi.push({type:"destroy",key:t}),On()},oy=["success","info","warning","error","loading"],sy={open:iy,destroy:ay,config:ry,useMessage:zm,_InternalPanelDoNotUseOrYouWillBeFired:Pm},nu=sy;oy.forEach(t=>{nu[t]=function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return ny(t,n)}});const ly={"test1.mp4":"/video/demo/bunny_0.mp4","bear.mp4":"video/bear-vp9.mp4"},uy=()=>{const t=S.useRef({speed:1,isPlay:!1}),r=S.useRef(),n=async(s,u,f)=>{if(t.current.isPlay){nu.warning("...");return}const l=await fetch(ly[u]),m=new sd(l.body);await m.ready,a(s,m,f)},a=async(s,u,f)=>{if(t.current.isPlay=!0,s===1/0){let l=0;for(;;){const{state:m,video:g}=await u.tick(l);if(m==="done"){t.current.isPlay=!1,u.destroy();break}m==="success"&&g&&(f.clearRect(0,0,f.canvas.width,f.canvas.height),f.drawImage(g,0,0,g.codedWidth,g.codedHeight,0,0,f.canvas.width,f.canvas.height),g.close()),l+=33e3}u.destroy()}else{let l=performance.now();const m=setInterval(async()=>{const{state:g,video:p}=await u.tick(Math.round((performance.now()-l)*1e3)*s);if(g==="done"){clearInterval(m),t.current.isPlay=!1,u.destroy();return}g==="success"&&p&&(f.clearRect(0,0,f.canvas.width,f.canvas.height),f.drawImage(p,0,0,p.codedWidth,p.codedHeight,0,0,f.canvas.width,f.canvas.height),p.close())},1e3/30)}};return Pt.jsxs("div",{className:" w-[500px] h-[600px] flex-col flex gap-6 items-center justify-center absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:[Pt.jsx("canvas",{width:520,height:350,ref:s=>r.current=s==null?void 0:s.getContext("2d"),className:" w-[520px] h-[350px]"}),Pt.jsx(iu,{children:Pt.jsxs(Xt.Group,{defaultValue:t.current.speed,onChange:s=>t.current.speed=s.target.value,children:[Pt.jsx(Xt,{value:1,children:"1"}),Pt.jsx(Xt,{value:3,children:"3"}),Pt.jsx(Xt,{value:1/0,children:""}),Pt.jsx(_o,{onClick:()=>n(t.current.speed,"test1.mp4",r.current),children:""})]})})]})};export{uy as default};
